this.IMS=this.IMS||{},this.IMS.Config={socketIO:!1,staticUrl:"https://ims.mediacdn.vn/micro/widget/",mode:"production",usingCDN:!0,resources:{imsWidgets:{url:"https://ims.mediacdn.vn/micro/widgets/dist/ims-widgets.js"}},publicUrl:"https://emb1.cnnd.vn/"};
this.IMS=this.IMS||{},this.IMS.ConfigPlugins=this.IMS.ConfigPlugins||{},this.IMS.ConfigPlugins["lsv-embed"]={socketIO:!1,staticUrl:"https://ims.mediacdn.vn/micro/widget/",mode:"production",usingCDN:!0,resources:{imsWidgets:{url:"https://ims.mediacdn.vn/micro/widgets/dist/ims-widgets.js"}},publicUrl:"https://emb1.cnnd.vn/"};
window.IMS=window.IMS||{},window.IMS.Config=window.IMS.Config||{},window.IMS.Config.baseUrl=function(){var n=document.querySelector('[src*="dist/plugins/lsv-embed.js"]'),e=document.createElement("a");return e.href=n.getAttribute("src"),e.protocol+"//"+e.host+"/"}(),window.IMS.Config.baseAjaxUrl="https://emb1.cnnd.vn/",window.IMS.ConfigPlugins=window.IMS.ConfigPlugins||{},window.IMS.ConfigPlugins["lsv-embed"]=window.IMS.ConfigPlugins["lsv-embed"]||{},window.IMS.ConfigPlugins["lsv-embed"].baseUrl=function(){var n=document.querySelector('[src*="dist/plugins/lsv-embed.js"]'),e=document.createElement("a");return e.href=n.getAttribute("src"),e.protocol+"//"+e.host+"/"}(),window.IMS.ConfigPlugins["lsv-embed"].baseAjaxUrl="https://emb1.cnnd.vn/";
!function(i){window.IMS=window.IMS||{},window.IMS.Actions=i()}(function(){var IMS=window.IMS||{},Actions={ManagerModule:null,ResourceManager:null,Constant:null,CurrentMenu:"Menu_Unknow",StaticCache:{},requestTimeout:1e5,LogType:{Log:0,Error:1,Info:2,Warn:3,Debug:4,Alert:5},LoadCss:function(i,e){var n=this,t=[];Array.isArray(i)?t=i:t.push(i),"undefined"==typeof e&&(e=function(){});for(var o=t.length,a=0,d=0;d<t.length;d++){var l=t[d],s=IMS.Utils.Base64.encode(l);if(document.getElementById(s))a++,a==o&&e();else{var r=document.getElementsByTagName("head")[0],u=document.createElement("link");u.id=s,u.rel="stylesheet",u.type="text/css";var c=JSON.parse(JSON.stringify({baseUrl:IMS.Config.staticUrl})).baseUrl;c=IMS.Config.usingCDN&&("undefined"!=typeof c&&l.startsWith("statics")||l.startsWith("/statics")||l.startsWith("/dist"))?JSON.parse(JSON.stringify({baseUrl:IMS.Config.staticUrl})).baseUrl:JSON.parse(JSON.stringify({baseUrl:IMS.Config.baseUrl})).baseUrl,i.startsWith("http://")||i.startsWith("https://")||(l=c+l),l=l+"?v="+IMS.Config.version,u.href=l,u.onload=u.onreadystatechange=function(){a++,a==o&&e()},u.addEventListener("error",function(){n.Log("load css error: "+l,n.LogType.Error),a++,a==o&&e()}),u.media="all",r.appendChild(u)}}},LoadJs:function(urlObj,callback){function loadJs(i){var e=IMS.Utils.Base64.encode(i),n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.id=e,t.type="text/javascript";var o=JSON.parse(JSON.stringify({baseUrl:IMS.Config.staticUrl})).baseUrl;o=IMS.Config.usingCDN&&("undefined"!=typeof o&&i.startsWith("statics")||i.startsWith("/statics")||i.startsWith("/dist"))?JSON.parse(JSON.stringify({baseUrl:IMS.Config.staticUrl})).baseUrl:JSON.parse(JSON.stringify({baseUrl:IMS.Config.baseUrl})).baseUrl,i.startsWith("http://")||i.startsWith("https://")||(i=o+i),i=i+"?v="+IMS.Config.version,t.src=i,t.onload=t.onreadystatechange=function(){callback()},t.addEventListener("error",function(){callback()}),n.appendChild(t)}var self=this,url=urlObj.url,objectJs=urlObj.objectJs;"undefined"==typeof callback&&(callback=function(){}),"undefined"==typeof window[objectJs]&&eval("typeof "+objectJs+" == 'undefined'")?loadJs(url):callback()},LoadResource:function(i,e){function n(){if(o.length>0){var i=o.pop();"string"==typeof i?t.LoadCss(i,function(){n(),d++,d==a&&e()}):t.LoadJs(i,function(){n(),d++,d==a&&e()})}}var t=this,o=[];Array.isArray(i)?o=i.slice():o.push(i),"undefined"==typeof e&&(e=function(){});var a=o.length,d=0;o=o.reverse(),n()},Popup:function(i){void 0==i.title&&(i.title=""),void 0==i.width&&(i.width=500),void 0==i.stack&&(i.stack=!1),void 0==i.zIndex&&(i.zIndex=9999),void 0==i.height&&(i.height=300),void 0==i.autoClose&&(i.autoClose=!0),void 0==i.modal&&(i.modal=!0),void 0==i.draggable&&(i.draggable=!0),void 0==i.closeOnEscape&&(i.closeOnEscape=!0),void 0==i.dialogClass&&(i.dialogClass=""),void 0==i.onOpen&&(i.onOpen=function(i,e){}),void 0==i.onClose&&(i.onClose=function(i,e){}),void 0!=i.objContainer&&""!=i.objContainer||(i.objContainer="#cms_bm_block_messagebox"),void 0!=i.skin&&""!=i.skin||(i.skin="default"),$(i.objContainer).length<=0?$("body").append('<div id="'+i.objContainer.substr(1)+'" style="display:none; overflow-x:hidden; overflow-y:auto;" title="'+i.title+'"></div>'):($(i.objContainer).css({display:"none","overflow-x":"hidden","overflow-y":"auto"}),$(i.objContainer).attr("title",i.title)),void 0==i.buttons&&(i.buttons={"Đóng":function(){$(this).dialog("close")}}),$(i.objContainer).dialog({zIndex:i.zIndex,width:i.width,height:i.height,resizable:!1,dialogClass:i.dialogClass,modal:i.modal,closeOnEscape:i.closeOnEscape,draggable:i.draggable,buttons:i.buttons,stack:i.stack,beforeclose:function(){if(i.autoClose)return!0;var e=this;return Actions.Confirm("Bạn có chắc chắn đóng cửa sổ không?",function(){$(e).dialog("close")}),!1},close:function(){void 0!=i.cb&&i.cb(),i.onClose(),$(this).dialog(),$(this).empty(),$(this).dialog("destroy")},open:function(){$(i.objContainer).parents(".ui-dialog").find(".ui-dialog-titlebar").addClass("IMSWidgetFlatPopupTitleBar"),$(i.objContainer).parents(".ui-dialog").find(".ui-dialog-buttonpane").addClass("IMSWidgetFlatPopupButtonBar"),$(i.objContainer).parents(".ui-dialog").find(".ui-dialog-buttonpane .ui-button").addClass("IMSBtn IMSMedium"),$(i.objContainer).parents(".ui-dialog").find(".ui-dialog-buttonset button").addClass("IMSBtn IMSMedium"),$(i.objContainer).parents(".ui-dialog").addClass("IMSWidgetFlatPopupBorder");var e=0;$.each(i.buttons,function(n,t){$(i.objContainer).parents(".ui-dialog").find(".ui-dialog-buttonset button:eq("+e+")").html(n),e++}),i.onOpen(i.objContainer)}}),$(i.objContainer).dialog("open"),void 0!=i.noHeader&&i.noHeader&&$(i.objContainer).parent().find(".ui-dialog-titlebar").remove(),void 0!=i.noFooter&&i.noFooter&&$(i.objContainer).parent().find(".ui-dialog-buttonpane").remove(),void 0!=i.HtmlBinding&&"function"==typeof i.HtmlBinding&&i.HtmlBinding(i.objContainer),void 0==i.autoScroll&&(i.autoScroll=!0),i.autoScroll&&$(i.objContainer).slimScroll({height:$(i.objContainer).outerHeight(),width:$(i.objContainer).outerWidth()}),void 0!=i.closeOutWay&&i.closeOutWay&&$(".ui-widget-overlay").on("click",function(){$("body").removeClass("overflow-hidden"),$(i.objContainer).dialog("close")})},Log:function(i,e){"undefined"!=typeof cms_client_debug_mode&&1==parseInt(cms_client_debug_mode)&&"undefined"!=typeof console&&("undefined"==typeof e&&(e=Actions.LogType.Info),e==Actions.LogType.Log?console.log(i):e==Actions.LogType.Info?console.info(i):e==Actions.LogType.Warn?console.warn(i):e==Actions.LogType.Error?console.error(i):e==Actions.LogType.Debug?console.debug(i):e==Actions.LogType.Alert&&alert(i))},StartLoadingTimeout:null,ShowLoadingOverlay:function(i){if("string"==typeof i&&(i=i.replace("#",""),i=document.getElementById(i)),null!=i&&"undefined"!=typeof i){var e=document.getElementById("IMSLoadingOverlay");e&&e.remove();var n=document.createElement("div");n.innerHTML='<div style="border-radius: 5px; width: 160px; height: 80px; position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: auto; color: rgb(255, 255, 255); text-align: center; box-sizing: border-box; padding-top: 55px; background: url('+IMS.Config.staticUrl+'statics/images/video-loading.gif) no-repeat scroll center 15px / auto 40% rgb(30, 30, 30);">Đang tải dữ liệu...</div>',n.id="IMSLoadingOverlay",n.style.position=i?"absolute":"fixed",n.style.top=0,n.style.left=0,n.style.height="100%",n.style.width="100%",n.style.backgroundColor="rgba(30, 30, 30, 0.9)",n.style.zIndex="999999999999999","undefined"!=typeof i?i.appendChild(n):document.body.appendChild(n)}},HideLoadingOverlay:function(){var i=document.getElementById("IMSLoadingOverlay");null!=i&&"undefined"!=typeof i&&document.getElementById("IMSLoadingOverlay").remove()},StartLoading:function(){function i(){$("#IMSLoadingWrapper").css({width:$(window).width(),height:$(window).height()}),$("#IMSLoadingContent").css({margin:$(window).height()/2-30+"px auto"})}if(i(),0==$("#IMSLoadingWrapper").length){var e=!1,n='<div id="IMSLoadingWrapper"><div id="IMSLoadingContent"><div id="IMSLoading"><div id="IMSLoading_1" class="IMSLoading"> Đ</div><div id="IMSLoading_2" class="IMSLoading"> a</div><div id="IMSLoading_3" class="IMSLoading"> n</div><div id="IMSLoading_4" class="IMSLoading"> g</div><div id="IMSLoading_5" class="IMSLoading"> &nbsp; </div><div id="IMSLoading_6" class="IMSLoading"> t</div><div id="IMSLoading_7" class="IMSLoading"> ả</div><div id="IMSLoading_8" class="IMSLoading"> i</div><div id="IMSLoading_9" class="IMSLoading"> &nbsp; </div><div id="IMSLoading_10" class="IMSLoading"> d</div><div id="IMSLoading_11" class="IMSLoading"> ữ</div><div id="IMSLoading_12" class="IMSLoading"> &nbsp; </div><div id="IMSLoading_13" class="IMSLoading"> l</div><div id="IMSLoading_14" class="IMSLoading"> i</div><div id="IMSLoading_15" class="IMSLoading"> ệ</div><div id="IMSLoading_16" class="IMSLoading"> u</div><div id="IMSLoading_17" class="IMSLoading"> .</div><div id="IMSLoading_18" class="IMSLoading"> .</div><div id="IMSLoading_19" class="IMSLoading"> .</div></div></div></div>';Actions.StartLoadingTimeout=setTimeout(function(){$("body").append(n),e&&$("#IMSLoadingWrapper").off("click").on("click",function(){Actions.Popup({title:"Tiến trình đang chạy",height:200,width:400,"z-index":9999999,objContainer:"#IMSProcessEndConfirm",buttons:{"Tiếp tục chờ":function(){var i=$(this);i.dialog("close")},"Đóng":function(){Actions.StopLoading(),$(this).dialog("close")}},HtmlBinding:function(i){var e="Tác vụ đang được thực thi, bạn muốn tiếp tục chờ?";$(i).html(e)}})}),i()},0)}$(window).resize(function(){i()})},StopLoading:function(){clearTimeout(Actions.StartLoadingTimeout),$("#IMSLoadingWrapper").fadeOut(function(){$("#IMSProcessEndConfirm").dialog("close"),$(this).remove()})},ShowOverlay:function(i,e,n,t){function o(o){o?($("#IMSOverlayContent").css({width:"auto"}),$("#IMSOverlayContent").css({"margin-right":0})):($("#IMSOverlayWrapper").show(),$("#IMSOverlayContent").css({width:0,"margin-right":t}));var a=$(window).width(),d=$(window).height();if($("#IMSOverlayWrapper").css({width:a,height:d,"z-index":1e3,top:46,left:0,background:"transparent",position:"fixed"}),$("#IMSOverlayContent").css({height:d-46}),$("#IMSOverlayClose").off("click").on("click",function(){"undefined"!=typeof Actions&&"undefined"!=typeof Actions.CloseOverlay?Actions.CloseOverlay(n):("undefined"!=n&&null!=n&&"function"==typeof n&&n(),$("#IMSOverlayContent").animate({width:0},500,function(){$(this).empty(),$("#IMSOverlayWrapper").hide().removeAttr("style"),$("#IMSOverlayContent").hide().removeAttr("style")}))}),!o)if("undefined"!=typeof i){$("#IMSOverlayContent").html(i);var l=0;$("#IMSOverlayContent").show().children().each(function(){l+=$(this).outerWidth(!0)}),$("#IMSOverlayContent").animate({width:l},500,function(){void 0!=e&&null!=e&&"function"==typeof e&&e()})}else void 0!=e&&null!=e&&"function"==typeof e&&e()}return"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=function(){}),$(window).off("keyup").on("keyup",function(i){27==i.keyCode&&Actions.CloseOverlay(n)}),$("#IMSOverlayWrapper.ClickOverlayClose").off("click").on("click",function(i){"IMSOverlayContent"!=$(i.target).attr("id")&&0==$(i.target).parents("#IMSOverlayContent").length&&$(i.target).parents("body").length>0&&Actions.CloseOverlay(n)}),o(!1),$(window).resize(function(){o(!0)}),$("#IMSOverlayWrapper")},CloseOverlay:function(i,e){"undefined"==typeof e&&(e=!1),"undefined"!=i&&null!=i&&"function"==typeof i&&(e||i()),$("#IMSOverlayContent").animate({width:0},500,function(){$(this).empty(),$("#IMSOverlayWrapper").hide().removeAttr("style"),$("#IMSOverlayContent").hide().removeAttr("style"),e&&i()})},ShowOverlayFull:function(i){Actions.CloseOverlayFull();var e={content:"Popup chưa có nội dung",width:500,height:function(){return $(window).height()},onOpen:function(i){},onClose:function(){},title:""};$.extend(!0,e,i);var n=$('<div id="IMSFullOverlayWrapper"><div id="IMSFullOverlayInner"><h1 id="IMSFullOverlayTitle">'+e.title+'<span id="IMSFullOverlayClose"></span></h1><div id="IMSFullOverlayMainContent"><div id="IMSFullOverlayMainContentHtml"></div></div></div></div>'),t="function"==typeof e.height?e.height():e.height,o=t-20-30;$("#IMSFullOverlayMainContent",n).css({width:e.width,height:o}),$("#IMSFullOverlayTitle",n).css({width:e.width+20}),$("#IMSFullOverlayClose",n).off("click").on("click",function(){$(this).parents("#IMSFullOverlayWrapper").slideUp("fast",function(){e.onClose(),$("#IMSFullOverlayWrapper").empty(),$("#IMSFullOverlayWrapper").remove()})}),$("#IMSFullOverlayMainContentHtml",n).html(e.content),$("body").append(n),$("#IMSFullOverlayInner").css({"margin-top":($(window).height()-t)/2+"px"}),e.onOpen("#IMSFullOverlayMainContent")},CloseOverlayFull:function(i){$("#IMSFullOverlayWrapper").slideUp(500,function(){$(this).empty(),$(this).remove(),"undefined"!=i&&null!=i&&"function"==typeof i&&i()})},MessageBox:function(i,e,n){"undefined"==typeof e&&(e="Thông báo");var t="#cms_bm_block_messagebox";$(t).length<=0?$("body").append('<div id="'+t.substr(1)+'" style="display:none;" title="'+e+'"></div>'):$(t).removeAttr("title").attr("title",e),$(t).dialog({modal:!0,resizable:!1,stack:!1,zIndex:99999999,buttons:{"Đồng ý":function(){$(this).dialog("close"),void 0!=n&&"function"==typeof n&&n(),Actions.HideLoadingOverlay()}},close:function(){$(t).empty(),$(this).dialog("destroy"),void 0!=n&&"function"==typeof n&&n()},open:function(){$(t).parents(".ui-dialog").find(".ui-dialog-titlebar").addClass("IMSWidgetFlatPopupTitleBar"),$(t).parents(".ui-dialog").find(".ui-dialog-buttonpane").addClass("IMSWidgetFlatPopupButtonBar"),$(t).parents(".ui-dialog").find(".ui-dialog-buttonpane .ui-button").addClass("IMSBtn IMSMedium"),$(t).parents(".ui-dialog").find(".ui-dialog-buttonset button").addClass("IMSBtn IMSMedium"),$(t).parents(".ui-dialog").addClass("IMSWidgetFlatPopupBorder")}}),$(t).dialog("open"),$(t).html(i)},Confirm:function(i,e,n,t,o){"undefined"==typeof o&&(o={skin:""}),"undefined"==typeof t&&(t=!0);var a="#IMSConfirmContent";$(a).length<=0?$("body").append('<div id="'+a.substr(1)+'" style="display:none;" title="Xác nhận"></div>'):$(a).removeAttr("title").attr("title","Xác nhận"),$(a).dialog({modal:!0,zIndex:9999,resizable:!1,stack:!1,buttons:{"Đồng ý":function(){t&&$(this).dialog("close"),"undefined"!=typeof e&&e()},"Bỏ qua":function(){$(this).dialog("close"),"undefined"!=typeof n&&n()}},close:function(){$(a).empty(),$(this).dialog("destroy")},open:function(){$(a).parents(".ui-dialog").find(".ui-dialog-titlebar").addClass("IMSWidgetFlatPopupTitleBar"),$(a).parents(".ui-dialog").find(".ui-dialog-buttonpane").addClass("IMSWidgetFlatPopupButtonBar"),$(a).parents(".ui-dialog").find(".ui-dialog-buttonpane .ui-button").addClass("IMSBtn IMSMedium"),$(a).parents(".ui-dialog").find(".ui-dialog-buttonset button").addClass("IMSBtn IMSMedium"),$(a).parents(".ui-dialog").addClass("IMSWidgetFlatPopupBorder")}}),$(a).dialog("open"),$(a).html(i)},CurrentToken:"",Post:function(i){function e(){$.ajax({type:"POST",url:a,data:n,xhrFields:{withCredentials:!0},crossDomain:!0,dataType:"json",success:function(e){return null!=e&&void 0!=e&&void i.success(e)},error:function(e,n,o){void 0!=i.error&&"function"==typeof i.error?i.error(e):"timeout"===n&&t&&Actions.Confirm("Thời gian xử lý quá lâu, bạn có muốn thử lại không?",function(){Actions.Post(i)})},timeout:void 0!=i.timeout?i.timeout:Actions.requestTimeout})}var n={module:i.module,action:i.action};"undefined"==typeof i.params&&(i.params={});var t=!!i.isShowTimeoutMessage&&i.isShowTimeoutMessage,o=void 0==i.postObject||i.postObject;o?void 0!=i.params&&"object"==typeof i.params&&(n=$.extend(n,i.params)):void 0!=i.params&&(n=$.param(n)+"&"+i.params);var a=void 0!=i.url&&""!=i.url?i.url:IMS.Config.baseAjaxUrl+"api/"+(void 0==i.ashx?"/plugin-request":i.ashx);e()},Waiting:function(i,e,n,t){if("undefined"==typeof e||""==e)var e="#cms_bm_block_messagebox";if("undefined"==typeof i||""==i)var i="Hệ thống đang xử lý dữ liệu, xin đợi chút xíu...";if("undefined"==typeof n||""==n)var n="Thông báo";if("undefined"==typeof t)var t=!0;$(e).length<=0&&$("body").append('<div id="'+e.replace("#","")+'" style="display:none;" title="'+n+'"></div>');var o={};t&&(o={"Đóng":function(){return $(e).dialog("close"),!0}}),$(e).dialog({modal:!0,resizable:!1,buttons:o,zIndex:99999999,beforeclose:function(){return t},close:function(){$(e).empty(),$(this).dialog().dialog("destroy")},open:function(){$(e).parents(".ui-dialog").find(".ui-dialog-titlebar").addClass("IMSWidgetFlatPopupTitleBar"),$(e).parents(".ui-dialog").find(".ui-dialog-buttonpane").addClass("IMSWidgetFlatPopupButtonBar"),$(e).parents(".ui-dialog").find(".ui-dialog-buttonpane .ui-button").addClass("IMSBtn IMSMedium"),$(e).parents(".ui-dialog").find(".ui-dialog-buttonset button").addClass("IMSBtn IMSMedium"),$(e).parents(".ui-dialog").addClass("IMSWidgetFlatPopupBorder")}}),$(e).dialog("open"),$(e).html(i+'<br /><br /><center><img src="'+IMS.Config.baseUrl+'statics/images/loading.gif" /></center>')},ViewJSON:function(i){function e(i){try{var e=jsonlint.parse(i);if(e){$("#IMSJsonViewerMsg").html("JSON chuẩn!"),$("#IMSJsonViewerMsg").css({color:"green"});var n=JSON.stringify(e,null,"  ");$("#IMSJsonViewerSource").val(n);for(var t=$("#IMSJsonViewerSource").val().split("\n"),o="",a=0;a<t.length;a++)o+="<li>"+(a+1)+"</li>"}}catch(d){$("#IMSJsonViewerMsg").html(d),$("#IMSJsonViewerMsg").css({color:"red"})}}var n=this;n.Popup({title:"IMS JSON VIEWER",height:$(window).height()-100,width:760,objContainer:"#IMSJsonViewer",buttons:{Format:function(){e($("#IMSJsonViewerSource").val())},"Đóng":function(){$(this).dialog("close")}},HtmlBinding:function(n){var t='<div style="font-family:monospace; font-size:13px;"><ul id="IMSJsonViewerLine" style="display:inline-block; width:30px; float:left;"></ul><textarea spellcheck="false" id="IMSJsonViewerSource" style="border:solid 1px #ccc; padding:5px; width:700px;font-family:monospace;"></textarea><pre id="IMSJsonViewerMsg" style="height:70px; padding:5px; overflow:auto; border:solid 1px #ccc; background:#fff; width:700px; margin-top:5px;"></pre></div>';if($(n).html(t),$("#IMSJsonViewerSource").css({height:$("#IMSJsonViewer").height()-120}),"object"==typeof i&&""!=i&&null!=i){var o=[];i=JSON.stringify(i,function(i,e){if(null!=e&&"object"==typeof e){if(o.indexOf(e)>=0)return;o.push(e)}return e})}"string"==typeof i&&""!=i&&($("#IMSJsonViewerSource").val(i),e($("#IMSJsonViewerSource").val()))}})}};return Actions});
!function(){function n(n,i){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var n=JSON.parse(e.responseText);i(n)}},e.open("GET",n),e.send()}function i(n,i,e){document.cookie=n+"="+i+"; expires="+e+"; path=/"}function e(n){var i,e=document.cookie,s=[];return""!==e&&(s=e.split(";").map(function(n){return n.trim()}),i=s.find(function(i){return i.split("=")[0].trim()===n}),"undefined"!=typeof i&&(i=i.split("=")[1].trim())),i}e("ims-plugins-version")&&(IMS.Config.version=e("ims-plugins-version"),IMS.ConfigPlugins["lsv-embed"].version=e("ims-plugins-version")),n(IMS.ConfigPlugins["lsv-embed"].staticUrl+"dist/app.json",function(n){IMS.Config.version=n.version,IMS.ConfigPlugins["lsv-embed"].version=n.version,i("ims-plugins-version",n.version)})}();
function list_movedown(t){var e=t.selectedIndex;if(e>=0&&e<=t.length-2){var n=t.options[e].text,o=t.options[e].value,i=t.options[e+1].disabled;t.options[e]=new Option(t.options[e+1].text,t.options[e+1].value),t.options[e+1]=new Option(n,o),t.selectedIndex=e+1,t.options[e].disabled=i}}function decimalAdjust(t,e,n){return"undefined"==typeof n||0===+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!==0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+n:n))))}function list_moveup(t){var e=t.selectedIndex;if(e>=1){var n=t.options[e].text,o=t.options[e].value,i=t.options[e-1].disabled;t.options[e]=new Option(t.options[e-1].text,t.options[e-1].value),t.options[e-1]=new Option(n,o),t.selectedIndex=e-1,t.options[e].disabled=i}}function list_remove(t){var e=t.selectedIndex;e>=0&&(t[e].disabled||(t.remove(e),t.options.length==e?t.selectedIndex=e-1:t.selectedIndex=e))}function list_removeByValue(t,e){$.each(t.options,function(t,n){$(n).text().toLowerCase()!=e.toLowerCase()||n.disabled||$(n).remove()})}function list_removeAllItem(t){t.options.length=0}function list_append(t,e){var n=0,o=$(e).val();""!=o&&($.each(t.options,function(t,e){$(e).text().toLowerCase()==o.toLowerCase()&&n++}),n<=0&&(t.options[t.options.length]=new Option(o,0))),$(e).val(""),$(e).focus()}function list_add(t,e,n,o){"undefined"==typeof o&&(o=!1);var i=0;""!=e&&($.each(t.options,function(t,n){$(n).text().toLowerCase()==e.toLowerCase()&&i++}),i<=0&&(t.options[t.options.length]=new Option(e,n),t.options[t.options.length-1].disabled=o))}function getNameOnly(t){var e=t.lastIndexOf("/")+1;return t=t.substr(e),t.replace(/.[^.]+$/,"")}function getExtentionOnly(t){return t.split(".").pop()}function ResizeEmbed(t,e,n){void 0==t&&(t="");var o='[\\s]width="([^"]*)',i='[\\s]height="([^"]*)',r=t;try{""!=r&&(r=r.replace(new RegExp(o,"g"),' width="'+e),r=r.replace(new RegExp(i,"g"),' height="'+n))}catch(p){r=""}return void 0==r&&(r=""),r}function RemoveUnicode(t){return t=t.toLowerCase(),t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-"),t=t.replace(/-+-/g,"-"),t=t.replace(/^\-+|\-+$/g,""),t=t.replace(/[&\/\\#,+()$~%.'":*?<>{};=_!]/g,"-")}function ReplaceEmbed(t){void 0==t&&(t="");var e=t;try{""!=e&&(e=e.replace(/\\+/g,""))}catch(n){e=""}return void 0==e&&(e=""),e}if(String.prototype.format=function(){var t=this,e=arguments.length;if(e<1)return t;for(var n=0;n<e;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gi"),arguments[n]);return t},String.prototype.ltrim=function(){return this.replace(/\s*((\S+\s*)*)/,"$1")},String.prototype.rtrim=function(){return this.replace(/((\s*\S+)*)\s*/,"$1")},String.prototype.trim=function(){return this.ltrim().rtrim()},String.prototype.format=function(){var t=this,e=arguments.length;if(e<1)return t;for(var n=0;n<e;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gi"),arguments[n]);return t},String.prototype.replaceParams=function(o){return this.replace(/{{2}([^{}]*)}{2}/g,function(a,b){try{var r=eval("o."+b);return"string"==typeof r||"number"==typeof r?r:a}catch(e){return""}})},String.prototype.wordWrap=function(t,e,n){var o,i,r,p,s;if(t<1)return this;for(o=-1,r=(s=this.split("\n")).length;++o<r;s[o]+=p)for(p=s[o],s[o]="";p.length>t;s[o]+=p.slice(0,i)+((p=p.slice(i)).length?e:""))i=2==n||(i=p.slice(0,t+1).match(/\S*(\s)?$/))[1]?t:i.input.length-i[0].length||1==n&&t||i.input.length+(i=p.slice(t).match(/^\S*/)).input.length;return s.join("\n")},Array.prototype.removeAt=function(t){var e=this[t];return e&&this.splice(t,1),e},Array.prototype.swapped=function(t,e){this[t]=this.splice(e,1,this[t])[0]},"function"!=typeof String.prototype.startsWith)try{String.prototype.startsWith=function(t){return 0==this.indexOf(t)}}catch(e){}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),Math.round10||(Math.round10=function(t,e){return decimalAdjust("round",t,e)}),Math.floor10||(Math.floor10=function(t,e){return decimalAdjust("floor",t,e)}),Math.ceil10||(Math.ceil10=function(t,e){return decimalAdjust("ceil",t,e)});
!function(n){window.IMS=window.IMS||{},window.IMS.GetConfigData=n()}(function(){var n=window.IMS||{},e={init:function(e,t){if(n.ChannelName||(n.ChannelName=e.nameSpace.toLowerCase()),n.Current_UserName||(n.Current_UserName=e.userName),n.GetChannelTokenFunction||(n.GetChannelTokenFunction=e.getTokenFunction),n.SettingConfig)return void t();var o=this,a=function(e){n.Actions.Post({params:{token:""},module:"photo-manager",ashx:"plugin-request",action:"check-token",success:function(t){t.error?n.Actions.MessageBox(t.message):"function"==typeof e&&e(t.data)}})},i=function(e,t){n.Actions.Post({params:{channel_id:e,merged:1},module:"config-manager",ashx:"plugin-request",action:"get-channel-info",success:function(e){console.log(e),e.error?n.Actions.MessageBox(e.message):"function"==typeof t&&t(e.data)}})};o.data?(n.SettingConfig=o.data,"function"==typeof t&&t()):(n.GetChannelTokenFunction||(n.GetChannelTokenFunction=function(n){n("")}),"photo-editor"!=e.type&&"svg-manager"!=e.type||"function"==typeof t&&t(),"photo-editor"==e.type||"svg-manager"==e.type?"function"==typeof t&&t():"photo-manager"==e.type&&a(function(e){n.ChannelId=e.channel_id,n.Current_ApplicationId=e.application_id,i(n.ChannelId,function(e){var a=e.data;o.data=a,n.SettingConfig=a,"function"==typeof t&&t()})}))}};return e});
!function(e){window.IMS=window.IMS||{},window.IMS.Socket=e()}(function(){var e=window.IMS||{},n={init:function(n){var o=this,t=n.moduleName;o[t]={},o[t].listen=n.listen,o[t].getTokenFunction=n.getTokenFunction,o[n.moduleName].getTokenFunction(function(u){o[t].currentToken=u,o[t].socket=io(e.Config.baseUrl,{query:"module="+t+"&token="+o[n.moduleName].currentToken+"&userName="+n.userName}),o[t].socket.on("unauthorized",function(e){console.log(e),o.login(n)}),o[t].listen(o[t].socket)})},login:function(e){var n=this;n[e.moduleName].getTokenFunction(function(o){n[e.moduleName].currentToken=o,n[e.moduleName].socket.emit("login",{token:n[e.moduleName].currentToken,userName:e.userName,module:e.moduleName})})}};return n});
!function(e){window.IMS=window.IMS||{},window.IMS.UIHelper=e()}(function(){var e=window.IMS||{},t={};return t.Thumb_W=function(e,t,a){if(""!=t&&null!=t){if(0==t.indexOf("http://")||0==t.indexOf("https://"))return t;var n=(a.HOST_IMS_THUMB+"/thumb_w/"+e+(0==t.indexOf("/")?"":"/")+t).replace(/\/\//g,"/").replace("http:/","http://").replace("https:/","https://");return n}},t.Thumb_W_V2=function(e,t,a){if(""!=t&&null!=t){if(0==t.indexOf("http://")||0==t.indexOf("https://"))return t;var n=a.HOST_IMS_THUMB.lastIndexOf("/")==a.HOST_IMS_THUMB.length-1?"thumb_w/":"/thumb_w/",l=(a.HOST_IMS_THUMB+n+e+(0==t.indexOf("/")?"":"/")+t).replace(/\/\//g,"/").replace("http:/","http://").replace("https:/","https://");return t.indexOf(".gif",t.length-".gif".length)!==-1&&(l+=".png"),l}},t.BuildRealImageUrl=function(e,t,a){return void 0==t&&(t=""),null!=e&&e+""!=""?a.HOST_IMS_THUMB+"/"+e:""==t?a.IMS_HOST_AVATAR+"/images/avatar1.gif":a.HOST_BOOKMARK+t},t.trimByWord=function(e,t,a,n){Number(t)<0&&(t=10);var l="",r=e.trim().split(" ");if(r.length>Number(t)){for(var i=0;i<Number(t);i++)l+=r[i]+" ";l+=a}else l=e;return l},t.FormatThumb=function(e,t,a,n,l,r){if("undefined"==typeof n&&(n=null),"undefined"!=typeof l&&null!=l||(l=""),"undefined"==typeof a||null==a)return"";var i=null==n?r.HOST_IMS_THUMB_FORMAT?r.HOST_IMS_THUMB_FORMAT:"":n,o=r.FILE_MANAGER_HTTPDOWNLOAD?r.FILE_MANAGER_HTTPDOWNLOAD:"";return a.startsWith("http://")||a.startsWith("https://")?a.indexOf(o)>-1&&""!=i?i.format(e,t)+"/"+a.replace(o,""):a:""!=i?i.format(e,t)+"/"+a.replace(o,""):a},t.GetOnlyDate=function(e,t){"undefined"==typeof t&&(t=null);var a=new Date(Number(e));if(null==t)return"{0}/{1}/{2}".format(a.getDate(),a.getMonth()+1,a.getFullYear());var n="{0}"+t+"{1}"+t+"{2}";return n.format(a.getDate(),a.getMonth()+1,a.getFullYear())},t.Thumb_W_for_Video=function(t,a,n){var l=n.VIDEO_MANAGER_THUMBSERVER;if(""==a||null==a||"null"==a||void 0==a||"undefined"==a)return e.Config.staticUrl+"statics/images/default-no-image.png";a=a.replace(/thumb_w\/\w+\//,"");var r="";if(a.startsWith("http://")||a.startsWith("https://"))if(a.startsWith(l))r=l+"thumb_w/"+t+(a.startsWith("/")?"":"/")+a.replace(l,"");else{var i=document.createElement("a");i.href=a;var o=i.protocol+"//"+i.host+"/";r=o+"thumb_w/"+t+(a.startsWith("/")?"":"/")+a.replace(o,"")}else r=n.VIDEO_MANAGER_THUMBSERVER+"/thumb_w/"+t+(a.startsWith("/")?"":"/")+a;return r=r.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://")},t.BuildRealImageUrlForVideo=function(e,t,a){if("undefined"!=typeof t&&null!=t||(t=""),"undefined"==typeof e||null==e)return"";var n=a.VIDEO_MANAGER_THUMBSERVER,l=e;return l.startsWith("http://")?l:null!=e&&e+""!=""?n+e:""==t?a.HOST_STATIC+"/images/avatar1.gif":a.HOST_BOOKMARK+t},t.FormatFileSize=function(e){var t=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Byte";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,a),2)+" "+t[a]},t.BuildVideoEmbedCode=function(e,t,a,n,l,r,i){"undefined"!=typeof n&&null!=n||(n=""),"undefined"!=typeof r&&null!=r||(r=""),"undefined"!=typeof l&&null!=l||(l=!1),"undefined"!=typeof i&&null!=i||(i=!1);var o="",u=i?"&tag=false":"",s=e+"",p="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",d="http://vscc.hosting.vcmedia.vn/media/{0}".format(e);return o+='<object width="{0}" height="{1}" classid="{3}" id="{2}">'.format(t,a,s,p),o+='<param name="wmode" value="opaque">',o+='<param name="movie" value="{0}">',d,o+='<param name="allowFullScreen" value="true">',o+='<param name="flashvars" value="videotag=true&autostart={0}&image={1}{2}{3}">'.format((l+"").toLowerCase(),n,"",u),o+='<param name="allowscriptaccess" value="always">',o+='<param name="bgcolor" value="#000000">',o+='<embed width="{0}" height="{1}"  src="{2}"  id="{3}" name="{3}" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="opaque" flashvars="videotag=true&autostart={4}&image={5}{6}{7}" bgcolor="#000000" quality="high"></object>'.format(t,a,d,s,(l+"").toLowerCase(),n,"",u)},t.BuildVideoEmbed=function(e,a,n,l,r,i,o,u,s){"undefined"!=typeof i&&null!=i||(i=""),"undefined"!=typeof u&&null!=u||(u=""),"undefined"!=typeof o&&null!=o||(o=!1),"undefined"!=typeof s&&null!=s||(s=0),"undefined"!=typeof r&&null!=r||(r=!1);var p=parseInt(e.VIDEO_MANAGER_EMBED_TYPE),d="";return d=1==p?t.BuildVideoEmbedCode(a,n,l,i,o,u,r):2==p?t.BuildVideoEmbedCodeIframe(a,n,l,i,s,r):t.BuildVideoEmbedCode(a,n,l,i,o,u,r)},t.BuidLinkVideo=function(e,t){return e.VIDEO_SHARING_DOWNLOAD+e.VIDEO_MANAGER_UPLOAD_NAMESPACE+"/"+t},t.GetPhotoUrlOriginal=function(e){return e=e.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://"),e=e.replace(/thumb_w\/[0-9]*\//g,""),e=e.replace(/thumb_h\/[0-9]*\//g,""),e=e.replace(/zoom\/[0-9]*[_][0-9]*\//g,""),e=e.replace(/crop\/[0-9]*,[0-9]*_[0-9]*,[0-9]*\//g,"")},t.BuildUrlZoom=function(t,a,n,l){var r=l.VIDEO_MANAGER_THUMBSERVER;if(""==n||null==n||"null"==n||void 0==n||"undefined"==n)return e.Config.staticUrl+"statics/images/default-no-image.png";n=this.GetPhotoUrlOriginal(n);var i="";if(n.startsWith("http://")||n.startsWith("https://"))if(n.startsWith(r))i=r+"zoom/"+t+"_"+a+(n.startsWith("/")?"":"/")+n.replace(r,"");else{var o=document.createElement("a");o.href=n;var u=o.protocol+"//"+o.host+"/";i=u+"zoom/"+t+"_"+a+(n.startsWith("/")?"":"/")+n.replace(u,"")}else i=l.VIDEO_MANAGER_THUMBSERVER+"zoom/"+t+"_"+a+(n.startsWith("/")?"":"/")+n;return i=i.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://")},t.BuildUrlThumbW=function(t,a,n){var l=n.VIDEO_MANAGER_THUMBSERVER;if(""==a||null==a||"null"==a||void 0==a||"undefined"==a)return e.Config.staticUrl+"statics/images/default-no-image.png";a=this.GetPhotoUrlOriginal(a);var r="";if(a.startsWith("http://")||a.startsWith("https://"))if(a.startsWith(l))r=l+"thumb_w/"+t+(a.startsWith("/")?"":"/")+a.replace(l,"");else{var i=document.createElement("a");i.href=a;var o=i.protocol+"//"+i.host+"/";r=o+"thumb_w/"+t+(a.startsWith("/")?"":"/")+a.replace(o,"")}else r=n.VIDEO_MANAGER_THUMBSERVER+"thumb_w/"+t+(a.startsWith("/")?"":"/")+a;return r=r.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://")},t.BuildUrlThumbH=function(t,a,n){var l=n.VIDEO_MANAGER_THUMBSERVER;if(""==a||null==a||"null"==a||void 0==a||"undefined"==a)return e.Config.staticUrl+"statics/images/default-no-image.png";a=this.GetPhotoUrlOriginal(a);var r="";if(a.startsWith("http://")||a.startsWith("https://"))if(a.startsWith(l))r=l+"thumb_h/"+t+(a.startsWith("/")?"":"/")+a.replace(l,"");else{var i=document.createElement("a");i.href=a;var o=i.protocol+"//"+i.host+"/";r=o+"thumb_h/"+t+(a.startsWith("/")?"":"/")+a.replace(o,"")}else r=n.VIDEO_MANAGER_THUMBSERVER+"thumb_h/"+t+(a.startsWith("/")?"":"/")+a;return r=r.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://")},t.FSelect=function(e,t){function a(t){var l,r="";if(l="undefined"!=typeof n.value&&null!==n.value?n.value:$(e).attr("data-value"),$(e).closest(".wg-fselect").length?$(e).closest(".wg-fselect").find(".FSelectWrapper").remove():$(e).wrap('<div class="wg-fselect"></div>'),n.empty&&"object"==typeof n.empty){var i=n.empty;r+=i.value==l?'<option value="'+i.value+'" '+(i.parent?'data-parent="'+i.parent+'"':"")+" selected>"+i.name+"</option>":'<option value="'+i.value+'" '+(i.parent?'data-parent="'+i.parent+'"':"")+">"+i.name+"</option>"}t.forEach(function(e){r+=e.value==l?'<option value="'+e.value+'" '+(e.parent?'data-parent="'+e.parent+'"':"")+" selected>"+e.name+"</option>":'<option value="'+e.value+'" '+(e.parent?'data-parent="'+e.parent+'"':"")+">"+e.name+"</option>"}),$(e).html(r),$(e).fselect(n.config),$(e).off("change").on("change",function(r){var i=$(this).val();$(e).attr("data-value",i),a(t),"function"==typeof n.onChange&&n.onChange(r,l)})}var n={value:null,empty:null,data:null,config:{},onChange:null};t===Object(t)&&$.extend(!0,n,t),"function"==typeof n.data?(a([]),n.data(function(e){a(e)})):a(Array.isArray(n.data)?n.data:[])},t.DatePicker=function(e,t){var a={config:{dateFormat:"dd/mm/yy",beforeShow:function(){$("#ui-datepicker-div").addClass("wg-datepicker")}}};t===Object(t)&&$.extend(!0,a,t),$(e).datepicker(a.config)},t.Paging=function(e,t){function a(){l=u>0?(i-1)*o+1:0,r=u>i*o?i*o:u,p=n.emptyLabel,u>0&&(p=n.label.replaceParams({from_size:l,to_size:r,total:u})),$(e).find(".wg-page-info").text(p),$(e).find(".wg-page-index").val(i),i>1?$(e).find(".wg-page-prev").removeClass("disabled"):$(e).find(".wg-page-prev").addClass("disabled"),i<s?$(e).find(".wg-page-next").removeClass("disabled"):$(e).find(".wg-page-next").addClass("disabled"),s<=1?$(e).find(".wg-page-index").attr("disabled"):$(e).find(".wg-page-index").removeAttr("disabled")}var n={page:1,size:20,total:0,emptyLabel:"Không có dữ liệu",label:"{{from_size}} đến {{to_size}} trong tổng số {{total}}",showLabel:!0,showQuickPage:!0,onChange:null};t===Object(t)&&$.extend(!0,n,t);var l,r,i=n.page,o=n.size,u=n.total,s=Math.ceil(u/o),p=n.emptyLabel;if(!$(e).html()){var d="";n.showLabel&&(d+='<label class="wg-page-info">'+p+"</label>"),d+='<button class="wg-page-prev disabled"><i></i></button>',n.showQuickPage&&(d+='<input type="number" class="wg-page-index" value="1" disabled>'),d+='<button class="wg-page-next disabled"><i></i></button>',$(e).html(d).addClass("wg-paging")}a(),$(e).find(".wg-page-prev").off("click").on("click",function(e){i>1&&(i--,a(),"function"==typeof n.onChange&&n.onChange(e,i))}),$(e).find(".wg-page-next").off("click").on("click",function(e){i<s&&(i++,a(),"function"==typeof n.onChange&&n.onChange(e,i))}),$(e).find(".wg-page-index").off("change").on("change",function(e){var t=$(this).val();t<1?(i=1,a(),"function"==typeof n.onChange&&n.onChange(e,i)):t>s?(i=s,a(),"function"==typeof n.onChange&&n.onChange(e,i)):t!=i&&(i=t,a(),"function"==typeof n.onChange&&n.onChange(e,i))})},t.CheckBox=function(t){$(t).each(function(t,a){var n=$(a).attr("id"),l=$(a).attr("data-label");n||(n="wg-checkbox-"+e.Utils.uuid(),$(a).attr("id",n)),$(a).wrap('<div class="wg-checkbox"></div>'),$(a).parent().append('<label for="'+n+'" class="wg-checkbox-label"></label>'),void 0!==l&&null!==l&&$(a).parent().append("<span>"+l+"</span>")})},t});
!function(t){window.IMS=window.IMS||{},window.IMS.Utils=t()}(function(){var t={};return t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){if("undefined"==typeof e)var e="";var r,a,n,o,i,u,c,h="",f=0;for(e=t.Base64._utf8_encode(e);f<e.length;)r=e.charCodeAt(f++),a=e.charCodeAt(f++),n=e.charCodeAt(f++),o=r>>2,i=(3&r)<<4|a>>4,u=(15&a)<<2|n>>6,c=63&n,isNaN(a)?u=c=64:isNaN(n)&&(c=64),h=h+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(u)+this._keyStr.charAt(c);return h},decode:function(e){if("undefined"==typeof e)var e="";var r,a,n,o,i,u,c,h="",f=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");f<e.length;)o=this._keyStr.indexOf(e.charAt(f++)),i=this._keyStr.indexOf(e.charAt(f++)),u=this._keyStr.indexOf(e.charAt(f++)),c=this._keyStr.indexOf(e.charAt(f++)),r=o<<2|i>>4,a=(15&i)<<4|u>>2,n=(3&u)<<6|c,h+=String.fromCharCode(r),64!=u&&(h+=String.fromCharCode(a)),64!=c&&(h+=String.fromCharCode(n));return h=t.Base64._utf8_decode(h)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var a=t.charCodeAt(r);a<128?e+=String.fromCharCode(a):a>127&&a<2048?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e},_utf8_decode:function(t){for(var e="",r=0,a=c1=c2=0;r<t.length;)a=t.charCodeAt(r),a<128?(e+=String.fromCharCode(a),r++):a>191&&a<224?(c2=t.charCodeAt(r+1),e+=String.fromCharCode((31&a)<<6|63&c2),r+=2):(c2=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),r+=3);return e}},t.ConvertTextToDate=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getDate();r=r>=10?r:"0"+r;var a=e.getMonth()+1;a=a>=10?a:"0"+a;var n=e.getFullYear();n=n>=10?n:"0"+n;var o=e.getHours();o=o>=10?o:"0"+o;var i=e.getMinutes();i=i>=10?i:"0"+i;var u=e.getSeconds();return u=u>=10?u:"0"+u,r+"/"+a+"/"+n+" "+o+":"+i+":"+u},t.GetOnlyTime=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getHours(),a=e.getMinutes();return r<10&&(r="0"+r),a<10&&(a="0"+a),r+":"+a},t.GetOnlyDate=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getDate(),a=e.getMonth()+1;return r<10&&(r="0"+r),a<10&&(a="0"+a),"{0}/{1}/{2}".format(r,a,e.getFullYear())},t.GetOnlyDateMonth=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getDate(),a=e.getMonth()+1;return r<10&&(r="0"+r),a<10&&(a="0"+a),"{0}/{1}".format(r,a)},t.GetCurrentDate=function(){var t=new Date,e=t.getDate(),r=t.getMonth()+1;e<10&&(e="0"+e),r<10&&(r="0"+r);var a=t.getHours(),n=t.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),"{0}/{1}/{2} {3}:{4}".format(e,r,t.getFullYear(),a,n)},t.GetCurrentDateNow=function(){var t=new Date,e=t.getDate(),r=t.getMonth()+1;e<10&&(e="0"+e),r<10&&(r="0"+r);var a=t.getHours(),n=t.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),"{0}-{1}-{2} {3}:{4}".format(t.getFullYear(),r,e,a,n)},t.GetFullDate=function(t){var e=new Date(parseInt(t)),r=e.getDate(),a=e.getMonth()+1;r<10&&(r="0"+r),a<10&&(a="0"+a);var n=e.getHours(),o=e.getMinutes();return n<10&&(n="0"+n),o<10&&(o="0"+o),"{0}/{1}/{2} {3}:{4}".format(r,a,e.getFullYear(),n,o)},t.GetLongDate=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getDate(),a=new Array(7);a[0]="Chủ Nhật",a[1]="Thứ Hai",a[2]="Thứ Ba",a[3]="Thứ Tư",a[4]="Thứ Năm",a[5]="Thứ Sáu",a[6]="Thứ Bảy";var n=a[e.getDay()],o=e.getMonth()+1;r<10&&(r="0"+r),o<10&&(o="0"+o);var i=e.getHours(),u=e.getMinutes();return i<10&&(i="0"+i),u<10&&(u="0"+u),"{0} {1}/{2}/{3} {4}:{5}".format(n,r,o,e.getFullYear(),i,u)},t.GetTime=function(t){try{t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getDate(),a=new Array(7);a[0]="Chủ Nhật",a[1]="Thứ Hai",a[2]="Thứ Ba",a[3]="Thứ Tư",a[4]="Thứ Năm",a[5]="Thứ Sáu",a[6]="Thứ Bảy";var n=(a[e.getDay()],e.getMonth()+1);r<10&&(r="0"+r),n<10&&(n="0"+n);var o=e.getHours(),i=e.getMinutes();return o<10&&(o="0"+o),i<10&&(i="0"+i),"{0}:{1}".format(o,i)}catch(u){return"n/a"}},t.GetTimeToString=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t));return e},t.GetDateNow=function(){var t=new Date;return t},t.CompareDateNow=function(t){return this.DateDiff("mi",this.GetDateNow(),this.GetTimeToString(t))>0},t.FormatDateTime=function(t){t=t.replace("/Date(","").replace(")/","");var e=new Date(parseInt(t)),r=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=e.getHours(),i=e.getMinutes(),u=(e.getSeconds(),new Date),c=(u.getFullYear(),u.getMonth()+1,u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),""),h=u.getTime()-e.getTime(),f=Math.abs(h/1e3),s=Math.floor(f/60),g=Math.floor(f/3600);return f<60?c=" Vài giây trước":f<3600?c=s.toString()+" phút trước":f<86400?c=g.toString()+" giờ trước":(c="",c+=parseInt(n)<10?"0"+n:n,c+="/"+(parseInt(a)<10?"0"+a:a),c+="/"+(parseInt(r)<10?"0"+r:r),c+=" "+(parseInt(o)<10?"0"+o:o),c+=":"+(parseInt(i)<10?"0"+i:i)),c},t.CheckDate=function(t){var e=t;if(""==e)return!1;var r=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,a=e.match(r);if(null==a)return!1;var n=a[1],o=a[3],i=a[5];if(n<1||n>12)return!1;if(o<1||o>31)return!1;if((4==n||6==n||9==n||11==n)&&31==o)return!1;if(2==n){var u=i%4==0&&(i%100!=0||i%400==0);if(o>29||29==o&&!u)return!1}return!0},t.DateDiff=function(t,e,r){"string"==typeof e&&(e=new Date(startdate)),"string"==typeof r&&(r=new Date(r));var a=r-e,n=0;switch(t){case"mi":n=Math.round(a/6e4);break;case"h":n=Math.round(a/36e5);break;case"d":n=Math.round(a/864e5);break;case"m":n=Math.round(a/2592e6)}return n},t.getDateTimePicker=function(t,e){if(void 0==e&&(e=!0),void 0==t||null==t||""==t)return"";t=$.trim(t);var r=$.datepicker.formatDate("yy-mm-dd",$.datepicker.parseDate("dd/mm/yy",t)).toString(),a=e?t.substr(t.indexOf(" "),t.length):" 00:00";return r+a},t.trimOnlyDate=function(t){return void 0==t||""==t?t:t.substring(0,t.indexOf(" ")).trim()},t.EscapeTitle=function(t){return t.replace("'","&apos;").replace('"',"&quot;")},t.ValidUrl=function(t){var e=new RegExp("^(https?://|:?//|www.)?[0-9a-zA-Z.-]*[.][a-zA-Z]{2,}","i");return e.test(t)},t.GetUrlPath=function(t){if(this.ValidUrl(t)){var e=1;return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&0!==t.indexOf("://")&&0!==t.indexOf("//")||(e=3),t.split("/").slice(e).join("/")}return t},t.BytesToSize=function(t){var e=["Bytes","KB","MB","GB","TB"];if(0===t)return"0 Byte";var r=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,r),2)+" "+e[r]},t.getParameterByName=function(t,e){if(!e)return"";t=t.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=r.exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},t.getUrlPathName=function(t,e){if(t=t.split("?")[0],e){e=e.replace(/^.*\/\//,"");var r=new RegExp("^.*//("+e+")/?");t=t.replace(r,"")}else t=t.replace(/^.*\/\/[^\/]+\/?/,"");return t.replace(/^\/?/,"")},t.getFilenameFormUrl=function(t){if(t){var e=t.toString().match(/.*\/(.+?)\./);if(e&&e.length>1)return e[1]}return""},t.getExtensionFromUrl=function(t){if(t){var e=t.toString().match(/\.\w{3,4}($|(?=\?))/g);if(e&&e.length>0)return e[0].split(".")[1]}return""},t.getNameFromUrl=function(t){var e=t.lastIndexOf("/")+1;return t=t.substr(e),t.replace(/.[^.]+$/,"")},t.getFilename=function(t){return t.split("/").pop().split("?")[0]},t.RemoveUnicode=function(t){for(uniChars="àáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ",KoDauChars="aaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU",retVal="",i=0;i<t.length;i++)pos=uniChars.indexOf(t.charAt(i)),pos>=0?retVal+=KoDauChars.charAt(pos):retVal+=t.charAt(i);return retVal},t.CheckLinkCrop=function(t){return/^(https?:\/\/|:?\/\/|www.)?[0-9a-zA-Z.-]*[.][a-zA-Z]{2,}\/crop\/[0-9]*,[0-9]*_[0-9]*,[0-9]*\//.test(t)},t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})},t.validator={isDefined:function(t){return void 0!==t&&null!==t},isUndefined:function(t){return void 0===t||null===t},isObject:function(t){return t===Object(t)},isFunction:function(t){return"function"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof value&&!isNaN(t)},isEmpty:function(t){return!!this.isUndefined(t)||(this.isString(t)?/^\s*$/.test(t):!this.isFunction(t)&&(this.isArray(t)?0===t.length:!!this.isObject(t)&&0===Object.keys(t).length))}},t.getExtension=function(t,e){if("undefined"==typeof e&&(e=null),this.validator.isString(t)&&!this.validator.isEmpty(t)){var r=t.match(/\.\w{2,4}($|(?=\?))/);if(r&&r.length>0){var a=r[0].toLowerCase();return a.substring(1,a.length)}}return e},t.isValidFile=function(t,e){var r=this.getExtension(t.split("?")[0]),a=e.split(",");return!(a.lastIndexOf(r)===-1||!r)},t.parseInt=function(t,e){return"undefined"==typeof e&&(e=null),"NaN"!==parseInt(t)?parseInt(t):e},t.removeUnicode=function(t){for(var e="àáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ",r="aaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIOOOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU",a="",n=0;n<t.length;n++){var o=e.indexOf(t.charAt(n));a+=o>=0?r.charAt(o):t.charAt(n)}return a},t.removeUnicodeAndAddSeperator=function(t){var e="abcdefghijklmnopqrstuvwxyz0123456789",r="";t=this.removeUnicode(t.toLowerCase());for(var a=0;a<t.length;a++)e.indexOf(t.charAt(a))>-1?" "!==t.charAt(a)&&(r+=t.charAt(a)):a>0&&" "!==t.charAt(a-1)&&"-"!==t.charAt(a-1)&&("-"!==t.charAt(a).trim()&&" "!==t.charAt(a)||(r+="-"));return r},t.buildFilenameByPrefix=function(t,e){var r=t.substring(0,t.lastIndexOf(".")),a=this.getExtension(t);return r+"-"+e+"."+a},t.formatFileSize=function(t,e){var r="NaN";if(!isNaN(t))switch(t=Number(t),e){case"byte":var a=["Bytes","KB","MB","GB","TB"];if(0===t)return"0 Byte";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));r=Math.round(t/Math.pow(1024,n),2)+" "+a[n];break;case"kilobyte":var a=["KB","MB","GB","TB"];if(0===t)return"0 KB";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));r=Math.round(t/Math.pow(1024,n),2)+" "+a[n];break;case"megabyte":var a=["MB","GB","TB"];if(0===t)return"0 MB";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));r=Math.round(t/Math.pow(1024,n),2)+" "+a[n];break;case"gigabyte":var a=["GB","TB"];if(0===t)return"0 GB";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));r=Math.round(t/Math.pow(1024,n),2)+" "+a[n];break;default:var a=["Bytes","KB","MB","GB","TB"];if(0===t)return"0 Byte";var n=parseInt(Math.floor(Math.log(t)/Math.log(1024)));r=Math.round(t/Math.pow(1024,n),2)+" "+a[n]}return r},t.checkImageBase64=function(t){return/^data:image\/.*;/.test(t)},t.getOriginalPhotoUrl=function(t){return t=t.replace(/\/{2}/g,"/").replace("https:/","https://").replace("http:/","http://"),t=t.replace(/thumb_w\/[0-9]*\//g,""),t=t.replace(/thumb_h\/[0-9]*\//g,""),t=t.replace(/zoom\/[0-9]*[_][0-9]*\//g,""),t=t.replace(/crop\/[0-9]*,[0-9]*_[0-9]*,[0-9]*\//g,"")},t.escape=function(t){var e={'"':"&quot;","'":"&#x27;","&":"&amp;",">":"&gt;","<":"&lt;"},r=/[&><"']/gm;return(""+t).replace(r,function(t){return e[t]||t})},t.unescape=function(t){var e={"&quot;":'"',"&#x27;":"'","&amp;":"&","&gt;":">","&lt;":"<"},r=/(&amp;|&gt;|&lt;|&quot;|&#x27;)/gm;return(""+t).replace(r,function(t){return e[t]||t})},t.stripHTML=function(t){"string"!=typeof t&&(t="");var e=/<\/?[a-z0-9]+>/gim;return t.replace(e,"")},t.validHTML=function(t){"string"!=typeof t&&(t="");var e=/<\/?[a-z0-9]+>/gim;return e.test(t)},t.getHTMLTags=function(e){"string"!=typeof e&&(e="");var r=/<\/?[a-z0-9]+>/gim,a=e.match(r)||[],n={};return a.forEach(function(e){n[e]=t.escape(e)}),Object.values(n)},t.getDomain=function(t){var e=/^(https?:\/\/|:?\/\/|www.)?[0-9a-zA-Z.-]*[.][a-zA-Z]{2,}/gi;return t.match(e)[0]},t.buildCropUrl=function(e,r){var a=t.getDomain(e),n=t.getUrlPathName(e,a);return a+"/"+r+"/"+n},t});
!function(e){window.IMSLsvEmbed=e()}(function(){"undefined"!=typeof jQuery&&($=jQuery.noConflict());var e=window.IMS||{},t=!1,n={InitLike:function(t){var n=this,o={nameSpace:null,userName:null,getTokenFunction:null,type:"lsv-embed",mode:"like",initType:null,params:null};$.extend(!0,o,t),"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"==typeof o.params.placeholder?o.initType=1:"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"!=typeof o.params.placeholder?o.initType=2:"[object Array]"===Object.prototype.toString.call(o.params)&&(o.initType=3),n.checkInited(function(){console.log("[LsvEmbed Log]","Mode: like - initType: "+o.initType+" was loaded!"),e.Widgets.LsvEmbed.Init(o)})},InitShare:function(t){var n=this,o={nameSpace:null,userName:null,getTokenFunction:null,type:"lsv-embed",mode:"share",initType:null,params:null};$.extend(!0,o,t),"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"==typeof o.params.placeholder?o.initType=1:"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"!=typeof o.params.placeholder?o.initType=2:"[object Array]"===Object.prototype.toString.call(o.params)&&(o.initType=3),n.checkInited(function(){console.log("[LsvEmbed Log]","Mode: share - initType: "+o.initType+" đã được tải!"),e.Widgets.LsvEmbed.Init(o)})},InitVote:function(t){var n=this,o={nameSpace:null,userName:null,getTokenFunction:null,type:"lsv-embed",mode:"vote",initType:null,params:null};$.extend(!0,o,t),"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"==typeof o.params.placeholder?o.initType=1:"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"!=typeof o.params.placeholder?o.initType=2:"[object Array]"===Object.prototype.toString.call(o.params)&&(o.initType=3),n.checkInited(function(){console.log("[LsvEmbed Log]","Mode: vote - initType: "+o.initType+" đã được tải!"),e.Widgets.LsvEmbed.Init(o)})},InitRate:function(t){var n=this,o={nameSpace:null,userName:null,getTokenFunction:null,type:"lsv-embed",mode:"rate",initType:null,params:null};$.extend(!0,o,t),"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"==typeof o.params.placeholder?o.initType=1:"[object Object]"===Object.prototype.toString.call(o.params)&&"undefined"!=typeof o.params.placeholder?o.initType=2:"[object Array]"===Object.prototype.toString.call(o.params)&&(o.initType=3),n.checkInited(function(){console.log("[LsvEmbed Log]","Mode: rate - initType: "+o.initType+" đã được tải!"),e.Widgets.LsvEmbed.Init(o)})},checkInited:function(e){var n=this;t?e():setTimeout(function(){n.checkInited(e)},100)},Resources:["statics/libs/font-awesome/css/font-awesome.min.css",{objectJs:"jQuery",url:"statics/libs/jquery-2.0.3.min.js"},{objectJs:"handlebars",url:"statics/libs/handlebars-v4.0.5.min.js"}]};return setTimeout(function(){e.Actions.LoadResource(n.Resources,function(){t=!0})},100),n});
!function(e){window.IMS=window.IMS||{},window.IMS.Widgets=window.IMS.Widgets||{},window.IMS.Widgets.LsvEmbed=e()}(function(){var e=window.IMS||{},n=e.Actions,t={};return t.Options={channelName:null,userName:null,getChannelTokenFunction:null,currentToken:"",errorTokenCount:0,timeOut:null,dataPost:{params:{},action:"",module:"lsv-embed",ashx:"plugin-request",success:function(e){}},voteData:[],likeData:[],shareData:[],rateData:[]},t.Init=function(e){var n=this,t=!1;if("string"==typeof e.nameSpace&&""!==e.nameSpace||(console.error("[LsvEmbed Error]","Chưa truyền tham số [nameSpace]"),t=!0),"string"==typeof e.userName&&""!==e.userName||(console.error("[LsvEmbed Error]","Chưa truyền tham số [userName]"),t=!0),"function"!=typeof e.getTokenFunction&&(console.error("[LsvEmbed Error]","Chưa truyền tham số [getTokenFunction]"),t=!0),"object"==typeof e.params&&null!==e.params||(console.error("[LsvEmbed Error]","Chưa truyền tham số [params]"),t=!0),!t)switch(n.Options.channelName=e.nameSpace,n.Options.userName=e.userName,n.Options.getChannelTokenFunction=e.getTokenFunction,e.mode){case"like":n.InitLike(e.initType,e.params);break;case"share":n.InitShare(e.initType,e.params);break;case"rate":n.InitRate(e.initType,e.params);break;case"vote":n.InitVote(e.initType,e.params);break;default:return console.log("[LsvEmbed Error]","Mode "+e.mode+" không tồn tại"),!1}},t.Post=function(e){var t=this,o=$.extend(!0,{},t.Options.dataPost,e),r=function(){return o.params.token=t.Options.currentToken,o.success=function(n){return("undefined"!=typeof n||null!==n)&&(n.error&&401==n.error.code?(console.warn("[LsvEmbed Warning]","Token invalid"),t.Options.errorTokenCount++,t.Options.errorTokenCount>5?(console.error("[LsvEmbed Error]","Lỗi get token!"),setTimeout(function(){t.Options.errorTokenCount=0},1e3)):t.Options.getChannelTokenFunction(function(e){t.Options.currentToken=e,r()}),!1):(t.Options.errorTokenCount=0,void e.success(n)))},"undefined"!=typeof e.error&&(o.error=function(n,t,o){e.error(n,t,o)}),n.Post(o),!1};""===t.Options.currentToken?(t.Options.getChannelTokenFunction(function(e){t.Options.currentToken=e,r()}),setTimeout(function(){t.Options.currentToken=""},12e4)):r()},t.InitLike=function(e,t){var o=this,r=["statics/css/lsv-like-theme.css"];return 1!==e&&2!==e&&3!==e?void console.log("[LsvLike Error]","Init type "+e+" không tồn tại"):void n.LoadResource(r,function(){o.LsvLike.InitPublished(e,t)})},t.InitShare=function(e,t){var o=this,r=["statics/css/lsv-share-theme.css"];return 1!==e&&2!==e&&3!==e?void console.log("[LsvShare Error]","Init type "+e+" không tồn tại"):void n.LoadResource(r,function(){o.LsvShare.InitPublished(e,t)})},t.InitRate=function(e,t){var o=this,r=["statics/css/lsv-rate-theme.css"];return 1!==e&&2!==e&&3!==e?void console.log("[LsvLike Error]","Init type "+e+" không tồn tại"):void n.LoadResource(r,function(){o.LsvRate.InitPublished(e,t)})},t.InitVote=function(e,t){var o=this,r=["statics/css/lsv-vote-theme.css","statics/css/lsv-vote-result.css"];return 1!==e&&2!==e&&3!==e?void console.log("[LsvShare Error]","Init type "+e+" không tồn tại"):void n.LoadResource(r,function(){o.LsvVote.InitPublished(e,t)})},t});
!function(e){window.IMS=window.IMS||{},window.IMS.Widgets=window.IMS.Widgets||{},window.IMS.Widgets.LsvEmbed=window.IMS.Widgets.LsvEmbed||{},window.IMS.Widgets.LsvEmbed.LsvLike=e()}(function(){var e=window.IMS||{},t=e.Actions,o=window.IMS.Widgets.LsvEmbed,n={};return n.Options={templateCached:{}},n.InitPublished=function(e,t){var o=this,n=new Set,i=new Set,r=[],c=[],l=[];if(o.RegisterHelpers(),1===e){if("undefined"==typeof t.template||Object.keys(t.template).length<1||null===t.template)return void console.error("[LsvLike Error]","Chưa truyền tham số [template]");if("undefined"==typeof t.template.id||null===t.template.id||""===t.template.id)return void console.error("[LsvLike Error]","Tham số [template] truyền chưa đúng định dạng");var f,a,d=t.template.id,s=t.facebookAppId,b=t.reInit||!1;2===Object.keys(t.template).length&&"undefined"!=typeof t.template.source?a=t.template.source:Object.keys(t.template).length>1&&(f=t.template),$(".IMSLsvLike").each(function(e){var t=$(this);if(b||"true"!=t.attr("data-init")){t.attr("data-init",!0);var u=t.data("id"),p=t.data("type"),k=t.data("url"),g=t.data("title"),y=!1;if("undefined"!=typeof u&&""!==u&&null!==u||(console.error("[LsvLike Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-id]"),y=!0),"undefined"!=typeof p&&""!==p&&null!==p||(console.error("[LsvLike Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-type]"),y=!0),"undefined"!=typeof k&&""!==k&&null!==k||(console.error("[LsvLike Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-url]"),y=!0),"undefined"!=typeof g&&""!==g&&null!==g||(console.error("[LsvLike Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-title]"),y=!0),!y){var h={templateId:d,facebookAppId:s,objectId:u,objectType:p,objectUrl:k,objectTitle:unescape(g),element:t,count:{}};o.Options.templateCached[d]?(h.config=o.Options.templateCached[d],r.push(h)):f?(h.config="string"==typeof f?JSON.parse(f):f,r.push(h)):a?(i.add(a),l.push(h)):(n.add(d),c.push(h))}}})}else if(2===e){var u=!1;if("undefined"==typeof t.template||Object.keys(t.template).length<1||null===t.template)return void console.error("[LsvLike Error]","Chưa truyền tham số [template]");if("undefined"==typeof t.template.id||null===t.template.id||""===t.template.id)return void console.error("[LsvLike Error]","Tham số [template] truyền chưa đúng định dạng");if("undefined"!=typeof t.objectId&&""!==t.objectId&&null!==t.objectId||(console.error("[LsvLike Error]","Chưa truyền param [objectId]"),u=!0),"undefined"!=typeof t.objectType&&""!==t.objectType&&null!==t.objectType||(console.error("[LsvLike Error]","Chưa truyền param [objectType]"),u=!0),"undefined"!=typeof t.objectUrl&&""!==t.objectUrl&&null!==t.objectUrl||(console.error("[LsvLike Error]","Chưa truyền param [objectUrl]"),u=!0),"undefined"!=typeof t.objectTitle&&""!==t.objectTitle&&null!==t.objectTitle||(console.error("[LsvLike Error]","Chưa truyền param [objectTitle]"),u=!0),u)return;var f,a,p=$(t.placeholder),b=t.reInit||!1,d=t.template.id,s=t.facebookAppId;if(!b&&"true"==p.attr("data-init"))return;p.attr("data-init",!0),2===Object.keys(t.template).length&&"undefined"!=typeof t.template.source?a=t.template.source:Object.keys(t.template).length>1&&(f=t.template);var k={templateId:d,facebookAppId:s,objectId:t.objectId,objectType:t.objectType,objectUrl:t.objectUrl,objectTitle:unescape(t.objectTitle),element:p,count:{}};o.Options.templateCached[d]?(k.config=o.Options.templateCached[d],r.push(k)):f?(k.config="string"==typeof f?JSON.parse(f):f,r.push(k)):a?(i.add(a),l.push(k)):(n.add(d),c.push(k))}else 3===e&&t.forEach(function(e,t){var f=!1;if("undefined"==typeof e.template||Object.keys(e.template).length<1||null===e.template?(console.error("[LsvLike Error]","Chưa truyền tham số [template]"),f=!0):"undefined"!=typeof e.template.id&&null!==e.template.id&&""!==e.template.id||(console.error("[LsvLike Error]","Tham số [template] truyền chưa đúng định dạng"),f=!0),"undefined"!=typeof e.placeholder&&""!==e.placeholder&&null!==e.placeholder||(console.error("[LsvLike Error] Param "+(t+1)+":","Chưa truyền tham số [placeholder]"),f=!0),"undefined"!=typeof e.objectId&&""!==e.objectId&&null!==e.objectId||(console.error("[LsvLike Error] Param "+(t+1)+":","Chưa truyền tham số [objectId]"),f=!0),"undefined"!=typeof e.objectType&&""!==e.objectType&&null!==e.objectType||(console.error("[LsvLike Error] Param "+(t+1)+":","Chưa truyền tham số [objectType]"),f=!0),"undefined"!=typeof e.objectTitle&&""!==e.objectTitle&&null!==e.objectTitle||(console.error("[LsvLike Error] Param "+(t+1)+":","Chưa truyền tham số [objectTitle]"),f=!0),"undefined"!=typeof e.objectUrl&&""!==e.objectUrl&&null!==e.objectUrl||(console.error("[LsvLike Error] Param "+(t+1)+":","Chưa truyền tham số [objectUrl]"),f=!0),!f){var a,d,s=$(e.placeholder),b=e.reInit||!1,u=e.template.id,p=e.facebookAppId;if(b||"true"!=s.attr("data-init")){s.attr("data-init",!0),2===Object.keys(e.template).length&&"undefined"!=typeof e.template.source?d=e.template.source:Object.keys(e.template).length>1&&(a=e.template);var k={templateId:u,facebookAppId:p,objectId:e.objectId,objectType:e.objectType,objectUrl:e.objectUrl,objectTitle:unescape(e.objectTitle),element:s,count:{}};o.Options.templateCached[u]?(k.config=o.Options.templateCached[u],r.push(k)):a?(k.config="string"==typeof a?JSON.parse(a):a,r.push(k)):d?(i.add(d),l.push(k)):(n.add(u),c.push(k))}}});var g=function(e){e.forEach(function(e){o.RenderLike(e.element,e)}),o.InitListLike(e,function(n){e.forEach(function(e){return n.forEach(function(t){t.object_id===e.objectId&&t.object_type===e.objectType&&(e.id=t.id,e.count=t.count)}),3===e.config.restrict.type&&"facebook"===e.config.restrict.content&&"undefined"==typeof e.facebookAppId?void console.error("[LsvLike Error]","Chưa truyền tham số [facebookAppId]"):void o.EventsLike(e.element,e,t)})})};r.length>0&&g(r),c.length>0&&o.GetTemplateById(n,function(e){e.forEach(function(e){var t=e.template_config?JSON.parse(e.template_config):{};o.Options.templateCached[e.id]=t,c.forEach(function(o,n){o.templateId===e.id&&(c[n].config=t)})}),g(c)}),l.length>0&&i.forEach(function(e){$.getJSON(e).done(function(e){$.extend(o.Options.templateCached,e);var t=[];l.forEach(function(o){e[o.templateId]&&(o.config=e[o.templateId],t.push(o))}),g(t)}).fail(function(e,t,o){var n=t+", "+o;console.error("[LsvLike Error] Tải tài nguyên thất bại: "+n)})}),o.RegisterEvents()},n.RenderLike=function(e,t){switch(t.config.theme){case 1:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].like_theme_1)(t);e.html(o);break;case 2:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].like_theme_2)(t);e.html(o);break;case 3:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].like_theme_3)(t);e.html(o);break;case 4:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].like_theme_4)(t);e.html(o)}},n.EventsLike=function(e,t,o){var n=this;n.Counter(e,t,t.count);var i,r,c,l,f=t.config.general.allowVote,a=t.config.general.allowCancelVote,d={},s={},b={},u={},p={},k={},g={},y={},h={},m={},v={},j={},B={},C={},L={},S={},w={},I={};t.config.likebtn&&(t.config.likebtn.backgroundBefore&&(d["background-color"]=t.config.likebtn.backgroundBefore),t.config.likebtn.borderColorBefore&&(d["border-color"]=t.config.likebtn.borderColorBefore),t.config.likebtn.icon&&(t.config.likebtn.icon.backgroundBefore&&(s["background-color"]=t.config.likebtn.icon.backgroundBefore),t.config.likebtn.icon.borderColorBefore&&(s["border-color"]=t.config.likebtn.icon.borderColorBefore),t.config.likebtn.icon.colorBefore&&(s.color=t.config.likebtn.icon.colorBefore)),t.config.likebtn.label&&(t.config.likebtn.label.backgroundBefore&&(b["background-color"]=t.config.likebtn.label.backgroundBefore),t.config.likebtn.label.borderColorBefore&&(b["border-color"]=t.config.likebtn.label.borderColorBefore),t.config.likebtn.label.fontColorBefore&&(b.color=t.config.likebtn.label.fontColorBefore),t.config.likebtn.label.fontStyleBefore&&("r"===t.config.likebtn.label.fontStyleBefore?(b["font-weight"]="normal",b["font-style"]=""):"ri"===t.config.likebtn.label.fontStyleBefore?(b["font-weight"]="normal",b["font-style"]="italic"):"b"===t.config.likebtn.label.fontStyleBefore?(b["font-weight"]="bold",b["font-style"]=""):"bi"===t.config.likebtn.label.fontStyleBefore&&(b["font-weight"]="bold",b["font-style"]="italic"))),t.config.likebtn.counter&&(t.config.likebtn.counter.backgroundBefore&&(u["background-color"]=t.config.likebtn.counter.backgroundBefore),t.config.likebtn.counter.borderColorBefore&&(u["border-color"]=t.config.likebtn.counter.borderColorBefore),t.config.likebtn.counter.fontColorBefore&&(u.color=t.config.likebtn.counter.fontColorBefore),t.config.likebtn.counter.fontStyleBefore&&("r"===t.config.likebtn.counter.fontStyleBefore?(u["font-weight"]="normal",u["font-style"]=""):"ri"===t.config.likebtn.counter.fontStyleBefore?(u["font-weight"]="normal",u["font-style"]="italic"):"b"===t.config.likebtn.counter.fontStyleBefore?(u["font-weight"]="bold",u["font-style"]=""):"bi"===t.config.likebtn.counter.fontStyleBefore&&(u["font-weight"]="bold",u["font-style"]="italic"))),"undefined"!=typeof t.config.likebtn.icon.type&&"undefined"!=typeof t.config.likebtn.icon.contentBefore&&("font"===t.config.likebtn.icon.type?r='<i class="fa '+t.config.likebtn.icon.contentBefore+'"></i>':"image"===t.config.likebtn.icon.type&&"undefined"!=typeof t.config.likebtn.icon.size&&(r='<img src="'+t.config.likebtn.icon.contentBefore+'" width="'+t.config.likebtn.icon.size+'px" height="'+t.config.likebtn.icon.size+'px" />')),t.config.likebtn.backgroundAfter&&(p["background-color"]=t.config.likebtn.backgroundAfter),t.config.likebtn.borderColorAfter&&(p["border-color"]=t.config.likebtn.borderColorAfter),t.config.likebtn.icon&&(t.config.likebtn.icon.backgroundAfter&&(k["background-color"]=t.config.likebtn.icon.backgroundAfter),t.config.likebtn.icon.borderColorAfter&&(k["border-color"]=t.config.likebtn.icon.borderColorAfter),t.config.likebtn.icon.colorAfter&&(k.color=t.config.likebtn.icon.colorAfter)),t.config.likebtn.label&&(t.config.likebtn.label.backgroundAfter&&(g["background-color"]=t.config.likebtn.label.backgroundAfter),t.config.likebtn.label.borderColorAfter&&(g["border-color"]=t.config.likebtn.label.borderColorAfter),t.config.likebtn.label.fontColorAfter&&(g.color=t.config.likebtn.label.fontColorAfter),t.config.likebtn.label.fontStyleAfter&&("r"===t.config.likebtn.label.fontStyleAfter?(g["font-weight"]="normal",g["font-style"]=""):"ri"===t.config.likebtn.label.fontStyleAfter?(g["font-weight"]="normal",g["font-style"]="italic"):"b"===t.config.likebtn.label.fontStyleAfter?(g["font-weight"]="bold",g["font-style"]=""):"bi"===t.config.likebtn.label.fontStyleAfter&&(g["font-weight"]="bold",g["font-style"]="italic"))),t.config.likebtn.counter&&(t.config.likebtn.counter.backgroundAfter&&(y["background-color"]=t.config.likebtn.counter.backgroundAfter),t.config.likebtn.counter.borderColorAfter&&(y["border-color"]=t.config.likebtn.counter.borderColorAfter),t.config.likebtn.counter.fontColorAfter&&(y.color=t.config.likebtn.counter.fontColorAfter),t.config.likebtn.counter.fontStyleAfter&&("r"===t.config.likebtn.counter.fontStyleAfter?(y["font-weight"]="normal",y["font-style"]=""):"ri"===t.config.likebtn.counter.fontStyleAfter?(y["font-weight"]="normal",y["font-style"]="italic"):"b"===t.config.likebtn.counter.fontStyleAfter?(y["font-weight"]="bold",y["font-style"]=""):"bi"===t.config.likebtn.counter.fontStyleAfter&&(y["font-weight"]="bold",y["font-style"]="italic"))),"undefined"!=typeof t.config.likebtn.icon.type&&"undefined"!=typeof t.config.likebtn.icon.contentAfter&&("font"===t.config.likebtn.icon.type?i='<i class="fa '+t.config.likebtn.icon.contentAfter+'"></i>':"image"===t.config.likebtn.icon.type&&"undefined"!=typeof t.config.likebtn.icon.size&&(i='<img src="'+t.config.likebtn.icon.contentAfter+'" width="'+t.config.likebtn.icon.size+'px" height="'+t.config.likebtn.icon.size+'px" />'))),t.config.dislikebtn&&(t.config.dislikebtn.backgroundBefore&&(h["background-color"]=t.config.dislikebtn.backgroundBefore),t.config.dislikebtn.borderColorBefore&&(h["border-color"]=t.config.dislikebtn.borderColorBefore),t.config.dislikebtn.icon&&(t.config.dislikebtn.icon.backgroundBefore&&(m["background-color"]=t.config.dislikebtn.icon.backgroundBefore),t.config.dislikebtn.icon.borderColorBefore&&(m["border-color"]=t.config.dislikebtn.icon.borderColorBefore),t.config.dislikebtn.icon.colorBefore&&(m.color=t.config.dislikebtn.icon.colorBefore)),t.config.dislikebtn.label&&(t.config.dislikebtn.label.backgroundBefore&&(v["background-color"]=t.config.dislikebtn.label.backgroundBefore),t.config.dislikebtn.label.borderColorBefore&&(v["border-color"]=t.config.dislikebtn.label.borderColorBefore),t.config.dislikebtn.label.fontColorBefore&&(v.color=t.config.dislikebtn.label.fontColorBefore),t.config.dislikebtn.label.fontStyleBefore&&("r"===t.config.dislikebtn.label.fontStyleBefore?(v["font-weight"]="normal",v["font-style"]=""):"ri"===t.config.dislikebtn.label.fontStyleBefore?(v["font-weight"]="normal",v["font-style"]="italic"):"b"===t.config.dislikebtn.label.fontStyleBefore?(v["font-weight"]="bold",v["font-style"]=""):"bi"===t.config.dislikebtn.label.fontStyleBefore&&(v["font-weight"]="bold",v["font-style"]="italic"))),t.config.dislikebtn.counter&&(t.config.dislikebtn.counter.backgroundBefore&&(j["background-color"]=t.config.dislikebtn.counter.backgroundBefore),t.config.dislikebtn.counter.borderColorBefore&&(j["border-color"]=t.config.dislikebtn.counter.borderColorBefore),t.config.dislikebtn.counter.fontColorBefore&&(j.color=t.config.dislikebtn.counter.fontColorBefore),t.config.dislikebtn.counter.fontStyleBefore&&("r"===t.config.dislikebtn.counter.fontStyleBefore?(j["font-weight"]="normal",j["font-style"]=""):"ri"===t.config.dislikebtn.counter.fontStyleBefore?(j["font-weight"]="normal",j["font-style"]="italic"):"b"===t.config.dislikebtn.counter.fontStyleBefore?(j["font-weight"]="bold",j["font-style"]=""):"bi"===t.config.dislikebtn.counter.fontStyleBefore&&(j["font-weight"]="bold",j["font-style"]="italic"))),"undefined"!=typeof t.config.dislikebtn.icon.type&&"undefined"!=typeof t.config.dislikebtn.icon.contentBefore&&("font"===t.config.dislikebtn.icon.type?l='<i class="fa '+t.config.dislikebtn.icon.contentBefore+'"></i>':"image"===t.config.dislikebtn.icon.type&&"undefined"!=typeof t.config.dislikebtn.icon.size&&(l='<img src="'+t.config.dislikebtn.icon.contentBefore+'" width="'+t.config.likebtn.icon.size+'px" height="'+t.config.dislikebtn.icon.size+'px" />')),t.config.dislikebtn.backgroundAfter&&(B["background-color"]=t.config.dislikebtn.backgroundAfter),t.config.dislikebtn.borderColorAfter&&(B["border-color"]=t.config.dislikebtn.borderColorAfter),t.config.dislikebtn.icon&&(t.config.dislikebtn.icon.backgroundAfter&&(C["background-color"]=t.config.dislikebtn.icon.backgroundAfter),t.config.dislikebtn.icon.borderColorAfter&&(C["border-color"]=t.config.dislikebtn.icon.borderColorAfter),t.config.dislikebtn.icon.colorAfter&&(C.color=t.config.dislikebtn.icon.colorAfter)),t.config.dislikebtn.label&&(t.config.dislikebtn.label.backgroundAfter&&(L["background-color"]=t.config.dislikebtn.label.backgroundAfter),t.config.dislikebtn.label.borderColorAfter&&(L["border-color"]=t.config.dislikebtn.label.borderColorAfter),t.config.dislikebtn.label.fontColorAfter&&(L.color=t.config.dislikebtn.label.fontColorAfter),t.config.dislikebtn.label.fontStyleAfter&&("r"===t.config.dislikebtn.label.fontStyleAfter?(L["font-weight"]="normal",L["font-style"]=""):"ri"===t.config.dislikebtn.label.fontStyleAfter?(L["font-weight"]="normal",L["font-style"]="italic"):"b"===t.config.dislikebtn.label.fontStyleAfter?(L["font-weight"]="bold",L["font-style"]=""):"bi"===t.config.dislikebtn.label.fontStyleAfter&&(L["font-weight"]="bold",L["font-style"]="italic"))),t.config.dislikebtn.counter&&(t.config.dislikebtn.counter.backgroundAfter&&(S["background-color"]=t.config.dislikebtn.counter.backgroundAfter),t.config.dislikebtn.counter.borderColorAfter&&(S["border-color"]=t.config.dislikebtn.counter.borderColorAfter),t.config.dislikebtn.counter.fontColorAfter&&(S.color=t.config.dislikebtn.counter.fontColorAfter),t.config.dislikebtn.counter.fontStyleAfter&&("r"===t.config.dislikebtn.counter.fontStyleAfter?(S["font-weight"]="normal",S["font-style"]=""):"ri"===t.config.dislikebtn.counter.fontStyleAfter?(S["font-weight"]="normal",S["font-style"]="italic"):"b"===t.config.dislikebtn.counter.fontStyleAfter?(S["font-weight"]="bold",S["font-style"]=""):"bi"===t.config.dislikebtn.counter.fontStyleAfter&&(S["font-weight"]="bold",S["font-style"]="italic"))),"undefined"!=typeof t.config.dislikebtn.icon.type&&"undefined"!=typeof t.config.dislikebtn.icon.contentAfter&&("font"===t.config.dislikebtn.icon.type?c='<i class="fa '+t.config.dislikebtn.icon.contentAfter+'"></i>':"image"===t.config.dislikebtn.icon.type&&"undefined"!=typeof t.config.dislikebtn.icon.size&&(c='<img src="'+t.config.dislikebtn.icon.contentAfter+'" width="'+t.config.likebtn.icon.size+'px" height="'+t.config.dislikebtn.icon.size+'px" />'))),t.config.counter&&(t.config.counter.backgroundAfter&&(w["background-color"]=t.config.counter.backgroundAfter),t.config.counter.borderColorAfter&&(w["border-color"]=t.config.counter.borderColorAfter),t.config.counter.fontColorAfter&&(w.color=t.config.counter.fontColorAfter),t.config.counter.fontStyleAfter&&("r"===t.config.counter.fontStyleAfter?(w["font-weight"]="normal",w["font-style"]=""):"ri"===t.config.counter.fontStyleAfter?(w["font-weight"]="normal",w["font-style"]="italic"):"b"===t.config.counter.fontStyleAfter?(w["font-weight"]="bold",w["font-style"]=""):"bi"===t.config.counter.fontStyleAfter&&(w["font-weight"]="bold",w["font-style"]="italic")),t.config.counter.backgroundBefore&&(I["background-color"]=t.config.counter.backgroundBefore),t.config.counter.borderColorBefore&&(I["border-color"]=t.config.counter.borderColorBefore),t.config.counter.fontColorBefore&&(I.color=t.config.counter.fontColorBefore),t.config.counter.fontStyleBefore&&("r"===t.config.counter.fontStyleBefore?(I["font-weight"]="normal",I["font-style"]=""):"ri"===t.config.counter.fontStyleBefore?(I["font-weight"]="normal",I["font-style"]="italic"):"b"===t.config.counter.fontStyleBefore?(I["font-weight"]="bold",I["font-style"]=""):"bi"===t.config.counter.fontStyleBefore&&(I["font-weight"]="bold",I["font-style"]="italic")));var A=parseInt(t.count[0])||0,_=parseInt(t.count[1])||0,T=function(o,r,l){"0"==r?(o.attr("data-vote","true"),o.css(p),o.find(".lsv-dislike-icon").css(C),o.find(".lsv-dislike-icon").html(c),o.find(".lsv-dislike-label").css(L),o.find(".lsv-dislike-counter").css(S),l||(A+=1,n.Counter(e,t,{0:A,1:_}))):"1"==r&&(o.attr("data-vote","true"),o.css(p),o.find(".lsv-like-icon").css(k),o.find(".lsv-like-icon").html(i),o.find(".lsv-like-label").css(g),o.find(".lsv-like-counter").css(y),l||(_+=1,n.Counter(e,t,{0:A,1:_}),n.EffectLike(o,t,5e3)))},E=function(o,i,c){"0"==i?(o.attr("data-vote","false"),o.css(d),o.find(".lsv-dislike-icon").css(m),o.find(".lsv-dislike-icon").html(l),o.find(".lsv-dislike-label").css(v),o.find(".lsv-dislike-counter").css(j),c||(A-=1,n.Counter(e,t,{0:A,1:_}))):"1"==i&&(o.attr("data-vote","false"),o.css(d),o.find(".lsv-like-icon").css(s),o.find(".lsv-like-icon").html(r),o.find(".lsv-like-label").css(b),o.find(".lsv-like-counter").css(u),c||(_-=1,n.Counter(e,t,{0:A,1:_})))};if(f)switch(t.config.restrict.type){case 1:e.find(".lsv-likebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-dislikebtn"),c="true"===r.attr("data-vote");i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"unvote",type:1}),E(e,1),n.UnVoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:1}),T(e,1),c&&E(r,0),n.VoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType,un_vote:c?"0":void 0},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!1})}))}),e.find(".lsv-dislikebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-likebtn"),c="true"===r.attr("data-vote");i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"unvote",type:0}),E(e,0),n.UnVoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:0}),T(e,0),c&&E(r,1),n.VoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType,un_vote:c?"1":void 0},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!1})}))});break;case 2:var x=n.GetCookie("lsv-like-"+t.id);"0"==x?T(e.find(".lsv-dislikebtn"),0,!0):"1"==x&&T(e.find(".lsv-likebtn"),1,!0),e.find(".lsv-likebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-dislikebtn"),c="true"===r.attr("data-vote");i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"unvote",type:1}),E(e,1),n.UnVoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType},function(){n.SetCookie("lsv-like-"+t.id,-1),"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:1}),T(e,1),c&&E(r,0),n.VoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType,un_vote:c?"0":void 0},function(){n.SetCookie("lsv-like-"+t.id,1),"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!1})}))}),e.find(".lsv-dislikebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-likebtn"),c="true"===r.attr("data-vote");i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"vote",type:0}),E(e,0),n.UnVoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType},function(){n.SetCookie("lsv-like-"+t.id,-1),"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:0}),T(e,0),c&&E(r,1),n.VoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType,un_vote:c?"1":void 0},function(){n.SetCookie("lsv-like-"+t.id,0),"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!1})}))});break;case 3:n.checkLogin(t,o,function(o){o?n.CheckUserLiked({id:t.id,user_id:o.userId},function(t){0==t.type?T(e.find(".lsv-dislikebtn"),0,!0):1==t.type&&T(e.find(".lsv-likebtn"),1,!0),F()},function(){F()}):F()});var F=function(){e.find(".lsv-likebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-dislikebtn"),c="true"===r.attr("data-vote");n.login(t,o,function(l){i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"vote",type:1}),E(e,1),n.UnVoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType,user_id:l.userId},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:1,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:1}),T(e,1),c&&E(r,0),n.VoteLike({id:t.id,type:1,object_id:t.objectId,object_type:t.objectType,un_vote:c?"0":void 0,user_id:l.userId},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:1,status:!1})}))})}),e.find(".lsv-dislikebtn").off("click").on("click",function(){var e=$(this),i="true"===e.attr("data-vote"),r=e.parents(".lsv-like").find(".lsv-likebtn"),c="true"===r.attr("data-vote");n.login(t,o,function(l){i?i&&a&&("function"==typeof o.precheck&&o.precheck({action:"vote",type:0}),E(e,0),n.UnVoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType,user_id:l.userId},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"unvote",type:0,status:!1})})):("function"==typeof o.precheck&&o.precheck({action:"vote",type:0}),T(e,0),c&&E(r,1),n.VoteLike({id:t.id,type:0,object_id:t.objectId,object_type:t.objectType,un_vote:c?"1":void 0,user_id:l.userId},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"vote",type:0,status:!1})}))})})}}},n.EffectLike=function(e,o,n){if(1!==o.config.general.effectVote){var i=[{objectJs:"html2canvas",url:"statics/libs/html2canvas.min.js"}];t.LoadResource(i,function(){switch($("body").append('<canvas id="IMSLsvLike-Effect-'+o.id+'" class="IMSLsvLike-Effect"></canvas>'),o.config.general.effectVote){case 2:var t={itemHeight:50,itemWidth:50,items:[],maxItems:20,minScale:.4,getImage:function(t){var n=this;"image"===o.config.likebtn.icon.type?(this.itemImage=o.config.likebtn.icon.contentAfter,"function"==typeof t&&t()):"font"===o.config.likebtn.icon.type&&html2canvas(e.find(".lsv-like-icon"),{onrendered:function(e){n.itemImage=e.toDataURL("image/png"),"function"==typeof t&&t()}})},draw:function(){this.setCanvasSize(),this.ctx.clearRect(0,0,this.w,this.h);for(var e=0;e<this.items.length;e++){var t=this.items[e];t.image=new Image,t.image.style.height=t.height,t.image.src=this.itemImage,this.ctx.globalAlpha=t.opacity,this.ctx.drawImage(t.image,t.x,t.y,t.width,t.height)}this.move()},move:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.y-=t.ys,t.y<-1&&(t.x=Math.random()*this.w,t.y=1*this.h)}},setCanvasSize:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.w=this.canvas.width,this.h=this.canvas.height},initialize:function(){var e,t=this;if(this.canvas=$("#IMSLsvLike-Effect-"+o.id)[0],this.canvas.getContext){this.setCanvasSize(),this.ctx=this.canvas.getContext("2d");for(var i=0;i<this.maxItems;i++){var r=Math.random()*(1-this.minScale)+this.minScale;this.items.push({x:Math.random()*this.w,y:Math.random()*this.h,ys:Math.random()+1,height:r*this.itemHeight,width:r*this.itemWidth,opacity:r})}this.getImage(function(){e=setInterval($.proxy(t.draw,t),30)}),setTimeout(function(){clearInterval(e)},n)}}};t.initialize()}setTimeout(function(){$("#IMSLsvLike-Effect-"+o.id).remove()},n)})}},n.Counter=function(e,t,o){var n=this,i=parseInt(o[0])||0,r=parseInt(o[1])||0;if(t.config.counter){var o=r-i;e.find(".lsv-counter span").text(n.FormatCounter(o,t.config.general.formatCounter))}else if(e.find(".lsv-like-counter span").text(n.FormatCounter(r,t.config.general.formatCounter)),e.find(".lsv-dislike-counter span").text(n.FormatCounter(i,t.config.general.formatCounter)),e.find(".lsv-line-response").length>0){var c=r/(r+i)*100;e.find(".lsv-line-response-vote").css("width",c+"%")}},n.RegisterHelpers=function(){var t=this;Handlebars.registerHelper({styleButtonL:function(e){var t="";return"undefined"!=typeof e&&(t+="undefined"!=typeof e.backgroundBefore?"background-color:"+e.backgroundBefore+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColorBefore&&(t+="border-color:"+e.borderColorBefore+";"),t+="undefined"!=typeof e.width&&0!=e.width?"width:"+e.width+"px;":"width: auto;",t+="undefined"!=typeof e.height&&0!=e.height?"height: "+e.height+"px;":"height: auto;"),t},styleIconL:function(e){var t="";return"undefined"!=typeof e&&("undefined"!=typeof e.type&&("font"===e.type?("undefined"!=typeof e.size&&(t+="font-size:"+e.size+"px;"),"undefined"!=typeof e.colorBefore&&(t+="color:"+e.colorBefore+";")):"image"===e.type&&"undefined"!=typeof e.size&&(t+="width:"+e.size+"px;",t+="height:"+e.size+"px;")),t+="undefined"!=typeof e.backgroundBefore?"background-color:"+e.backgroundBefore+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColorBefore&&(t+="border-color:"+e.borderColorBefore+";")),t},styleLabelL:function(e){var t="";return"undefined"!=typeof e&&(t+="undefined"!=typeof e.backgroundBefore?"background-color:"+e.backgroundBefore+";":"background-color: transparent;","undefined"!=typeof e.fontSize&&(t+="font-size: "+e.fontSize+"px;"),"undefined"!=typeof e.fontStyleBefore&&("r"===e.fontStyleBefore?t+="font-weight: normal;":"ri"===e.fontStyleBefore?t+="font-weight: normal;font-style: italic;":"b"===e.fontStyleBefore?t+="font-weight: bold;":"bi"===e.fontStyleBefore&&(t+="font-weight: bold;font-style: italic;")),"undefined"!=typeof e.fontFamily&&(t+="font-family:"+e.fontFamily+";"),"undefined"!=typeof e.fontColorBefore&&(t+="color:"+e.fontColorBefore+";"),"undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColorBefore&&(t+="border-color:"+e.borderColorBefore+";")),t},styleCounterL:function(e){var t="";return"undefined"!=typeof e&&(t+="undefined"!=typeof e.backgroundBefore?"background-color:"+e.backgroundBefore+";":"background-color: transparent;","undefined"!=typeof e.fontSize&&(t+="font-size: "+e.fontSize+"px;"),"undefined"!=typeof e.fontStyleBefore&&("r"===e.fontStyleBefore?t+="font-weight: normal;":"ri"===e.fontStyleBefore?t+="font-weight: normal;font-style: italic;":"b"===e.fontStyleBefore?t+="font-weight: bold;":"bi"===e.fontStyleBefore&&(t+="font-weight: bold;font-style: italic;")),"undefined"!=typeof e.fontFamily&&(t+="font-family:"+e.fontFamily+";"),"undefined"!=typeof e.fontColorBefore&&(t+="color:"+e.fontColorBefore+";"),"undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColorBefore&&(t+="border-color:"+e.borderColorBefore+";")),t},styleCounter2L:function(e){var t="";return"undefined"!=typeof e&&(t+="undefined"!=typeof e.backgroundBefore?"background-color:"+e.backgroundBefore+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderColorBefore&&(t+="border-color:"+e.borderColorBefore+";")),t},iconL:function(e){var t="";return"undefined"!=typeof e&&"undefined"!=typeof e.type&&"undefined"!=typeof e.contentBefore&&("font"===e.type?t='<i class="fa '+e.contentBefore+'"></i>':"image"===e.type&&"undefined"!=typeof e.size&&(t='<img src="'+e.contentBefore+'" width="'+e.size+'px" height="'+e.size+'px" />')),new Handlebars.SafeString(t)},isShowL:function(e){var t="";return"undefined"!=typeof e&&(t=1==e?"display: flex;":"display: none;"),t},isAllowL:function(e){var t="";return"undefined"!=typeof e&&(t=1==e?"pointer-events: auto;":"pointer-events: none;"),t},formatCounterL:function(e,o){return t.FormatCounter(o,e)},eq:function(e,t){return e==t},ne:function(e,t){return e!=t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},lte:function(e,t){return e<=t},gte:function(e,t){return e>=t},and:function(e,t){
return e&&t},or:function(e,t){return e||t},not:function(e){return!e},staticUrl:function(){return e.Config.staticUrl}})},n.RegisterEvents=function(){},n.GetTemplateById=function(e,t,n){o.Post({params:{templateId:Array.from(e).join(",")},action:"get_template_by_id",success:function(e){e.success?Array.isArray(e.data)?"function"==typeof t&&t(e.data):"function"==typeof t&&t([e.data]):("function"==typeof n&&n(),console.error("[LsvLike Error]","Func GetTemplateById:",e.error.message,e))}})},n.InitListLike=function(e,t,n){var i=e.map(function(e){return{template_id:e.templateId,object_id:e.objectId,object_title:e.objectTitle,object_type:e.objectType,object_url:e.objectUrl}});o.Post({params:{params:JSON.stringify(i)},action:"init_list_like",success:function(e){e.success?"function"==typeof t&&t(e.data):("function"==typeof n&&n(),console.error("[LsvLike Error]","Func AddInitLike:",e.error.message,e))}})},n.VoteLike=function(e,t,n){o.Post({params:e,action:"vote_like",success:function(e){e.success?(console.log(e.data),"function"==typeof t&&t()):(console.error("[LsvLike Error]","Func VoteLike:",e.error.message,e),"function"==typeof n&&n())}})},n.UnVoteLike=function(e,t,n){o.Post({params:e,action:"un_vote_like",success:function(e){e.success?(console.log(e.data),"function"==typeof t&&t()):(console.error("[LsvLike Error]","Func UnVoteLike:",e.error.message,e),"function"==typeof n&&n())}})},n.GetLike=function(e,t,n){o.Post({params:e,action:"get_like",success:function(e){if(e.success){var o=e.data;"string"==typeof o&&(o=JSON.parse(o)),"function"==typeof t&&t(o)}else"function"==typeof n&&n(),console.error("[LsvLike Error]","Func GetLike:",e.error.message,e)}})},n.CheckUserLiked=function(e,t,n){o.Post({params:e,action:"check_user_liked",success:function(e){if(e.success){var o=e.data;"string"==typeof o&&""!==o&&(o=JSON.parse(o)),"function"==typeof t&&t(o)}else"function"==typeof n&&n(),console.error("[LsvLike Error]","Func CheckUserLiked:",e)}})},n.InitLike=function(e,t,n){if(Array.isArray(e)){var i=e.length,r=[];e.forEach(function(c,l){o.Post({params:{template_id:c.templateId,object_id:c.objectId,object_title:c.objectTitle,object_type:c.objectType,object_url:c.objectUrl},action:"init_like",success:function(o){i--,o.success?(r.push(o.data),e[l].id=o.data):console.error("[LsvLike Error]","Func AddInitLike:",o.error.message,o),i<=0&&r.length>0&&("function"==typeof t?t(e,r.join(",")):"function"==typeof n&&n())}})})}else o.Post({params:{template_id:e.templateId,object_id:e.objectId,object_title:e.objectTitle,object_type:e.objectType,object_url:e.objectUrl},action:"init_like",success:function(o){o.success?(e.id=o.data,"function"==typeof t&&t(e,o.data)):("function"==typeof n&&n(),console.error("[LsvLike Error]","Func AddInitLike:",o.error.message,o))}})},n.SetCookie=function(e,t,o){"undefined"!=typeof o?document.cookie=e+"="+t+"; expires="+o+"; path=/":document.cookie=e+"="+t+"; path=/"},n.GetCookie=function(e){var t,o=document.cookie,n=[];return""!==o&&(n=o.split(";").map(function(e){return e.trim()}),t=n.find(function(t){return t.split("=")[0].trim()===e}),"undefined"!=typeof t&&(t=t.split("=")[1].trim())),t},n.GetDiffDate=function(e,t){var o=t.getTime()-e.getTime();if(o>0){var n=Math.floor(o/36e5),i=Math.floor((o-60*n*60*1e3)/6e4),r=Math.floor((o-60*i*1e3)/1e3);return{hour:n,minute:i,second:r}}return!1},n.FormatCounter=function(e,t){return 1==t?e:2==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1 "):3==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):4==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."):5==t?e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e:void 0},n.login=function(e,t,o){var n=this;3===e.config.restrict.type&&"facebook"===e.config.restrict.content&&n.initFacebook(t.facebookAppId,function(){n.loginFacebook(function(e){"undefined"!=typeof o&&o(e)})})},n.checkLogin=function(e,t,o){var n=this;3===e.config.restrict.type&&"facebook"===e.config.restrict.content&&n.initFacebook(t.facebookAppId,function(){FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(e){"function"==typeof o&&o({userId:e.id,userMail:e.email})}):"function"==typeof o&&o(!1)})})},n.initFacebook=function(e,t){var o=this,n=!1;0===$("#fb-root").length&&$("body").append("<div id='fb-root'></div>"),"undefined"!=typeof FB&&null!==FB?(n=!0,"undefined"!=typeof t&&t()):$.getScript("//connect.facebook.net/en_US/all.js",function(){window.fbAsyncInit=function(){FB.init({appId:e,cookie:!0,xfbml:!0,version:"v2.9"}),n=!0,"undefined"!=typeof t&&t()}}),setTimeout(function(){n||o.initFacebook(e,t)},500)},n.loginFacebook=function(e){FB.getLoginStatus(function(t){"connected"===t.status?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(t){"undefined"!=typeof e&&e({userId:t.id,userMail:t.email})}):FB.login(function(t){t.authResponse?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(t){"undefined"!=typeof e&&e({userId:t.id,userMail:t.email})}):console.log("User cancelled login or did not fully authorize.")},{scope:"email"})})},n});
!function(t){window.IMS=window.IMS||{},window.IMS.Widgets=window.IMS.Widgets||{},window.IMS.Widgets.LsvEmbed=window.IMS.Widgets.LsvEmbed||{},window.IMS.Widgets.LsvEmbed.LsvRate=t()}(function(){var t=window.IMS.Widgets.LsvEmbed,e={};return e.InitPublished=function(t,e){var n=this;n.RegisterHelpers(),$(".IMSLsvRate").each(function(){var t=$(this),a=t.attr("data-id");n.GetRateById(a,function(o){var r={id:a,title:o.title,description:o.description,rateLevel:o.rate_level,rateHalf:o.rate_half,isMultiQuestion:o.is_multi_question,isSubmit:o.is_submit,config:o.rate_config?JSON.parse(o.rate_config):{},params:e};n.GetQuestionRateByRateId(a,function(a){if("facebook"===r.config.setting.login&&"undefined"==typeof e.facebookAppId)return void console.log("Chưa truyền tham số [facebookAppId]");switch(r.config.theme){case 1:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].rate_theme_1)({question:a,config:r.config});t.html(o),n.EventsRate1(t,r,a);break;case 2:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].rate_theme_2)({question:a,config:r.config});t.html(o),n.EventsRate2(t,r,a)}})})}),n.RegisterEvents(),"function"==typeof callback&&callback()},e.EventsRate1=function(t,e,n){var a=this,o=[];n.forEach(function(n){t.find('.lsv-rate-item[data-id="'+n.id+'"] .lsv-rate-layer-selected').css({width:n.result/e.rateLevel*100+"%"}),t.find('.lsv-rate-item[data-id="'+n.id+'"] .lsv-rate-layer-hover').css({width:"0%"}),t.find('.lsv-rate-item[data-id="'+n.id+'"] .lsv-rate-result').text(n.result+" ("+n.countUser+" lượt)")}),t.find(".lsv-rate-layer i").off("mousemove").on("mousemove",function(t){var n=$(this),a=0,o=100/e.rateLevel,r=0;1==e.rateHalf?parseInt(t.pageX)-n.offset().left>parseInt(n.width())/2?(a=n.data("value"),r=o*parseInt(a)):(a=parseInt(n.data("value"))-.5,r=o*parseFloat(a)):(a=n.data("value"),r=o*parseInt(a)),n.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:"0%"}),n.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:r+"%"}),n.parents(".lsv-rate-item").find(".lsv-rate-result").text(a+"/"+e.rateLevel)}),t.find(".lsv-rate-layer i").off("mouseleave").on("mouseleave",function(t){var a=$(this),o=a.parents(".lsv-rate-item").data("id"),r=n.find(function(t){return t.id===o}),i=a.closest(".lsv-rate-content").attr("data-rate");a.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:"0%"}),i?(a.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:parseFloat(i)/e.rateLevel*100+"%"}),a.parents(".lsv-rate-item").find(".lsv-rate-result").text(i+"/"+e.rateLevel)):(a.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:r.result/e.rateLevel*100+"%"}),a.parents(".lsv-rate-item").find(".lsv-rate-result").text(r.result+" ("+r.countUser+" lượt)"))}),$(".lsv-rate-layer i").off("click").on("click",function(t){var r=$(this),i=r.parents(".lsv-rate-item").data("id"),s=n.find(function(t){return t.id===i}),l=0;l=1==e.rateHalf?parseInt(t.pageX)-r.offset().left>parseInt(r.width())/2?r.data("value"):parseInt(r.data("value"))-.5:r.data("value"),r.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:"0%"}),r.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:parseFloat(l)/e.rateLevel*100+"%"}),r.closest(".lsv-rate-content").attr("data-rate",l),a.Toggle(o,{questionId:i,atTotal:parseFloat(l)}),e.config.setting.isSubmit||a.login(e,function(t){a.AddRateAnswer({rateId:e.id,questionId:i,atTotal:parseFloat(l),userId:t.userId,userMail:t.userMail},function(t){a.GetQuestionRateById(i,function(t){s=n.find(function(t){return t.id===i}),s.result=t.result,s.countUser=t.countUser,r.closest(".lsv-rate-content").removeAttr("data-rate"),r.closest(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:t.result/e.rateLevel*100+"%"}),r.closest(".lsv-rate-main").find(".lsv-rate-result").text(t.result+" ("+t.countUser+" lượt)")}),"function"==typeof e.params.callback&&e.params.callback({status:!0})},function(){"function"==typeof e.params.callback&&e.params.callback({status:!1})})})}),e.config.setting.isSubmit&&$(".lsv-rate-submit").off("click").on("click",function(){var t=$(this),r=[],i=[];o.forEach(function(t){r.push(t.questionId),i.push(t.atTotal)}),a.login(e,function(s){o=[],a.AddRateAnswer({rateId:e.id,questionId:r.join(";"),atTotal:i.join(";"),userId:s.userId,userMail:s.userMail},function(o){r.forEach(function(o){a.GetQuestionRateById(o,function(a){var r=n.find(function(t){return t.id===o});r.result=a.result,r.countUser=a.countUser,t.closest(".lsv-rate").find(".lsv-rate-item[data-id="+o+"] .lsv-rate-content").removeAttr("data-rate"),t.closest(".lsv-rate").find(".lsv-rate-item[data-id="+o+"] .lsv-rate-layer-selected").css({width:a.result/e.rateLevel*100+"%"}),t.closest(".lsv-rate").find(".lsv-rate-item[data-id="+o+"] .lsv-rate-result").text(a.result+" ("+a.countUser+" lượt)")})}),"function"==typeof e.params.callback&&e.params.callback({status:!0})},function(){"function"==typeof e.params.callback&&e.params.callback({status:!1})})})})},e.EventsRate2=function(t,e,n){var a=this,o=[];n.forEach(function(n){t.find('.lsv-rate-item[data-id="'+n.id+'"] .lsv-rate-layer-selected').css({width:n.result/e.rateLevel*100+"%"}),t.find('.lsv-rate-item[data-id="'+n.id+'"] .lsv-rate-layer-hover').css({width:"0%"})}),t.find(".lsv-rate-layer i").off("mousemove").on("mousemove",function(t){var n=$(this),a=0,o=100/e.rateLevel,r=0;1==e.rateHalf?parseInt(t.pageX)-n.offset().left>parseInt(n.width())/2?(a=n.data("value"),r=o*parseInt(a)):(a=parseInt(n.data("value"))-.5,r=o*parseFloat(a)):(a=n.data("value"),r=o*parseInt(a)),n.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:"0%"}),n.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:r+"%"}),n.parents(".lsv-rate-item").find(".lsv-rate-content-star-result").text(a+"/"+e.rateLevel)}),t.find(".lsv-rate-layer i").off("mouseleave").on("mouseleave",function(t){var a=$(this),o=a.parents(".lsv-rate-item").data("id"),r=n.find(function(t){return t.id===o}),i=a.closest(".lsv-rate-content").attr("data-rate");a.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:"0%"}),i?(a.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:parseFloat(i)/e.rateLevel*100+"%"}),a.parents(".lsv-rate-item").find(".lsv-rate-content-star-result").text(i+"/"+e.rateLevel)):(a.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:r.result/e.rateLevel*100+"%"}),a.parents(".lsv-rate-item").find(".lsv-rate-content-star-result").text("0/"+e.rateLevel))}),$(".lsv-rate-layer i").off("click").on("click",function(t){var r=$(this),i=r.parents(".lsv-rate-item").data("id"),s=n.find(function(t){return t.id===i}),l=0;l=1==e.rateHalf?parseInt(t.pageX)-r.offset().left>parseInt(r.width())/2?r.data("value"):parseInt(r.data("value"))-.5:r.data("value"),r.parents(".lsv-rate-content").find(".lsv-rate-layer-hover").css({width:"0%"}),r.parents(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:parseFloat(l)/e.rateLevel*100+"%"}),r.closest(".lsv-rate-content").attr("data-rate",l),a.Toggle(o,{questionId:i,atTotal:parseFloat(l)}),e.config.setting.isSubmit||a.login(e,function(t){a.AddRateAnswer({rateId:e.id,questionId:i,atTotal:parseFloat(l),userId:t.userId,userMail:t.userMail},function(t){a.GetQuestionRateById(i,function(t){s=n.find(function(t){return t.id===i}),s.result=t.result,s.countUser=t.countUser,r.closest(".lsv-rate-content").removeAttr("data-rate"),r.closest(".lsv-rate-content").find(".lsv-rate-layer-selected").css({width:t.result/e.rateLevel*100+"%"}),r.closest(".lsv-rate-main").find(".lsv-rate-result-point").text(t.result),r.closest(".lsv-rate-item").find(".lsv-rate-content-result-point").text(t.result),r.closest(".lsv-rate-item").find(".lsv-rate-content-result-user").text(t.countUser)}),"function"==typeof e.params.callback&&e.params.callback({status:!0})},function(){"function"==typeof e.params.callback&&e.params.callback({status:!1})})})})},e.RegisterHelpers=function(){Handlebars.registerHelper({styleTitleR:function(t){var e="";return"undefined"!=typeof t.fontSize&&(e+="font-size: "+t.fontSize+"px;"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?e+="font-weight: normal;":"ri"===t.fontStyle?e+="font-weight: normal;font-style: italic;":"b"===t.fontStyle?e+="font-weight: bold;":"bi"===t.fontStyle&&(e+="font-weight: bold;font-style: italic;")),"undefined"!=typeof t.fontFamily&&(e+="font-family:"+t.fontFamily+";"),"undefined"!=typeof t.fontColor&&(e+="color:"+t.fontColor+";"),e},styleIconResultR:function(t){var e="";return"undefined"!=typeof t.iconSize&&(e+="font-size:"+t.iconSize+"px;"),"undefined"!=typeof t.iconColor&&(e+="color:"+t.iconColor+";"),e},styleIconR:function(t){var e="";return"undefined"!=typeof t.size&&(e+="font-size:"+t.size+"px;"),"undefined"!=typeof t.color&&(e+="color:"+t.color+";"),e},styleIconHoverR:function(t){var e="";return"undefined"!=typeof t.size&&(e+="font-size:"+t.size+"px;"),"undefined"!=typeof t.colorHover&&(e+="color:"+t.colorHover+";"),e},styleIconSelectedR:function(t){var e="";return"undefined"!=typeof t.size&&(e+="font-size:"+t.size+"px;"),"undefined"!=typeof t.colorSelected&&(e+="color:"+t.colorSelected+";"),e},styleResultR:function(t){var e="";return"undefined"!=typeof t.fontSize&&(e+="font-size: "+t.fontSize+"px;"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?e+="font-weight: normal;":"ri"===t.fontStyle?e+="font-weight: normal;font-style: italic;":"b"===t.fontStyle?e+="font-weight: bold;":"bi"===t.fontStyle&&(e+="font-weight: bold;font-style: italic;")),"undefined"!=typeof t.fontFamily&&(e+="font-family:"+t.fontFamily+";"),"undefined"!=typeof t.fontColor&&(e+="color:"+t.fontColor+";"),e},styleFontResultR:function(t){var e="";return"undefined"!=typeof t.iconFontSize&&(e+="font-size: "+t.iconFontSize+"px;"),"undefined"!=typeof t.iconFontStyle&&("r"===t.iconFontStyle?e+="font-weight: normal;":"ri"===t.iconFontStyle?e+="font-weight: normal;font-style: italic;":"b"===t.iconFontStyle?e+="font-weight: bold;":"bi"===t.iconFontStyle&&(e+="font-weight: bold;font-style: italic;")),"undefined"!=typeof t.iconFontFamily&&(e+="font-family:"+t.iconFontFamily+";"),"undefined"!=typeof t.iconFontColor&&(e+="color:"+t.iconFontColor+";"),e},styleSubmitR:function(t){var e="";return e+="undefined"!=typeof t.background?"background-color:"+t.background+";":"background-color: transparent;","undefined"!=typeof t.fontSize&&(e+="font-size: "+t.fontSize+"px;"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?e+="font-weight: normal;":"ri"===t.fontStyle?e+="font-weight: normal;font-style: italic;":"b"===t.fontStyle?e+="font-weight: bold;":"bi"===t.fontStyle&&(e+="font-weight: bold;font-style: italic;")),"undefined"!=typeof t.fontFamily&&(e+="font-family:"+t.fontFamily+";"),"undefined"!=typeof t.fontColor&&(e+="color:"+t.fontColor+";"),"undefined"!=typeof t.borderWidth&&(e+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(e+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(e+="border-color:"+t.borderColor+";"),e},iconR:function(t,e){for(var n="",a=0;a<parseInt(e);a++)n+='<i class="fa '+t+'" data-value="'+(a+1)+'"></i>';return new Handlebars.SafeString(n)},showR:function(t,e){var n="";return n=1==t?"display: "+e+";":"display: none;"},eq:function(t,e){return t==e},ne:function(t,e){return t!=e},lt:function(t,e){return t<e},gt:function(t,e){return t>e},lte:function(t,e){return t<=e},gte:function(t,e){return t>=e},and:function(t,e){return t&&e},or:function(t,e){return t||e},not:function(t){return!t},plus:function(t,e){return parseInt(t)+parseInt(e)},staticUrlR:function(){return IMS.Config.staticUrl}})},e.RegisterEvents=function(){},e.GetRateById=function(e,n){t.Post({params:{id:e},action:"get_rate_by_id",success:function(t){if(t.success)try{var e=t.data;"string"==typeof e&&(e=JSON.parse(e)),"function"==typeof n&&n(e)}catch(a){console.log("RateEmbed Err GetRateById:",a)}else console.log("RateEmbed Err GetRateById:",t.error)}})},e.GetQuestionRateById=function(e,n){var a=this;t.Post({params:{questionId:e},action:"get_rate_question_by_id",success:function(t){if(t.success)try{var o=t.data;"string"==typeof o&&(o=JSON.parse(o)),a.GetRateAnswerSummary({rateId:o.rate_id,questionId:e},function(t){"function"==typeof n&&n({result:parseFloat(t.rate)||0,countUser:parseInt(t.count_user)||0})})}catch(r){console.log("RateEmbed Err GetQuestionRateById:",r)}else console.log("RateEmbed Err GetQuestionRateById:",t.error)}})},e.GetQuestionRateByRateId=function(e,n){var a=this;t.Post({params:{rateId:e},action:"get_rate_question_by_rate_id",success:function(t){if(t.success)try{var e=t.data,o=0;"string"==typeof e&&(e=JSON.parse(e)),e.map(function(t){a.GetRateAnswerSummary({rateId:t.rate_id,questionId:t.id},function(a){o++,t.result=parseFloat(a.rate)||0,t.countUser=parseInt(a.count_user)||0,o===e.length&&"function"==typeof n&&n(e)})})}catch(r){console.log("RateEmbed Err GetQuestionRateByRateId:",r)}else console.log("RateEmbed Err GetQuestionRateByRateId:",t.error)}})},e.GetRateAnswerSummary=function(e,n){t.Post({params:e,action:"get_rate_answer_summary",success:function(t){if(t.success)try{var e=t.data;"function"==typeof n&&n(e)}catch(a){console.log("RateEmbed Err GetRateAnswerSummary:",a)}else console.log("RateEmbed Err GetRateAnswerSummary:",t.error),"function"==typeof n&&n(0)}})},e.AddRateAnswer=function(e,n,a){var o=this;t.Post({params:{rateId:e.rateId,questionId:e.questionId,userId:e.userId,userMail:e.userMail,atTotal:e.atTotal},action:"add_rate_answer",success:function(t){t.success?o.GetRateAnswerSummary({rateId:e.rateId,questionId:e.questionId},function(t){"function"==typeof n&&n(t)}):("function"==typeof a&&a(),console.log("RateEmbed Err AddRateAnswer:",t.error))}})},e.GetRateAnswer=function(e,n){t.Post({params:{rateId:e},action:"get_rate_answer",success:function(t){t.success?"function"==typeof n&&n(t.data):console.log("RateEmbed Err GetRateAnswer:",t.error)}})},e.GetRateResult=function(t,e){var n=this;n.GetRateById(t,function(a){n.GetRateAnswer(t,function(t){var n=0;a.config.isRateGroup?a.data.data.forEach(function(e){var a=0;e.rateGroupQuestions.forEach(function(e){var o=t.find(function(t){return t.question_id===e.rateQuestionId});"undefined"==typeof o&&(o={}),e.rateQuestionAnswerCount=parseInt(o.count)||0,a+=parseInt(e.rateQuestionAnswerCount),n+=parseInt(e.rateQuestionAnswerCount)}),e.rateGroupAnswerCount=a}):a.data.data.forEach(function(e){var a=t.find(function(t){return t.question_id===e.rateQuestionId});"undefined"==typeof a&&(a={}),e.rateQuestionAnswerCount=parseInt(a.count)||0,n+=parseInt(e.rateQuestionAnswerCount)}),a.data.totalAnswer=n,"function"==typeof e&&e(a)})})},e.SetCookie=function(t,e,n){document.cookie=t+"="+e+"; expires="+n+"; path=/"},e.GetCookie=function(t){var e,n=document.cookie,a=[];return""!==n&&(a=n.split(";").map(function(t){return t.trim()}),e=a.find(function(e){return e.split("=")[0].trim()===t}),"undefined"!=typeof e&&(e=e.split("=")[1].trim())),e},e.GetDiffDate=function(t,e){var n=e.getTime()-t.getTime();if(n>0){var a=Math.floor(n/36e5),o=Math.floor((n-60*a*60*1e3)/6e4),r=Math.floor((n-60*o*1e3)/1e3);return{hour:a,minute:o,second:r}}return!1},e.Toggle=function(t,e){var n=t.indexOf(e);n!==-1?t.splice(n,1):t.push(e)},e.login=function(t,e){var n=this;"facebook"===t.config.setting.login&&n.initFacebook(t.params.facebookAppId,function(t){"undefined"!=typeof e&&e(t)})},e.initFacebook=function(t,e){var n=this;0===$("#fb-root").length&&$("body").append("<div id='fb-root'></div>"),"undefined"!=typeof FB&&null!==FB?n.loginFacebook(function(t){"undefined"!=typeof e&&e(t)}):$.getScript("//connect.facebook.net/en_US/all.js",function(){window.fbAsyncInit=function(){FB.init({appId:t,cookie:!0,xfbml:!0,version:"v2.8"}),n.loginFacebook(function(t){"undefined"!=typeof e&&e(t)})}})},e.loginFacebook=function(t){FB.getLoginStatus(function(e){"connected"===e.status?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(e){"undefined"!=typeof t&&t({userId:e.id,userMail:e.email})}):FB.login(function(e){e.authResponse?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(e){"undefined"!=typeof t&&t({userId:e.id,userMail:e.email})}):console.log("Người dùng đã hủy đăng nhập hoặc không ủy quyền đầy đủ.")},{scope:"email"})})},e});
!function(e){window.IMS=window.IMS||{},window.IMS.Widgets=window.IMS.Widgets||{},window.IMS.Widgets.LsvEmbed=window.IMS.Widgets.LsvEmbed||{},window.IMS.Widgets.LsvEmbed.LsvShare=e()}(function(){var e=window.IMS.Widgets.LsvEmbed,t={};return t.platForms={1:{name:"facebook",type:1,sdk_url:"//connect.facebook.net/en_US/all.js",params:[["objectUrl","og:url"],["objectTitle","og:title"],["objectImage","og:image"],["objectDescription","og:description"]]},2:{name:"google-plus",type:2,share_url:"https://plus.google.com/share?",params:[["objectUrl","url"]]},3:{name:"twitter",type:3,share_url:"http://twitter.com/share?",params:[["objectUrl","url"]]}},t.Options={templateCached:{}},t.InitPublished=function(e,t){var o=this,r=new Set,n=new Set,i=[],a=[],c=[];if(o.RegisterHelpers(),1===e){if("undefined"==typeof t.template||Object.keys(t.template).length<1||null===t.template)return void console.error("[LsvShare Error]","Chưa truyền tham số [template]");if("undefined"==typeof t.template.id||null===t.template.id||""===t.template.id)return void console.error("[LsvShare Error]","Tham số [template] truyền chưa đúng định dạng");var d,l,f=t.template.id,u=t.facebookAppId,p=t.reInit||!1;2===Object.keys(t.template).length&&"undefined"!=typeof t.template.source?l=t.template.source:Object.keys(t.template).length>1&&(d=t.template),$(".IMSLsvShare").each(function(e){var t=$(this);if(p||"true"!=t.attr("data-init")){t.attr("data-init",!0);var s=t.data("id"),h=t.data("type"),b=t.data("url"),y=t.data("title"),m=t.data("description"),g=t.data("image"),j=!1;if("undefined"!=typeof s&&""!==s&&null!==s||(console.error("[LsvShare Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-id]"),j=!0),"undefined"!=typeof h&&""!==h&&null!==h||(console.error("[LsvShare Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-type]"),j=!0),"undefined"!=typeof b&&""!==b&&null!==b||(console.error("[LsvShare Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-url]"),j=!0),"undefined"!=typeof y&&""!==y&&null!==y||(console.error("[LsvShare Error]","Element "+(e+1)+" chưa truyền thuộc tính [data-title]"),j=!0),!j){var v={templateId:f,facebookAppId:u,objectId:s,objectType:h,objectUrl:b,objectTitle:unescape(y),objectDescription:m,objectImage:g,element:t,count:0};o.Options.templateCached[f]?(v.config=o.Options.templateCached[f],i.push(v)):d?(v.config="string"==typeof d?JSON.parse(d):d,i.push(v)):l?(n.add(l),c.push(v)):(r.add(f),a.push(v))}}})}else if(2===e){var s=!1;if("undefined"==typeof t.template||Object.keys(t.template).length<1||null===t.template)return void console.error("[LsvShare Error]","Chưa truyền tham số [template]");if("undefined"==typeof t.template.id||null===t.template.id||""===t.template.id)return void console.error("[LsvShare Error]","Tham số [template] truyền chưa đúng định dạng");if("undefined"!=typeof t.objectId&&""!==t.objectId&&null!==t.objectId||(console.error("[LsvShare Error]","Chưa truyền param [objectId]"),s=!0),"undefined"!=typeof t.objectType&&""!==t.objectType&&null!==t.objectType||(console.error("[LsvShare Error]","Chưa truyền param [objectType]"),s=!0),"undefined"!=typeof t.objectUrl&&""!==t.objectUrl&&null!==t.objectUrl||(console.error("[LsvShare Error]","Chưa truyền param [objectUrl]"),s=!0),"undefined"!=typeof t.objectTitle&&""!==t.objectTitle&&null!==t.objectTitle||(console.error("[LsvShare Error]","Chưa truyền param [objectTitle]"),s=!0),s)return;var d,l,h=$(t.placeholder),p=t.reInit||!1,f=t.template.id,u=t.facebookAppId;if(!p&&"true"==h.attr("data-init"))return;h.attr("data-init",!0),2===Object.keys(t.template).length&&"undefined"!=typeof t.template.source?l=t.template.source:Object.keys(t.template).length>1&&(d=t.template);var b={templateId:f,facebookAppId:u,objectId:t.objectId,objectType:t.objectType,objectUrl:t.objectUrl,objectTitle:unescape(t.objectTitle),objectDescription:t.objectDescription,objectImage:t.objectImage,element:h,count:0};o.Options.templateCached[f]?(b.config=o.Options.templateCached[f],i.push(b)):d?(b.config="string"==typeof d?JSON.parse(d):d,i.push(b)):l?(n.add(l),c.push(b)):(r.add(f),a.push(b))}else 3===e&&t.forEach(function(e,t){var d=!1;if("undefined"==typeof e.template||Object.keys(e.template).length<1||null===e.template?(console.error("[LsvShare Error]","Chưa truyền tham số [template]"),d=!0):"undefined"!=typeof e.template.id&&null!==e.template.id&&""!==e.template.id||(console.error("[LsvShare Error]","Tham số [template] truyền chưa đúng định dạng"),d=!0),"undefined"!=typeof e.placeholder&&""!==e.placeholder&&null!==e.placeholder||(console.error("[LsvShare Error] Param "+(t+1)+":","Chưa truyền tham số [placeholder]"),d=!0),"undefined"!=typeof e.objectId&&""!==e.objectId&&null!==e.objectId||(console.error("[LsvShare Error] Param "+(t+1)+":","Chưa truyền tham số [objectId]"),d=!0),"undefined"!=typeof e.objectType&&""!==e.objectType&&null!==e.objectType||(console.error("[LsvShare Error] Param "+(t+1)+":","Chưa truyền tham số [objectType]"),d=!0),"undefined"!=typeof e.objectTitle&&""!==e.objectTitle&&null!==e.objectTitle||(console.error("[LsvShare Error] Param "+(t+1)+":","Chưa truyền tham số [objectTitle]"),d=!0),"undefined"!=typeof e.objectUrl&&""!==e.objectUrl&&null!==e.objectUrl||(console.error("[LsvShare Error] Param "+(t+1)+":","Chưa truyền tham số [objectUrl]"),d=!0),!d){var l,f,u=$(e.placeholder),p=e.reInit||!1,s=e.template.id,h=e.facebookAppId;if(p||"true"!=u.attr("data-init")){u.attr("data-init",!0),2===Object.keys(e.template).length&&"undefined"!=typeof e.template.source?f=e.template.source:Object.keys(e.template).length>1&&(l=e.template);var b={templateId:s,facebookAppId:h,objectId:e.objectId,objectType:e.objectType,objectUrl:e.objectUrl,objectTitle:unescape(e.objectTitle),objectDescription:e.objectDescription,objectImage:e.objectImage,element:u,count:0};o.Options.templateCached[s]?(b.config=o.Options.templateCached[s],i.push(b)):l?(b.config="string"==typeof l?JSON.parse(l):l,i.push(b)):f?(n.add(f),c.push(b)):(r.add(s),a.push(b))}}});var y=function(e){e.forEach(function(e){o.RenderShare(e.element,e)}),o.InitListShare(e,function(r){e.forEach(function(e){return r.forEach(function(t){t.object_id===e.objectId&&t.object_type===e.objectType&&(e.id=t.id,e.count=t.count)}),1===e.config.provider&&"undefined"==typeof e.facebookAppId?void console.error("[LsvShare Error]","Chưa truyền tham số [facebookAppId]"):void o.EventsShare(e.element,e,t)})})};i.length>0&&y(i),a.length>0&&o.GetTemplateById(r,function(e){e.forEach(function(e){var t=e.template_config?JSON.parse(e.template_config):{};o.Options.templateCached[e.id]=t,a.forEach(function(o,r){o.templateId===e.id&&(a[r].config=t)})}),y(a)}),c.length>0&&n.forEach(function(e){$.getJSON(e).done(function(e){$.extend(o.Options.templateCached,e);var t=[];c.forEach(function(o){e[o.templateId]&&(o.config=e[o.templateId],t.push(o))}),y(t)}).fail(function(e,t,o){var r=t+", "+o;console.error("[LsvShare Error] Load resource fail: "+r)})}),o.RegisterEvents()},t.RenderShare=function(e,t){switch(t.config.theme){case 1:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].share_theme_1)(t);e.html(o);break;case 2:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].share_theme_2)(t);e.html(o);break;case 3:var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].share_theme_3)(t);e.html(o)}},t.Counter=function(e,t){var o=this,r=t.count;"undefined"!=typeof r&&e.find(".lsv-share-counter span").text(o.FormatCounter(parseInt(r),t.config.general.formatCounter))},t.EventsShare=function(e,t,o){var r=this;r.Counter(e,t),t.config.general.allowShare&&e.find(".lsv-share-button").off("click").on("click",function(){"function"==typeof o.precheck&&o.precheck({action:"share",provider:t.config.provider});var n=r.platForms[t.config.provider];r.registerPlatForm(n,t,function(){var n=parseInt(t.count);e.find(".lsv-share-counter span").text(n+1),r.AddShare({id:t.id,object_id:t.objectId,object_type:t.objectType,provider:t.config.provider},function(){"function"==typeof o.callback&&o.callback({action:"share",provider:t.config.provider,status:!0})},function(){"function"==typeof o.callback&&o.callback({action:"share",provider:t.config.provider,status:!1})})})})},t.registerPlatForm=function(e,t,o){var r=this;if(1===e.type){var n={};e.params.forEach(function(e){"objectUrl"===e[0]&&(n[e[1]]=t.objectUrl),"objectTitle"===e[0]&&(n[e[1]]=t.objectTitle),"objectImage"===e[0]&&"undefined"!==t.objectImage&&(n[e[1]]=t.objectImage),"objectDescription"===e[0]&&"undefined"!==t.objectDescription&&(n[e[1]]=t.objectDescription)}),"facebook"===e.name&&r.initFacebook(e,t,n,function(){"undefined"!=typeof o&&o()})}else if(2===e.type){var i="";e.params.forEach(function(e){"objectUrl"===e[0]&&(i+=e[1]+"="+t.objectUrl+"&"),"objectTitle"===e[0]&&(i+=e[1]+"="+t.objectTitle+"&")});var a=e.share_url+i.slice(0,-1);r.OpenWindow({url:a,width:600,height:600}),"undefined"!=typeof o&&o()}else if(3===e.type){var i="";e.params.forEach(function(e){"objectUrl"===e[0]&&(i+=e[1]+"="+t.objectUrl+"&")});var a=e.share_url+i.slice(0,-1);r.OpenWindow({url:a,width:600,height:300}),"undefined"!=typeof o&&o()}},t.RegisterHelpers=function(){var e=this;Handlebars.registerHelper({styleButtonS:function(e){var t="";return t+="undefined"!=typeof e.background?"background-color:"+e.background+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColor&&(t+="border-color:"+e.borderColor+";"),t+="undefined"!=typeof e.width&&0!=e.width?"width:"+e.width+"px;":"width: auto;",t+="undefined"!=typeof e.height&&0!=e.height?"height: "+e.height+"px;":"height: auto;"},styleIconS:function(e){var t="";return"undefined"!=typeof e.type&&("font"===e.type?("undefined"!=typeof e.size&&(t+="font-size:"+e.size+"px;"),"undefined"!=typeof e.color&&(t+="color:"+e.color+";")):"image"===e.type&&"undefined"!=typeof e.size&&(t+="width:"+e.size+"px;",t+="height:"+e.size+"px;")),t+="undefined"!=typeof e.background?"background-color:"+e.background+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColor&&(t+="border-color:"+e.borderColor+";"),t},styleLabelS:function(e){var t="";return t+="undefined"!=typeof e.background?"background-color:"+e.background+";":"background-color: transparent;","undefined"!=typeof e.fontSize&&(t+="font-size: "+e.fontSize+"px;"),"undefined"!=typeof e.fontStyle&&("r"===e.fontStyle?t+="font-weight: normal;":"ri"===e.fontStyle?t+="font-weight: normal;font-style: italic;":"b"===e.fontStyle?t+="font-weight: bold;":"bi"===e.fontStyle&&(t+="font-weight: bold;font-style: italic;")),"undefined"!=typeof e.fontFamily&&(t+="font-family:"+e.fontFamily+";"),"undefined"!=typeof e.fontColor&&(t+="color:"+e.fontColor+";"),"undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColor&&(t+="border-color:"+e.borderColor+";"),t},styleCounterS:function(e){var t="";return t+="undefined"!=typeof e.background?"background-color:"+e.background+";":"background-color: transparent;","undefined"!=typeof e.fontSize&&(t+="font-size: "+e.fontSize+"px;"),"undefined"!=typeof e.fontStyle&&("r"===e.fontStyle?t+="font-weight: normal;":"ri"===e.fontStyle?t+="font-weight: normal;font-style: italic;":"b"===e.fontStyle?t+="font-weight: bold;":"bi"===e.fontStyle&&(t+="font-weight: bold;font-style: italic;")),"undefined"!=typeof e.fontFamily&&(t+="font-family:"+e.fontFamily+";"),"undefined"!=typeof e.fontColor&&(t+="color:"+e.fontColor+";"),"undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderRadius&&(t+="border-radius:"+e.borderRadius+"px;"),"undefined"!=typeof e.borderColor&&(t+="border-color:"+e.borderColor+";"),t},styleCounter2S:function(e){var t="";return t+="undefined"!=typeof e.background?"background-color:"+e.background+";":"background-color: transparent;","undefined"!=typeof e.borderWidth&&(t+="border-width:"+e.borderWidth+"px;"),"undefined"!=typeof e.borderColor&&(t+="border-color:"+e.borderColor+";"),t},iconS:function(e){var t="";return"undefined"!=typeof e.type&&"undefined"!=typeof e.content&&("font"===e.type?t='<i class="fa '+e.content+'"></i>':"image"===e.type&&"undefined"!=typeof e.size&&(t='<img src="'+e.content+'" width="'+e.size+'px" height="'+e.size+'px" />')),new Handlebars.SafeString(t)},isShowS:function(e){var t="";return t=1==e?"display: flex;":"display: none;"},isAllowS:function(e){var t="";return t=1==e?"pointer-events: auto;":"pointer-events: none;"},formatCounterS:function(t,o){return"undefined"==typeof o&&(o=0),e.FormatCounter(o,t)},eq:function(e,t){return e==t},ne:function(e,t){return e!=t},lt:function(e,t){return e<t},gt:function(e,t){return e>t},lte:function(e,t){return e<=t},gte:function(e,t){return e>=t},and:function(e,t){return e&&t},or:function(e,t){return e||t},not:function(e){return!e},showS:function(e,t){var o="";return o=1==e?"display: "+t+";":"display: none;"}})},t.RegisterEvents=function(){},t.InitShare=function(t,o,r){if(Array.isArray(t)){var n=t.length,i=[];t.forEach(function(a,c){e.Post({params:{template_id:a.templateId,object_id:a.objectId,object_title:a.objectTitle,object_type:a.objectType,object_url:a.objectUrl,service_provider_id:a.provider},action:"init_share",success:function(e){n--,e.success?(i.push(e.data),t[c].shareId=e.data):console.error("[LsvShare Error]","Func InitShare:",e.error.message,e),n<=0&&i.length>0&&("function"==typeof o?o(t,i.join(",")):"function"==typeof r&&r())}})})}else e.Post({params:{template_id:t.templateId,object_id:t.objectId,object_title:t.objectTitle,object_type:t.objectType,object_url:t.objectUrl,service_provider_id:t.provider},action:"init_share",success:function(e){e.success?(t.shareId=e.data,"function"==typeof o&&o(t,e.data)):("function"==typeof r&&r(),console.error("[LsvShare Error]","Func InitShare:",e.error.message,e))}})},t.InitListShare=function(t,o,r){var n=t.map(function(e){return{template_id:e.templateId,object_id:e.objectId,object_title:e.objectTitle,object_type:e.objectType,object_url:e.objectUrl,service_provider_id:e.config.provider||0}});e.Post({params:{params:JSON.stringify(n)},action:"init_list_share",success:function(e){e.success?"function"==typeof o&&o(e.data):("function"==typeof r&&r(),console.error("[LsvShare Error]","Func InitListShare:",e.error.message,e))}})},t.GetTemplateById=function(t,o,r){e.Post({params:{templateId:Array.from(t).join(",")},action:"get_template_by_id",success:function(e){e.success?Array.isArray(e.data)?"function"==typeof o&&o(e.data):"function"==typeof o&&o([e.data]):("function"==typeof r&&r(),console.error("[LsvShare Error]","Func GetTemplateById:",e.error.message,e))}})},t.AddShare=function(t,o,r){e.Post({params:t,action:"add_share",success:function(e){if(e.success)try{console.log(e.data),"function"==typeof o&&o()}catch(t){"function"==typeof r&&r(),console.error("[LsvShare Error]","Func AddShare:",t)}else"function"==typeof r&&r(),console.error("[LsvShare Error]","Func AddShare:",e.error.message,e)}})},t.GetShare=function(t,o,r){e.Post({params:t,action:"get_share",success:function(e){if(e.success){var t=e.data;"string"==typeof t&&(t=JSON.parse(t)),"function"==typeof o&&o(t)}else"function"==typeof r&&r(),console.error("[LsvShare Error]","Func GetLike:",e.error.message,e)}})},t.SetCookie=function(e,t,o){document.cookie=e+"="+t+"; expires="+o+"; path=/"},t.GetCookie=function(e){var t,o=document.cookie,r=[];return""!==o&&(r=o.split(";").map(function(e){return e.trim()}),t=r.find(function(t){return t.split("=")[0].trim()===e}),"undefined"!=typeof t&&(t=t.split("=")[1].trim())),t},t.GetDiffDate=function(e,t){var o=t.getTime()-e.getTime();if(o>0){var r=Math.floor(o/36e5),n=Math.floor((o-60*r*60*1e3)/6e4),i=Math.floor((o-60*n*1e3)/1e3);return{hour:r,minute:n,second:i}}return!1},t.FormatNumber=function(e,t){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1"+t)},t.FormatCounter=function(e,t){return 1==t?e:2==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1 "):3==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):4==t?e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1."):5==t?e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e:void 0},t.OpenWindow=function(e){var t,o,r,n,i;return n=e.url,i=e.width,t=e.height,o=screen.width/2-i/2,r=screen.height/2-t/2,window.open(n,"","width="+i+",height="+t+",top="+r+",left="+o)},t.initFacebook=function(e,t,o,r){var n=this;0===$("#fb-root").length&&$("body").append("<div id='fb-root'></div>"),"undefined"!=typeof FB&&null!==FB?n.initFacebookAPIInteractions(o,function(){"undefined"!=typeof r&&r()}):$.getScript(e.sdk_url,function(){window.fbAsyncInit=function(){FB.init({appId:t.facebookAppId,status:!0,cookie:!0,xfbml:!0,version:"v2.9"}),n.initFacebookAPIInteractions(o,function(){"undefined"!=typeof r&&r()})}})},t.initFacebookAPIInteractions=function(e,t){var o={method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:e})};return FB.ui(o,function(e){e&&!e.error_message?"undefined"!=typeof t&&t():console.log("Lỗi trong khi đăng.")})},t});
!function(t){window.IMS=window.IMS||{},window.IMS.Widgets=window.IMS.Widgets||{},window.IMS.Widgets.LsvEmbed=window.IMS.Widgets.LsvEmbed||{},window.IMS.Widgets.LsvEmbed.LsvVote=t()}(function(){var t=window.IMS.Widgets.LsvEmbed,o={};return o.InitPublished=function(t,o){var e=this;e.RegisterHelpers(),$(".IMSLsvVote").each(function(){var t=$(this),n=t.data("id");e.GetVoteById(n,function(n){if(n.params=o,3===n.config.custom.restrictType&&"facebook"===n.config.custom.restrictContent&&"undefined"==typeof n.params.facebookAppId)return void console.log("Chưa truyền tham số [facebookAppId]");switch(n.config.theme){case 1:var i=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_theme_1)(n);t.html(i),e.EventsTheme1(t,n);break;case 2:var i=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_theme_2)(n);t.html(i),e.EventsTheme2(t,n);break;case 3:var i=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_theme_3)(n);t.html(i),e.EventsTheme3(t,n);break;case 4:var i=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_theme_4)(n);t.html(i),e.EventsTheme4(t,n);break;case 5:var i=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_theme_5)(n);t.html(i),e.EventsTheme5(t,n)}})}),e.RegisterEvents(),"function"==typeof callback&&callback()},o.EventsTheme1=function(o,e){var n=this,i=o;switch(i.find(".lsv-vote-question-button input").off("change").on("change",function(){var t=$(this),o={color:e.config.body.question.item.fontColorBefore},n={color:e.config.body.question.item.fontColorAfter};"r"===e.config.body.question.item.fontStyleBefore?o.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleBefore?(o.fontWeight="normal",o.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleBefore?o.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleBefore&&(o.fontWeight="bold",o.fontStyle="italic"),"r"===e.config.body.question.item.fontStyleAfter?n.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleAfter?(n.fontWeight="normal",n.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleAfter?n.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleAfter&&(n.fontWeight="bold",n.fontStyle="italic"),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-content").css(o),t.is(":checked")?t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(n):t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(o)}),i.find(".lsv-vote-footer-submit").off("click").on("click",function(){var t=$(this),o=[],r=!1,s=t.parents(".lsv-vote").find(".lsv-vote-question").length,c=0;t.parents(".lsv-vote").find(".lsv-vote-question-item input:checked").each(function(t){var e,n=$(this).attr("data-id");"true"===$(this).attr("data-question-other")&&(e=$(this).parents(".lsv-vote-question-item").find(".lsv-vote-question-other").val(),"undefined"!=typeof e&&""!==e||(r=!0)),o.push({id:n,questionOther:e})}),t.parents(".lsv-vote").find(".lsv-vote-question").each(function(){var t=$(this).find("input:checked").length;t>0&&c++}),c===s?r?(alert("Không được bỏ trống câu hỏi tự chọn!"),r=!1):n.SubmitVote(o,e,function(){i.find(".lsv-vote-footer-result").trigger("click")}):alert("Bạn phải chọn tất cả phương án!")}),e.config.custom.isUncheckedQuestion&&(i.find("input[type=radio]").attr("data-check",!1),i.find("input[type=radio]").off("click").on("click",function(){var t=$(this).attr("data-check");$(this).parents(".lsv-vote-question").find("input[type=radio]").not($(this)).attr("data-check",!1),"true"===t?($(this).prop("checked",!1),$(this).attr("data-check",!1),$(this).closest(".lsv-vote-question").find(".lsv-vote-question-button input").trigger("change")):$(this).attr("data-check",!0)})),e.config.custom.resultType){case 1:i.find(".lsv-vote-footer-result").off("click").on("click",function(){t.Options.getChannelTokenFunction(function(o){var n=IMS.ConfigPlugins["lsv-embed"].baseAjaxUrl+"custom-preview/preview-lsv/vote-result?id="+e.id+"&user_name="+t.Options.userName+"&token="+o,i=(window.innerHeight-500)/2,r=(window.innerWidth-700)/2;window.open(n,"_blank","width=700,height=500,left="+r+",top="+i+",location=no")})})}},o.EventsTheme2=function(o,e){var n=this,i=o;switch(i.find(".lsv-vote-question-button input").off("change").on("change",function(){var t=$(this);e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-button").css({borderColor:e.config.body.question.button.borderColorBefore,backgroundColor:e.config.body.question.button.backgroundBefore}),t.is(":checked")?t.closest(".lsv-vote-question-button").css({borderColor:e.config.body.question.button.borderColorAfter,backgroundColor:e.config.body.question.button.backgroundAfter}):t.closest(".lsv-vote-question-button").css({borderColor:e.config.body.question.button.borderColorBefore,backgroundColor:e.config.body.question.button.backgroundBefore}),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,color:e.config.body.question.item.fontColorBefore}),t.is(":checked")?t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundAfter,color:e.config.body.question.item.fontColorAfter}):t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,color:e.config.body.question.item.fontColorBefore});var o={color:e.config.body.question.item.fontColorBefore},n={color:e.config.body.question.item.fontColorAfter};"r"===e.config.body.question.item.fontStyleBefore?o.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleBefore?(o.fontWeight="normal",o.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleBefore?o.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleBefore&&(o.fontWeight="bold",o.fontStyle="italic"),"r"===e.config.body.question.item.fontStyleAfter?n.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleAfter?(n.fontWeight="normal",n.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleAfter?n.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleAfter&&(n.fontWeight="bold",n.fontStyle="italic"),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-content").css(o),t.is(":checked")?t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(n):t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(o)}),i.find(".lsv-vote-footer-submit").off("click").on("click",function(){var t=$(this),o=[],r=!1,s=t.parents(".lsv-vote").find(".lsv-vote-question").length,c=0;t.parents(".lsv-vote").find(".lsv-vote-question-item input:checked").each(function(t){var e,n=$(this).attr("data-id");"true"===$(this).attr("data-question-other")&&(e=$(this).parents(".lsv-vote-question-item").find(".lsv-vote-question-other").val(),"undefined"!=typeof e&&""!==e||(r=!0)),o.push({id:n,questionOther:e})}),t.parents(".lsv-vote").find(".lsv-vote-question").each(function(){var t=$(this).find("input:checked").length;t>0&&c++}),c===s?r?(alert("Không được bỏ trống câu hỏi tự chọn!"),r=!1):n.SubmitVote(o,e,function(){i.find(".lsv-vote-footer-result").trigger("click")}):alert("Bạn phải chọn tất cả phương án!")}),e.config.custom.isUncheckedQuestion&&(i.find("input[type=radio]").attr("data-check",!1),i.find("input[type=radio]").off("click").on("click",function(){var t=$(this).attr("data-check");$(this).parents(".lsv-vote-question").find("input[type=radio]").not($(this)).attr("data-check",!1),"true"===t?($(this).prop("checked",!1),$(this).attr("data-check",!1),$(this).closest(".lsv-vote-question").find(".lsv-vote-question-button input").trigger("change")):$(this).attr("data-check",!0)})),e.config.custom.resultType){case 1:i.find(".lsv-vote-footer-result").off("click").on("click",function(){t.Options.getChannelTokenFunction(function(o){var n=IMS.ConfigPlugins["lsv-embed"].baseAjaxUrl+"custom-preview/preview-lsv/vote-result?id="+e.id+"&channel_id="+t.Options.channelId+"&user_name="+t.Options.userName+"&token="+o,i=(window.innerHeight-500)/2,r=(window.innerWidth-700)/2;window.open(n,"_blank","width=700,height=500,left="+r+",top="+i+",location=no")})});break;case 2:i.find(".lsv-vote-footer-result").off("click").on("click",function(){var t=$(this);n.GetVoteResult(e.id,function(o){var e=o.data;o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup?e.forEach(function(t){t.questions.forEach(function(t){$(".lsv-vote-question-result[data-id="+t.id+"]").text(t.count+" bình chọn")})}):e.forEach(function(t){$(".lsv-vote-question-result[data-id="+t.id+"]").text(t.count+" bình chọn")}),t.parents(".lsv-vote-main").find(".lsv-vote-question-result").css("display","inline-block")})});break;case 3:i.find(".lsv-vote-footer-result").off("click").on("click",function(){$(this);n.GetVoteResult(e.id,function(t){var o=Handlebars.template(IMSPluginTemplate["lsv-embed"].vote_result_2)(t);$("#lsv-popup").remove(),$("body").append('<div id="lsv-popup"></div>'),$("#lsv-popup").html(o);var e=$(".lsv-vote-popup-main").outerWidth()+100,n=$(".lsv-vote-popup-main").outerHeight()+100,i=window.innerWidth,r=window.innerHeight;i>e&&$(".lsv-vote-popup-main").css("left",(i-e)/2),r>n&&$(".lsv-vote-popup-main").css("top",(r-n)/2),$(".lsv-vote-popup-close").off("click").on("click",function(){$("#lsv-popup").remove()})})})}},o.EventsTheme3=function(t,o){var e=this,n=t,i=0;e.GetVoteResult(o.id,function(t){var o=t.data;i=t.data.total,o.forEach(function(o){var e=o.count/t.data.total*100||0;$(".lsv-vote-question-result[data-id="+o.id+"]").text(o.count),n.find(".lsv-vote-question-content-result[data-id="+o.id+"]").css("width",e+"%")})}),n.find(".lsv-vote-question-item input").off("change").on("change",function(){var t=$(this),n={color:o.config.body.question.item.fontColorBefore},r={color:o.config.body.question.item.fontColorAfter};if("r"===o.config.body.question.item.fontStyleBefore?n.fontWeight="normal":"ri"===o.config.body.question.item.fontStyleBefore?(n.fontWeight="normal",n.fontStyle="italic"):"b"===o.config.body.question.item.fontStyleBefore?n.fontWeight="bold":"bi"===o.config.body.question.item.fontStyleBefore&&(n.fontWeight="bold",n.fontStyle="italic"),"r"===o.config.body.question.item.fontStyleAfter?r.fontWeight="normal":"ri"===o.config.body.question.item.fontStyleAfter?(r.fontWeight="normal",r.fontStyle="italic"):"b"===o.config.body.question.item.fontStyleAfter?r.fontWeight="bold":"bi"===o.config.body.question.item.fontStyleAfter&&(r.fontWeight="bold",r.fontStyle="italic"),o.config.custom.isMultiChoice||(t.closest(".lsv-vote-question").find(".lsv-vote-question-content").css({borderColor:o.config.body.question.item.borderColorBefore}),t.closest(".lsv-vote-question").find(".lsv-vote-question-content-text").css(n)),t.is(":checked")){t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css({borderColor:o.config.body.question.item.borderColorAfter}),t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content-text").css(r);var s=[];t.parents(".lsv-vote").find(".lsv-vote-question-item input:checked").each(function(t){var o=$(this).attr("data-id");s.push({id:o})}),e.SubmitVote(s,o,function(){var o=t.parents(".lsv-vote-question-item").find(".lsv-vote-question-result"),e=parseInt(o.text());o.text(e+1),i+=1,t.closest(".lsv-vote").find(".lsv-vote-question-item").each(function(){var t=parseInt($(this).find(".lsv-vote-question-result").text()),o=t/i*100||0;$(this).find(".lsv-vote-question-content-result").css("width",o+"%")})})}else t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css({borderColor:o.config.body.question.item.borderColorBefore})})},o.EventsTheme4=function(o,e){var n=this,i=o;switch(i.find(".lsv-vote-question-content input").off("change").on("change",function(){var t=$(this);e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-content").css({borderColor:e.config.body.question.item.borderColorBefore,backgroundColor:e.config.body.question.button.backgroundBefore}),t.is(":checked")?t.closest(".lsv-vote-question-content").css({borderColor:e.config.body.question.item.borderColorAfter,backgroundColor:e.config.body.question.button.backgroundAfter}):t.closest(".lsv-vote-question-content").css({borderColor:e.config.body.question.item.borderColorBefore,backgroundColor:e.config.body.question.button.backgroundBefore}),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,borderColor:e.config.body.question.item.borderColorBefore}),t.is(":checked")?t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundAfter,borderColor:e.config.body.question.item.borderColorAfter}):t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,borderColor:e.config.body.question.item.borderColorBefore});var o={color:e.config.body.question.item.fontColorBefore},n={color:e.config.body.question.item.fontColorAfter};"r"===e.config.body.question.item.fontStyleBefore?o.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleBefore?(o.fontWeight="normal",o.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleBefore?o.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleBefore&&(o.fontWeight="bold",o.fontStyle="italic"),"r"===e.config.body.question.item.fontStyleAfter?n.fontWeight="normal":"ri"===e.config.body.question.item.fontStyleAfter?(n.fontWeight="normal",n.fontStyle="italic"):"b"===e.config.body.question.item.fontStyleAfter?n.fontWeight="bold":"bi"===e.config.body.question.item.fontStyleAfter&&(n.fontWeight="bold",n.fontStyle="italic"),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-content").css(o),t.is(":checked")?t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(n):t.closest(".lsv-vote-question-item").find(".lsv-vote-question-content").css(o)}),i.find(".lsv-vote-footer-submit").off("click").on("click",function(){var t=$(this),o=[],r=!1,s=t.parents(".lsv-vote").find(".lsv-vote-question").length,c=0;t.parents(".lsv-vote").find(".lsv-vote-question-item input:checked").each(function(t){var e,n=$(this).attr("data-id");"true"===$(this).attr("data-question-other")&&(e=$(this).parents(".lsv-vote-question-item").find(".lsv-vote-question-other").val(),"undefined"!=typeof e&&""!==e||(r=!0)),o.push({id:n,questionOther:e})}),t.parents(".lsv-vote").find(".lsv-vote-question").each(function(){var t=$(this).find("input:checked").length;t>0&&c++}),c===s?r?(alert("Không được bỏ trống câu hỏi tự chọn!"),r=!1):n.SubmitVote(o,e,function(){i.find(".lsv-vote-footer-result").trigger("click")}):alert("Bạn phải chọn tất cả phương án!")}),e.config.custom.isUncheckedQuestion&&(i.find("input[type=radio]").attr("data-check",!1),i.find("input[type=radio]").off("click").on("click",function(){var t=$(this).attr("data-check");$(this).parents(".lsv-vote-question").find("input[type=radio]").not($(this)).attr("data-check",!1),"true"===t?($(this).prop("checked",!1),$(this).attr("data-check",!1),$(this).closest(".lsv-vote-question").find(".lsv-vote-question-content input").trigger("change")):$(this).attr("data-check",!0)})),e.config.custom.resultType){case 1:i.find(".lsv-vote-footer-result").off("click").on("click",function(){t.Options.getChannelTokenFunction(function(o){var n=IMS.ConfigPlugins["lsv-embed"].baseAjaxUrl+"custom-preview/preview-lsv/vote-result?id="+e.id+"&channel_id="+t.Options.channelId+"&user_name="+t.Options.userName+"&token="+o,i=(window.innerHeight-500)/2,r=(window.innerWidth-700)/2;window.open(n,"_blank","width=700,height=500,left="+r+",top="+i+",location=no")})});break;case 2:i.find(".lsv-vote-footer-result").off("click").on("click",function(){var t=$(this);n.GetVoteResult(e.id,function(o){var e=o.data;o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup?e.forEach(function(t){t.questions.forEach(function(o){var e=o.count/t.total*100||0;$(".lsv-vote-question-result[data-id="+o.id+"]").text(o.count+" bình chọn ("+e.toFixed(2)+"%)")})}):e.forEach(function(t){var o=t.count/e.total*100||0;$(".lsv-vote-question-result[data-id="+t.id+"]").text(t.count+" bình chọn ("+o.toFixed(2)+"%)")}),t.parents(".lsv-vote-main").find(".lsv-vote-question-result").css("display","inline-block")})})}},o.EventsTheme5=function(o,e){var n=this,i=o;switch(i.find(".lsv-vote-button input").off("change").on("change",function(){var t=$(this);e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-button").css({backgroundColor:e.config.body.question.button.backgroundBefore}),t.is(":checked")?t.closest(".lsv-vote-button").css({backgroundColor:e.config.body.question.button.backgroundAfter}):t.closest(".lsv-vote-button").css({backgroundColor:e.config.body.question.button.backgroundBefore}),e.config.custom.isMultiChoice||t.closest(".lsv-vote-question").find(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,borderColor:e.config.body.question.item.borderColorBefore}),t.is(":checked")?t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundAfter,borderColor:e.config.body.question.item.borderColorAfter}):t.closest(".lsv-vote-question-item").css({backgroundColor:e.config.body.question.item.backgroundBefore,borderColor:e.config.body.question.item.borderColorBefore})}),i.find(".lsv-vote-footer-submit").off("click").on("click",function(){var t=$(this),o=[],r=!1,s=t.parents(".lsv-vote").find(".lsv-vote-question").length,c=0;t.parents(".lsv-vote").find(".lsv-vote-question-item input:checked").each(function(t){var e,n=$(this).attr("data-id");"true"===$(this).attr("data-question-other")&&(e=$(this).parents(".lsv-vote-question-item").find(".lsv-vote-question-other").val(),"undefined"!=typeof e&&""!==e||(r=!0)),o.push({id:n,questionOther:e})}),t.parents(".lsv-vote").find(".lsv-vote-question").each(function(){var t=$(this).find("input:checked").length;t>0&&c++}),c===s?r?(alert("Không được bỏ trống câu hỏi tự chọn!"),r=!1):n.SubmitVote(o,e,function(){i.find(".lsv-vote-footer-result").trigger("click")}):alert("Bạn phải chọn tất cả phương án!")}),e.config.custom.isUncheckedQuestion&&(i.find("input[type=radio]").attr("data-check",!1),i.find("input[type=radio]").off("click").on("click",function(){var t=$(this).attr("data-check");$(this).parents(".lsv-vote-question").find("input[type=radio]").not($(this)).attr("data-check",!1),"true"===t?($(this).prop("checked",!1),$(this).attr("data-check",!1),$(this).closest(".lsv-vote-button input").trigger("change")):$(this).attr("data-check",!0)})),e.config.custom.resultType){case 1:i.find(".lsv-vote-footer-result").off("click").on("click",function(){t.Options.getChannelTokenFunction(function(o){var n=IMS.ConfigPlugins["lsv-embed"].baseAjaxUrl+"custom-preview/preview-lsv/vote-result?id="+e.id+"&channel_id="+t.Options.channelId+"&user_name="+t.Options.userName+"&token="+o,i=(window.innerHeight-500)/2,r=(window.innerWidth-700)/2;window.open(n,"_blank","width=700,height=500,left="+r+",top="+i+",location=no")})});break;case 2:i.find(".lsv-vote-footer-result").off("click").on("click",function(){var t=$(this);n.GetVoteResult(e.id,function(o){var e=o.data;t.parents(".lsv-vote").find(".lsv-vote-question").css("padding-bottom","45px"),t.parents(".lsv-vote").find(".lsv-vote-question-result").css("display","block"),o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup?e.forEach(function(t){t.questions.forEach(function(o){var e=o.count/t.count*100||0;$(".lsv-vote-question-result[data-id="+o.id+"]").find(".lsv-vote-question-result-text").text(o.count+" bình chọn ("+e.toFixed(2)+"%)"),setTimeout(function(){$(".lsv-vote-question-result[data-id="+o.id+"]").find(".lsv-vote-question-progress").css("width",e+"%")},100)})}):e.forEach(function(t){var o=t.count/e.total*100||0;$(".lsv-vote-question-result[data-id="+t.id+"]").find(".lsv-vote-question-result-text").text(t.count+" bình chọn ("+o.toFixed(2)+"%)"),setTimeout(function(){$(".lsv-vote-question-result[data-id="+t.id+"]").find(".lsv-vote-question-progress").css("width",o+"%")},100)})})})}},o.SubmitVote=function(t,o,e){var n=this;if("function"==typeof o.params.precheck&&o.params.precheck(),1===o.config.custom.restrictType){var i=0,r=0,s=0;if(o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup){var c=[],d=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?c.push(t.id):d.push(t)}),s=(c?1:0)+d.length,c.length){var u={voteId:o.id,questionId:c.join(";")};n.AddVoteAnswer(u,function(){i++,o.data.forEach(function(t){t.questions.forEach(function(o){if(o.id===u.questionId)return o.count=(parseInt(o.count)||0)+1,void(t.total=(parseInt(t.total)||0)+1)})}),"function"==typeof e&&e()},function(){r++})}d.length&&d.forEach(function(t){var s={voteId:o.id,questionId:t.id,otherContent:t.questionOther};n.AddVoteAnswer(s,function(){i++,o.data.forEach(function(t){t.id===s.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})})}else{var c=[],d=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?c.push(t.id):d.push(t)}),s=(c?1:0)+d.length,c.length){var u={voteId:o.id,questionId:c.join(";")};n.AddVoteAnswer(u,function(){i++,o.data.forEach(function(t){t.id===u.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})}d.length&&d.forEach(function(t){var s={voteId:o.id,questionId:t.id,otherContent:t.questionOther};n.AddVoteAnswer(s,function(){i++,o.data.forEach(function(t){t.id===s.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})})}var f=function(){i===s?"function"==typeof o.params.callback&&o.params.callback({status:!0}):i+r===s?"function"==typeof o.params.callback&&o.params.callback({status:!1}):setTimeout(function(){f()},100)};f()}else if(2===o.config.custom.restrictType){var a=new Date(n.GetCookie("lsv-vote-"+o.id));a.setHours(a.getHours()+parseInt(o.config.custom.restrictContent));var l=new Date,v=n.GetDiffDate(l,a);if(v)alert("Để tiếp tục bình chọn, bạn vui lòng đợi "+v.hour+" giờ "+v.minute+" phút "+v.second+" giây."),"function"==typeof o.params.callback&&o.params.callback({status:!1});else{var b=0,i=0,r=0,s=0;if(o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup){var c=[],d=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?c.push(t.id):d.push(t)}),s=(c?1:0)+d.length,c.length){var u={voteId:o.id,questionId:c.join(";")};n.AddVoteAnswer(u,function(){b++,i++,o.data.forEach(function(t){t.questions.forEach(function(o){if(o.id===u.questionId)return o.count=(parseInt(o.count)||0)+1,void(t.total=(parseInt(t.total)||0)+1)})}),"function"==typeof e&&e()},function(){r++})}d.length&&d.forEach(function(t){var s={voteId:o.id,questionId:t.id,otherContent:t.questionOther};n.AddVoteAnswer(s,function(){b++,i++,o.data.forEach(function(t){t.id===s.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})})}else{var c=[],d=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?c.push(t.id):d.push(t)}),s=(c?1:0)+d.length,c.length){var u={voteId:o.id,questionId:c.join(";")};n.AddVoteAnswer(u,function(){b++,i++,o.data.forEach(function(t){t.id===u.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})}d.length&&d.forEach(function(t){var s={voteId:o.id,questionId:t.id,otherContent:t.questionOther};n.AddVoteAnswer(s,function(){b++,i++,o.data.forEach(function(t){t.id===s.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){r++})})}var f=function(){i===s?"function"==typeof o.params.callback&&o.params.callback({status:!0}):i+r===s?"function"==typeof o.params.callback&&o.params.callback({status:!1}):setTimeout(function(){f()},100)};f();var h=function(){b===s?n.SetCookie("lsv-vote-"+o.id,l,new Date(l.getTime()+60*parseInt(o.config.custom.restrictContent)*60*1e3)):setTimeout(function(){h()},100)};h()}}else 3===o.config.custom.restrictType&&n.login(o,o.params,function(i){n.CheckUserVoted({voteId:o.id,userId:i.userId},function(r){if(r.exist)alert("Bạn đã bình chọn rồi!"),"function"==typeof o.params.callback&&o.params.callback({status:!1});else{var s=0,c=0,d=0;if(o.config.custom.allowVoteGroup&&o.config.custom.isVoteGroup){var u=[],f=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?u.push(t.id):f.push(t)}),d=(u?1:0)+f.length,u.length){var a={voteId:o.id,questionId:u.join(";"),userId:i.userId,userEmail:i.userMail};n.AddVoteAnswer(a,function(){s++,o.data.forEach(function(t){t.questions.forEach(function(o){if(o.id===a.questionId)return o.count=(parseInt(o.count)||0)+1,void(t.total=(parseInt(t.total)||0)+1)})}),"function"==typeof e&&e()},function(){c++})}f.length&&f.forEach(function(t){var r={voteId:o.id,questionId:t.id,otherContent:t.questionOther,userId:i.userId,userEmail:i.userMail};n.AddVoteAnswer(r,function(){s++,o.data.forEach(function(t){t.id===r.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){c++})})}else{var u=[],f=[];if(t.forEach(function(t){"undefined"!=typeof t.questionOther||""!==t.questionOther?u.push(t.id):f.push(t)}),d=(u?1:0)+f.length,u.length){var a={voteId:o.id,questionId:u.join(";"),userId:i.userId,userEmail:i.userMail};n.AddVoteAnswer(a,function(){b++,s++,o.data.forEach(function(t){t.id===a.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){c++})}f.length&&f.forEach(function(t){var r={voteId:o.id,questionId:t.id,otherContent:t.questionOther,userId:i.userId,userEmail:i.userMail};n.AddVoteAnswer(r,function(){b++,s++,o.data.forEach(function(t){t.id===r.questionId&&(t.count=(parseInt(t.count)||0)+1,o.data.total=(parseInt(o.data.total)||0)+1)}),"function"==typeof e&&e()},function(){c++})})}var l=function(){s===d?"function"==typeof o.params.callback&&o.params.callback({status:!0}):s+c===d?"function"==typeof o.params.callback&&o.params.callback({status:!1}):setTimeout(function(){l()},100)};l()}})})},o.RegisterHelpers=function(){Handlebars.registerHelper({percent:function(t,o){var e=t/o*100;return e+"%"},eq:function(t,o){return t==o},ne:function(t,o){return t!=o},lt:function(t,o){return t<o},gt:function(t,o){return t>o},lte:function(t,o){return t<=o},gte:function(t,o){return t>=o},and:function(t,o){return t&&o},or:function(t,o){return t||o},not:function(t){return!t},resultFacebook:function(t,o){var e=Math.round(t/o*100);return"width: "+e+"%"},getArray:function(t,o,e){var n=t[o]||{};return e.fn(n)},staticUrl:function(){return IMS.Config.staticUrl},styleMainV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),"undefined"!=typeof t.fontFamily&&(o+="font-family:"+t.fontFamily+";"),o},styleHeaderV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),o},styleTitleV:function(t){var o="";return"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),"undefined"!=typeof t.fontColor&&(o+="color:"+t.fontColor+";"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?o+="font-weight:normal;":"ri"===t.fontStyle?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyle?o+="font-weight:bold;":"bi"===t.fontStyle&&(o+="font-weight:bold;font-style:italic;")),o},styleDescriptionV:function(t){var o="";return"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),"undefined"!=typeof t.fontColor&&(o+="color:"+t.fontColor+";"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?o+="font-weight:normal;":"ri"===t.fontStyle?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyle?o+="font-weight:bold;":"bi"===t.fontStyle&&(o+="font-weight:bold;font-style:italic;")),o},styleFooterV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),o},styleSubmitV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),"undefined"!=typeof t.fontColor&&(o+="color:"+t.fontColor+";"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?o+="font-weight:normal;":"ri"===t.fontStyle?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyle?o+="font-weight:bold;":"bi"===t.fontStyle&&(o+="font-weight:bold;font-style:italic;")),o},styleResultV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),"undefined"!=typeof t.fontColor&&(o+="color:"+t.fontColor+";"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?o+="font-weight:normal;":"ri"===t.fontStyle?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyle?o+="font-weight:bold;":"bi"===t.fontStyle&&(o+="font-weight:bold;font-style:italic;")),o},styleBodyV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),o},styleQuestionV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),o},styleQuestionItemV:function(t){var o="";return"undefined"!=typeof t.backgroundBefore&&(o+=""!==t.backgroundBefore?"background-color:"+t.backgroundBefore+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColorBefore&&(o+="border-color:"+t.borderColorBefore+";"),o},styleQuestionContentV:function(t){var o="";return"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),
"undefined"!=typeof t.fontColorBefore&&(o+="color:"+t.fontColorBefore+";"),"undefined"!=typeof t.fontStyleBefore&&("r"===t.fontStyleBefore?o+="font-weight:normal;":"ri"===t.fontStyleBefore?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyleBefore?o+="font-weight:bold;":"bi"===t.fontStyleBefore&&(o+="font-weight:bold;font-style:italic;")),o},styleGroupV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),o},styleGroupTitleV:function(t){var o="";return"undefined"!=typeof t.background&&(o+=""!==t.background?"background-color:"+t.background+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColor&&(o+="border-color:"+t.borderColor+";"),"undefined"!=typeof t.fontSize&&(o+="font-size:"+t.fontSize+"px;"),"undefined"!=typeof t.fontColor&&(o+="color:"+t.fontColor+";"),"undefined"!=typeof t.fontStyle&&("r"===t.fontStyle?o+="font-weight:normal;":"ri"===t.fontStyle?o+="font-weight:normal;font-style:italic;":"b"===t.fontStyle?o+="font-weight:bold;":"bi"===t.fontStyle&&(o+="font-weight:bold;font-style:italic;")),o},styleButtonV:function(t){var o="";return"undefined"!=typeof t.backgroundBefore&&(o+=""!==t.backgroundBefore?"background-color:"+t.backgroundBefore+";":"background-color:transparent;"),"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderColorBefore&&(o+="border-color:"+t.borderColorBefore+";"),o},backgroundV:function(t){var o="";return"undefined"!=typeof t&&(o+=""!==t?"background-color:"+t+";":"background-color:transparent;"),o},borderV:function(t){var o="";return"undefined"!=typeof t.borderWidth&&(o+="border-width:"+t.borderWidth+"px;"),"undefined"!=typeof t.borderRadius&&(o+="border-radius:"+t.borderRadius+"px;"),"undefined"!=typeof t.borderColorBefore&&(o+="border-color:"+t.borderColorBefore+";"),o},styleQuestionButtonV:function(t){var o="";return"undefined"!=typeof t.backgroundBefore&&(o+=""!==t.backgroundBefore?"background-color:"+t.backgroundBefore+";":"background-color:transparent;"),o}})},o.RegisterEvents=function(){},o.AddVoteAnswer=function(o,e,n){t.Post({params:{voteId:o.voteId,questionId:o.questionId,userId:o.userId,userEmail:o.userEmail,otherContent:o.otherContent},action:"add_vote_answer",success:function(t){if(t.success)try{"function"==typeof e&&e()}catch(o){"function"==typeof n&&n(),console.log("VoteEmbed Err AddVoteAnswer:",o)}else"function"==typeof n&&n(),console.log("VoteEmbed Err AddVoteAnswer:",t.error)}})},o.GetVoteAnswer=function(o,e){t.Post({params:{voteId:o},action:"get_vote_answer",success:function(t){if(t.success)try{"function"==typeof e&&e(t.data)}catch(o){console.log("VoteEmbed Err GetVoteAnswer:",o)}else console.log("VoteEmbed Err GetVoteAnswer:",t.error)}})},o.GetVoteById=function(o,e){t.Post({params:{id:o},action:"get_vote_by_id",success:function(t){if(t.success)try{var o={id:t.data.id,title:t.data.title,description:t.data.description,data:t.data.vote_data?JSON.parse(t.data.vote_data):{},config:t.data.vote_config?JSON.parse(t.data.vote_config):{}};"function"==typeof e&&e(o)}catch(n){console.log("VoteEmbed Err GetVoteById:",n)}else console.log("VoteEmbed Err GetVoteById:",t.error)}})},o.GetVoteResult=function(t,o){var e=this;e.GetVoteById(t,function(n){e.GetVoteAnswer(t,function(t){var e=0;n.config.custom.allowVoteGroup&&n.config.custom.isVoteGroup?n.data.forEach(function(o){var n=0;o.questions.forEach(function(o){var i=t.find(function(t){return t.question_id===o.id});"undefined"==typeof i&&(i={}),o.count=parseInt(i.count)||0,n+=parseInt(o.count),e+=parseInt(o.count)}),o.count=n}):n.data.forEach(function(o){var n=t.find(function(t){return t.question_id===o.id});"undefined"==typeof n&&(n={}),o.count=parseInt(n.count)||0,e+=parseInt(o.count)}),n.data.total=e,"function"==typeof o&&o(n)})})},o.CheckUserVoted=function(o,e){t.Post({params:o,action:"check_user_voted",success:function(t){if(t.success)try{var o=t.data;"string"==typeof o&&""!==o&&(o=JSON.parse(o)),"function"==typeof e&&e(o)}catch(n){console.log("VoteEmbed Err CheckUserVoted:",n)}else console.log("VoteEmbed Err CheckUserVoted:",t)}})},o.SetCookie=function(t,o,e){document.cookie=t+"="+o+"; expires="+e+"; path=/"},o.GetCookie=function(t){var o,e=document.cookie,n=[];return""!==e&&(n=e.split(";").map(function(t){return t.trim()}),o=n.find(function(o){return o.split("=")[0].trim()===t}),"undefined"!=typeof o&&(o=o.split("=")[1].trim())),o},o.GetDiffDate=function(t,o){var e=o.getTime()-t.getTime();if(e>0){var n=Math.floor(e/36e5),i=Math.floor((e-60*n*60*1e3)/6e4),r=Math.floor((e-60*i*1e3)/1e3);return{hour:n,minute:i,second:r}}return!1},o.login=function(t,o,e){var n=this;3===t.config.custom.restrictType&&1===t.config.custom.restrictContent&&n.initFacebook(o.facebookAppId,function(){n.loginFacebook(function(t){"undefined"!=typeof e&&e(t)})})},o.initFacebook=function(t,o){var e=this,n=!1;0===$("#fb-root").length&&$("body").append("<div id='fb-root'></div>"),"undefined"!=typeof FB&&null!==FB?(n=!0,"undefined"!=typeof o&&o()):$.getScript("//connect.facebook.net/en_US/all.js",function(){window.fbAsyncInit=function(){FB.init({appId:t,cookie:!0,xfbml:!0,version:"v2.9"}),n=!0,"undefined"!=typeof o&&o()}}),setTimeout(function(){n||e.initFacebook(t,o)},500)},o.loginFacebook=function(t){FB.getLoginStatus(function(o){"connected"===o.status?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(o){"undefined"!=typeof t&&t({userId:o.id,userMail:o.email})}):FB.login(function(o){o.authResponse?FB.api("/me",{locale:"vi_VN",fields:"id,email"},function(o){"undefined"!=typeof t&&t({userId:o.id,userMail:o.email})}):console.log("Người dùng đã hủy đăng nhập hoặc không ủy quyền đầy đủ.")},{scope:"email"})})},o});
this.IMSPluginTemplate=this.IMSPluginTemplate||{},this.IMSPluginTemplate["lsv-embed"]=this.IMSPluginTemplate["lsv-embed"]||{},this.IMSPluginTemplate["lsv-embed"].like_theme_1={compiler:[7,">= 4.0.0"],main:function(l,n,e,a,s){var i,t=null!=n?n:l.nullContext||{},o=e.helperMissing,u=l.escapeExpression,c=l.lambda;return'<div class="lsv-like lsv-like-theme-1">\r\n    <div class="lsv-likebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.likebtn:i,{name:"styleButtonL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeButton:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-like-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeIcon:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"iconL",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-like-label" style="'+u((e.styleLabelL||n&&n.styleLabelL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.label:i,{name:"styleLabelL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeLabel:i,{name:"isShowL",hash:{},data:s}))+'">'+u(c(null!=(i=null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.label:i)?i.content:i,n))+'</div>\r\n        <div class="lsv-like-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeCounter:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:s}))+'</span>\r\n        </div>\r\n        <div class="lsv-like-overlay"></div>\r\n    </div>\r\n\r\n    <div class="lsv-dislikebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.dislikebtn:i,{name:"styleButtonL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeButton:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-dislike-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeIcon:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"iconL",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-dislike-label" style="'+u((e.styleLabelL||n&&n.styleLabelL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.label:i,{name:"styleLabelL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeLabel:i,{name:"isShowL",hash:{},data:s}))+'">'+u(c(null!=(i=null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.label:i)?i.content:i,n))+'</div>\r\n        <div class="lsv-dislike-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=n?n.general:n)?i.showDislikeCounter:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:s}))+'</span>\r\n        </div>\r\n        <div class="lsv-like-overlay"></div>\r\n    </div>\r\n</div>'},useData:!0};
this.IMSPluginTemplate["lsv-embed"].like_theme_2={compiler:[7,">= 4.0.0"],main:function(l,n,e,a,s){var i,t=null!=n?n:l.nullContext||{},o=e.helperMissing,u=l.escapeExpression,c=l.lambda;return'<div class="lsv-like lsv-like-theme-2">\r\n    <div class="lsv-likebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.likebtn:i,{name:"styleButtonL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeButton:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-like-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeIcon:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"iconL",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-like-label" style="'+u((e.styleLabelL||n&&n.styleLabelL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.label:i,{name:"styleLabelL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=n?n.general:n)?i.showLikeLabel:i,{name:"isShowL",hash:{},data:s}))+'">'+u(c(null!=(i=null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.label:i)?i.content:i,n))+'</div>\r\n        <div class="lsv-like-overlay"></div>\r\n    </div>\r\n    <div class="lsv-like-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeCounter:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-like-counter-triangle" style="'+u((e.styleCounter2L||n&&n.styleCounter2L||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.counter:i,{name:"styleCounter2L",hash:{},data:s}))+'"></div>\r\n        <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:s}))+'</span>\r\n    </div>\r\n\r\n    <div class="lsv-dislikebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.dislikebtn:i,{name:"styleButtonL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeButton:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-dislike-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeIcon:i,{name:"isShowL",hash:{},data:s}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"iconL",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-dislike-label" style="'+u((e.styleLabelL||n&&n.styleLabelL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.label:i,{name:"styleLabelL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeLabel:i,{name:"isShowL",hash:{},data:s}))+'">'+u(c(null!=(i=null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.label:i)?i.content:i,n))+'</div>\r\n        <div class="lsv-like-overlay"></div>\r\n    </div>\r\n    <div class="lsv-dislike-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:s}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeCounter:i,{name:"isShowL",hash:{},data:s}))+'">\r\n        <div class="lsv-dislike-counter-triangle" style="'+u((e.styleCounter2L||n&&n.styleCounter2L||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.counter:i,{name:"styleCounter2L",hash:{},data:s}))+'"></div>\r\n        <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:s}))+"</span>\r\n    </div>\r\n</div>"},useData:!0};
this.IMSPluginTemplate["lsv-embed"].like_theme_3={compiler:[7,">= 4.0.0"],main:function(l,n,e,s,a){var i,t=null!=n?n:l.nullContext||{},o=e.helperMissing,u=l.escapeExpression;return'<div class="lsv-like lsv-like-theme-3">\r\n    <div class="lsv-likebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.likebtn:i,{name:"styleButtonL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeButton:i,{name:"isShowL",hash:{},data:a}))+'">\r\n        <div class="lsv-like-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeIcon:i,{name:"isShowL",hash:{},data:a}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"iconL",hash:{},data:a}))+'\r\n        </div>\r\n    </div>\r\n\r\n    <div class="lsv-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=n?n.config:n)?i.counter:i,{name:"styleCounterL",hash:{},data:a}))+'">\r\n        <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:a}))+'</span>\r\n    </div>\r\n\r\n    <div class="lsv-dislikebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=n?n.dislikebtn:n,{name:"styleButtonL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=n?n.general:n)?i.showDislikeButton:i,{name:"isShowL",hash:{},data:a}))+'">\r\n        <div class="lsv-dislike-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeIcon:i,{name:"isShowL",hash:{},data:a}))+'">\r\n            '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"iconL",hash:{},data:a}))+"\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0};
this.IMSPluginTemplate["lsv-embed"].like_theme_4={compiler:[7,">= 4.0.0"],main:function(l,n,e,s,a){var i,t=null!=n?n:l.nullContext||{},o=e.helperMissing,u=l.escapeExpression;return'<div class="lsv-like lsv-like-theme-4">\r\n    <div class="lsv-like-wrap">\r\n        <div class="lsv-likebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.likebtn:i,{name:"styleButtonL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeButton:i,{name:"isShowL",hash:{},data:a}))+'">\r\n            <div class="lsv-like-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeIcon:i,{name:"isShowL",hash:{},data:a}))+'">\r\n                '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.icon:i,{name:"iconL",hash:{},data:a}))+'\r\n            </div>\r\n            <div class="lsv-like-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.likebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showLikeCounter:i,{name:"isShowL",hash:{},data:a}))+'">\r\n                <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:a}))+'</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="lsv-dislikebtn" style="'+u((e.styleButtonL||n&&n.styleButtonL||o).call(t,null!=(i=null!=n?n.config:n)?i.dislikebtn:i,{name:"styleButtonL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeButton:i,{name:"isShowL",hash:{},data:a}))+'">\r\n            <div class="lsv-dislike-icon" style="'+u((e.styleIconL||n&&n.styleIconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"styleIconL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.showDislikeIcon:i,{name:"isShowL",hash:{},data:a}))+'">\r\n                '+u((e.iconL||n&&n.iconL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.icon:i,{name:"iconL",hash:{},data:a}))+'\r\n            </div>\r\n            <div class="lsv-dislike-counter" style="'+u((e.styleCounterL||n&&n.styleCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.dislikebtn:i)?i.counter:i,{name:"styleCounterL",hash:{},data:a}))+u((e.isShowL||n&&n.isShowL||o).call(t,null!=(i=null!=n?n.general:n)?i.showDislikeCounter:i,{name:"isShowL",hash:{},data:a}))+'">\r\n                <span>'+u((e.formatCounterL||n&&n.formatCounterL||o).call(t,null!=(i=null!=(i=null!=n?n.config:n)?i.general:i)?i.formatCounter:i,0,{name:"formatCounterL",hash:{},data:a}))+'</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="lsv-line-response">\r\n        <div class="lsv-line-response-vote"></div>\r\n    </div>\r\n</div>'},useData:!0};
this.IMSPluginTemplate["lsv-embed"].rate_theme_1={1:function(l,n,e,t,s,a,i){var c,u=l.lambda,o=l.escapeExpression,r=null!=n?n:l.nullContext||{},h=e.helperMissing;return'        <div class="lsv-rate-item" data-id="'+o(u(null!=n?n.id:n,n))+'">\r\n            <h3 class="lsv-rate-title" style="'+o((e.styleTitleR||n&&n.styleTitleR||h).call(r,null!=(c=null!=i[1]?i[1].config:i[1])?c.question:c,{name:"styleTitleR",hash:{},data:s}))+o((e.showR||n&&n.showR||h).call(r,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.setting:c)?c.showQuestionTitle:c,"block",{name:"showR",hash:{},data:s}))+'">\r\n                '+o(u(null!=n?n.content:n,n))+'\r\n            </h3>\r\n            <div class="lsv-rate-main">\r\n                <div class="lsv-rate-content">\r\n                    <div class="lsv-rate-layer lsv-rate-layer-base" style="'+o((e.styleIconR||n&&n.styleIconR||h).call(r,null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c,{name:"styleIconR",hash:{},data:s}))+'">\r\n                        '+o((e.iconR||n&&n.iconR||h).call(r,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                    </div>\r\n                    <div class="lsv-rate-layer lsv-rate-layer-hover" style="'+o((e.styleIconHoverR||n&&n.styleIconHoverR||h).call(r,null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c,{name:"styleIconHoverR",hash:{},data:s}))+'">\r\n                        '+o((e.iconR||n&&n.iconR||h).call(r,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                    </div>\r\n                    <div class="lsv-rate-layer lsv-rate-layer-selected" style="'+o((e.styleIconSelectedR||n&&n.styleIconSelectedR||h).call(r,null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c,{name:"styleIconSelectedR",hash:{},data:s}))+'">\r\n                        '+o((e.iconR||n&&n.iconR||h).call(r,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=i[1]?i[1].config:i[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                    </div>\r\n                </div>\r\n                <div class="lsv-rate-result" style="'+o((e.styleResultR||n&&n.styleResultR||h).call(r,null!=(c=null!=i[1]?i[1].config:i[1])?c.result:c,{name:"styleResultR",hash:{},data:s}))+'">\r\n                    '+o(u(null!=n?n.result:n,n))+" ("+o(u(null!=n?n.countUser:n,n))+" lượt)\r\n                </div>\r\n            </div>\r\n        </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,s,a,i){var c,u=null!=n?n:l.nullContext||{},o=e.helperMissing,r=l.escapeExpression;return'<div class="lsv-rate lsv-rate-theme-1">\r\n'+(null!=(c=e.each.call(u,null!=n?n.question:n,{name:"each",hash:{},fn:l.program(1,s,0,a,i),inverse:l.noop,data:s}))?c:"")+'\r\n    <button class="lsv-rate-submit" style="'+r((e.styleSubmitR||n&&n.styleSubmitR||o).call(u,null!=(c=null!=n?n.config:n)?c.submit:c,{name:"styleSubmitR",hash:{},data:s}))+r((e.showR||n&&n.showR||o).call(u,null!=(c=null!=(c=null!=n?n.config:n)?c.setting:c)?c.isSubmit:c,"block",{name:"showR",hash:{},data:s}))+'">\r\n        '+r(l.lambda(null!=(c=null!=(c=null!=n?n.config:n)?c.submit:c)?c.content:c,n))+"\r\n    </button>\r\n</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].rate_theme_2={1:function(l,n,e,t,s,a,r){var c,u=l.lambda,i=l.escapeExpression,o=null!=n?n:l.nullContext||{},v=e.helperMissing;return'        <div class="lsv-rate-item" data-id="'+i(u(null!=n?n.id:n,n))+'">\r\n            <h3 class="lsv-rate-title" style="'+i((e.styleTitleR||n&&n.styleTitleR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.question:c,{name:"styleTitleR",hash:{},data:s}))+i((e.showR||n&&n.showR||v).call(o,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.setting:c)?c.showQuestionTitle:c,"block",{name:"showR",hash:{},data:s}))+'">\r\n                '+i(u(null!=n?n.content:n,n))+'\r\n            </h3>\r\n            <div class="lsv-rate-main">\r\n                <div class="lsv-rate-result">\r\n                    <i class="fa '+i(u(null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.result:c)?c.icon:c,n))+'" style="'+i((e.styleIconResultR||n&&n.styleIconResultR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.result:c,{name:"styleIconResultR",hash:{},data:s}))+'"></i>\r\n                    <span class="lsv-rate-result-point" style="'+i((e.styleFontResultR||n&&n.styleFontResultR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.result:c,{name:"styleFontResultR",hash:{},data:s}))+'">'+i(u(null!=n?n.result:n,n))+'</span>\r\n                </div>\r\n\r\n                <div class="lsv-rate-content">\r\n                    <div class="lsv-rate-content-star">\r\n                        <div class="lsv-rate-content-star-layer">\r\n                            <div class="lsv-rate-layer lsv-rate-layer-base" style="'+i((e.styleIconR||n&&n.styleIconR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c,{name:"styleIconR",hash:{},data:s}))+'">\r\n                                '+i((e.iconR||n&&n.iconR||v).call(o,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                            </div>\r\n                            <div class="lsv-rate-layer lsv-rate-layer-hover" style="'+i((e.styleIconHoverR||n&&n.styleIconHoverR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c,{name:"styleIconHoverR",hash:{},data:s}))+'">\r\n                                '+i((e.iconR||n&&n.iconR||v).call(o,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                            </div>\r\n                            <div class="lsv-rate-layer lsv-rate-layer-selected" style="'+i((e.styleIconSelectedR||n&&n.styleIconSelectedR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c,{name:"styleIconSelectedR",hash:{},data:s}))+'">\r\n                                '+i((e.iconR||n&&n.iconR||v).call(o,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.icon:c)?c.content:c,null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.setting:c)?c.rateLevel:c,{name:"iconR",hash:{},data:s}))+'\r\n                            </div>\r\n                        </div>\r\n                        <div class="lsv-rate-content-star-result" style="'+i((e.styleResultR||n&&n.styleResultR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.result:c,{name:"styleResultR",hash:{},data:s}))+'">'+i(u(null!=n?n.result:n,n))+"/"+i(u(null!=(c=null!=(c=null!=r[1]?r[1].config:r[1])?c.setting:c)?c.rateLevel:c,n))+'</div>\r\n                    </div>\r\n                    <div class="lsv-rate-content-result" style="'+i((e.styleResultR||n&&n.styleResultR||v).call(o,null!=(c=null!=r[1]?r[1].config:r[1])?c.result:c,{name:"styleResultR",hash:{},data:s}))+'">\r\n                        Đánh giá <span class="lsv-rate-content-result-point">'+i(u(null!=n?n.result:n,n))+'</span> từ <span class="lsv-rate-content-result-user">'+i(u(null!=n?n.countUser:n,n))+"</span> thành viên\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,s,a,r){var c;return'<div class="lsv-rate lsv-rate-theme-2">\r\n'+(null!=(c=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.question:n,{name:"each",hash:{},fn:l.program(1,s,0,a,r),inverse:l.noop,data:s}))?c:"")+"</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].share_theme_1={compiler:[7,">= 4.0.0"],main:function(l,n,a,e,s){var o,t=null!=n?n:l.nullContext||{},u=a.helperMissing,h=l.escapeExpression;return'<div class="lsv-share lsv-share-theme-1" style="'+h((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showShareButton:o,"inline-flex",{name:"showS",hash:{},data:s}))+'">\r\n    <div class="lsv-share-button" style="'+h((a.styleButtonS||n&&n.styleButtonS||u).call(t,null!=(o=null!=n?n.config:n)?o.button:o,{name:"styleButtonS",hash:{},data:s}))+h((a.isAllowS||n&&n.isAllowS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.allowShare:o,{name:"isAllowS",hash:{},data:s}))+'">\r\n        <div class="lsv-share-icon" style="'+h((a.styleIconS||n&&n.styleIconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"styleIconS",hash:{},data:s}))+h((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showIcon:o,"block",{name:"showS",hash:{},data:s}))+'">\r\n            '+h((a.iconS||n&&n.iconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"iconS",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-share-label" style="'+h((a.styleLabelS||n&&n.styleLabelS||u).call(t,null!=(o=null!=n?n.config:n)?o.label:o,{name:"styleLabelS",hash:{},data:s}))+h((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showLabel:o,"block",{name:"showS",hash:{},data:s}))+'">'+h(l.lambda(null!=(o=null!=(o=null!=n?n.config:n)?o.label:o)?o.content:o,n))+'</div>\r\n        <div class="lsv-share-counter" style="'+h((a.styleCounterS||n&&n.styleCounterS||u).call(t,null!=(o=null!=n?n.config:n)?o.counter:o,{name:"styleCounterS",hash:{},data:s}))+h((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showCounter:o,"flex",{name:"showS",hash:{},data:s}))+'">\r\n            <span>'+h((a.formatCounterS||n&&n.formatCounterS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.formatCounter:o,0,{name:"formatCounterS",hash:{},data:s}))+'</span>\r\n        </div>\r\n        <div class="lsv-share-overlay"></div>\r\n    </div>\r\n</div>'},useData:!0};
this.IMSPluginTemplate["lsv-embed"].share_theme_2={compiler:[7,">= 4.0.0"],main:function(l,n,a,e,s){var o,t=null!=n?n:l.nullContext||{},u=a.helperMissing,r=l.escapeExpression;return'<div class="lsv-share lsv-share-theme-2" style="'+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showShareButton:o,"inline-flex",{name:"showS",hash:{},data:s}))+'">\r\n    <div class="lsv-share-button" style="'+r((a.styleButtonS||n&&n.styleButtonS||u).call(t,null!=(o=null!=n?n.config:n)?o.button:o,{name:"styleButtonS",hash:{},data:s}))+r((a.isAllowS||n&&n.isAllowS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.allowShare:o,{name:"isAllowS",hash:{},data:s}))+'">\r\n        <div class="lsv-share-icon" style="'+r((a.styleIconS||n&&n.styleIconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"styleIconS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showIcon:o,"block",{name:"showS",hash:{},data:s}))+'">\r\n            '+r((a.iconS||n&&n.iconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"iconS",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-share-label" style="'+r((a.styleLabelS||n&&n.styleLabelS||u).call(t,null!=(o=null!=n?n.config:n)?o.label:o,{name:"styleLabelS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showLabel:o,"block",{name:"showS",hash:{},data:s}))+'">'+r(l.lambda(null!=(o=null!=(o=null!=n?n.config:n)?o.label:o)?o.content:o,n))+'</div>\r\n        <div class="lsv-share-overlay"></div>\r\n    </div>\r\n    <div class="lsv-share-counter" style="'+r((a.styleCounterS||n&&n.styleCounterS||u).call(t,null!=(o=null!=n?n.config:n)?o.counter:o,{name:"styleCounterS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showCounter:o,"flex",{name:"showS",hash:{},data:s}))+'">\r\n        <div class="lsv-share-counter-triangle" style="'+r((a.styleCounter2S||n&&n.styleCounter2S||u).call(t,null!=(o=null!=n?n.config:n)?o.counter:o,{name:"styleCounter2S",hash:{},data:s}))+'"></div>\r\n        <span>'+r((a.formatCounterS||n&&n.formatCounterS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.formatCounter:o,0,{name:"formatCounterS",hash:{},data:s}))+"</span>\r\n    </div>\r\n</div>"},useData:!0};
this.IMSPluginTemplate["lsv-embed"].share_theme_3={compiler:[7,">= 4.0.0"],main:function(l,n,a,e,s){var o,t=null!=n?n:l.nullContext||{},u=a.helperMissing,r=l.escapeExpression;return'<div class="lsv-share lsv-share-theme-3" style="'+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showShareButton:o,"inline-flex",{name:"showS",hash:{},data:s}))+'">\r\n    <div class="lsv-share-button" style="'+r((a.styleButtonS||n&&n.styleButtonS||u).call(t,null!=(o=null!=n?n.config:n)?o.button:o,{name:"styleButtonS",hash:{},data:s}))+r((a.isAllowS||n&&n.isAllowS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.allowShare:o,{name:"isAllowS",hash:{},data:s}))+'">\r\n        <div class="lsv-share-icon" style="'+r((a.styleIconS||n&&n.styleIconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"styleIconS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showIcon:o,"block",{name:"showS",hash:{},data:s}))+'">\r\n            '+r((a.iconS||n&&n.iconS||u).call(t,null!=(o=null!=n?n.config:n)?o.icon:o,{name:"iconS",hash:{},data:s}))+'\r\n        </div>\r\n        <div class="lsv-share-label" style="'+r((a.styleLabelS||n&&n.styleLabelS||u).call(t,null!=(o=null!=n?n.config:n)?o.label:o,{name:"styleLabelS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showLabel:o,"block",{name:"showS",hash:{},data:s}))+'">'+r(l.lambda(null!=(o=null!=(o=null!=n?n.config:n)?o.label:o)?o.content:o,n))+'</div>\r\n        <div class="lsv-share-overlay"></div>\r\n    </div>\r\n    <div class="lsv-share-counter" style="'+r((a.styleCounterS||n&&n.styleCounterS||u).call(t,null!=(o=null!=n?n.config:n)?o.counter:o,{name:"styleCounterS",hash:{},data:s}))+r((a.showS||n&&n.showS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.showCounter:o,"flex",{name:"showS",hash:{},data:s}))+'">\r\n        <div class="lsv-share-counter-triangle" style="'+r((a.styleCounter2S||n&&n.styleCounter2S||u).call(t,null!=(o=null!=n?n.config:n)?o.counter:o,{name:"styleCounter2S",hash:{},data:s}))+'"></div>\r\n        <span>'+r((a.formatCounterS||n&&n.formatCounterS||u).call(t,null!=(o=null!=(o=null!=n?n.config:n)?o.general:o)?o.formatCounter:o,0,{name:"formatCounterS",hash:{},data:s}))+"</span>\r\n    </div>\r\n</div>"},useData:!0};
this.IMSPluginTemplate["lsv-embed"].vote_result_2={1:function(n,l,t,e,s){var p;return'            <p class="lsv-vote-popup-description">'+n.escapeExpression((p=null!=(p=t.description||(null!=l?l.description:l))?p:t.helperMissing,"function"==typeof p?p.call(null!=l?l:n.nullContext||{},{name:"description",hash:{},data:s}):p))+"</p>\r\n"},3:function(n,l,t,e,s,p,a){var o,r=n.lambda,i=n.escapeExpression;return'            <div class="lsv-vote-popup-item">\r\n                <span class="lsv-vote-popup-question">'+i(r(null!=l?l.content:l,l))+'</span>\r\n                <span class="lsv-vote-popup-percent">\r\n\t\t\t\t\t\t<span style="width: '+i((t.percent||l&&l.percent||t.helperMissing).call(null!=l?l:n.nullContext||{},null!=l?l.count:l,null!=(o=null!=a[1]?a[1].data:a[1])?o.total:o,{name:"percent",hash:{},data:s}))+'">'+i(r(null!=l?l.count:l,l))+" bình chọn</span>\r\n\t\t\t\t\t</span>\r\n            </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(n,l,t,e,s,p,a){var o,r,i=null!=l?l:n.nullContext||{};return'<div class="lsv-vote-popup-wrapper">\r\n    <div class="lsv-vote-popup-main">\r\n        <div class="lsv-vote-popup-header">\r\n            <p class="lsv-vote-popup-header-top">KẾT QUẢ KHẢO SÁT:</p>\r\n            <h4 class="lsv-vote-popup-title">'+n.escapeExpression((r=null!=(r=t.title||(null!=l?l.title:l))?r:t.helperMissing,"function"==typeof r?r.call(i,{name:"title",hash:{},data:s}):r))+"</h4>\r\n"+(null!=(o=t["if"].call(i,null!=(o=null!=(o=null!=l?l.config:l)?o.custom:o)?o.isDescription:o,{name:"if",hash:{},fn:n.program(1,s,0,p,a),inverse:n.noop,data:s}))?o:"")+'        </div>\r\n        <div class="lsv-vote-popup-content">\r\n'+(null!=(o=t.each.call(i,null!=l?l.data:l,{name:"each",hash:{},fn:n.program(3,s,0,p,a),inverse:n.noop,data:s}))?o:"")+'        </div>\r\n        <button class="lsv-vote-popup-close">x</button>\r\n    </div>\r\n</div>'},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].vote_theme_1={1:function(l,n,e,t,a){var s,o,u=null!=n?n:l.nullContext||{},i=e.helperMissing,r=l.escapeExpression;return'                <p class="lsv-vote-header-desc"\r\n                   style="'+r((e.styleDescriptionV||n&&n.styleDescriptionV||i).call(u,null!=(s=null!=(s=null!=n?n.config:n)?s.header:s)?s.description:s,{name:"styleDescriptionV",hash:{},data:a}))+'">'+r((o=null!=(o=e.description||(null!=n?n.description:n))?o:i,"function"==typeof o?o.call(u,{name:"description",hash:{},data:a}):o))+"</p>\r\n"},3:function(l,n,e,t,a,s,o){var u;return null!=(u=e["if"].call(null!=n?n:l.nullContext||{},null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(4,a,0,s,o),inverse:l.program(18,a,0,s,o),data:a}))?u:""},4:function(l,n,e,t,a,s,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(5,a,0,s,o),inverse:l.noop,data:a}))?u:""},5:function(l,n,e,t,a,s,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression;return'                        <div class="lsv-vote-group" style="'+c((e.styleGroupV||n&&n.styleGroupV||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u,{name:"styleGroupV",hash:{},data:a}))+'">\r\n                            <p class="lsv-vote-group-title"\r\n                               style="'+c((e.styleGroupTitleV||n&&n.styleGroupTitleV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u)?u.title:u,{name:"styleGroupTitleV",hash:{},data:a}))+'">'+c(l.lambda(null!=n?n.content:n,n))+'</p>\r\n                            <div class="lsv-vote-question" style="'+c((e.styleQuestionV||n&&n.styleQuestionV||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=(u=null!=n?n.questions:n)?u.length:u,{name:"if",hash:{},fn:l.program(6,a,0,s,o),inverse:l.program(16,a,0,s,o),data:a}))?u:"")+"                            </div>\r\n                        </div>\r\n"},6:function(l,n,e,t,a,s,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.questions:n,{name:"each",hash:{},fn:l.program(7,a,0,s,o),inverse:l.noop,data:a}))?u:""},7:function(l,n,e,t,a,s,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression;return'                                        <label class="lsv-vote-question-item"\r\n                                               style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:a}))+'">\r\n                                            <label class="lsv-vote-question-button">\r\n'+(null!=(u=e["if"].call(i,(e.and||n&&n.and||r).call(i,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.allowMultiChoice:u,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.isMultiChoice:u,{name:"and",hash:{},data:a}),{name:"if",hash:{},fn:l.program(8,a,0,s,o),inverse:l.program(10,a,0,s,o),data:a}))?u:"")+'                                            </label>\r\n                                            <p class="lsv-vote-question-content" style="'+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionContentV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=n?n.isQuestionOther:n,{name:"if",hash:{},fn:l.program(12,a,0,s,o),inverse:l.program(14,a,0,s,o),data:a}))?u:"")+"                                            </p>\r\n                                        </label>\r\n"},8:function(l,n,e,t,a){var s=l.lambda,o=l.escapeExpression;return'                                                    <input type="checkbox" data-id="'+o(s(null!=n?n.id:n,n))+'" data-question-other="'+o(s(null!=n?n.isQuestionOther:n,n))+'"\r\n                                                           name="lsv-vote-'+o(s(null!=n?n.id:n,n))+'"\r\n                                                           id="lsv-vote-'+o(s(null!=n?n.id:n,n))+'"/>\r\n'},10:function(l,n,e,t,a,s,o){var u=l.lambda,i=l.escapeExpression;return'                                                    <input type="radio" data-id="'+i(u(null!=n?n.id:n,n))+'" data-question-other="'+i(u(null!=n?n.isQuestionOther:n,n))+'"\r\n                                                           name="lsv-vote-'+i(u(null!=o[1]?o[1].id:o[1],n))+'"\r\n                                                           id="lsv-vote-'+i(u(null!=n?n.id:n,n))+'"/>\r\n'},12:function(l,n,e,t,a){return'                                                    <input type="text" class="lsv-vote-question-other"\r\n                                                           placeholder="'+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+'"/>\r\n'},14:function(l,n,e,t,a){return"                                                    "+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+"\r\n"},16:function(l,n,e,t,a){return'                                    <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},18:function(l,n,e,t,a){return'                    <p class="lsv-vote-empty">Chưa có nhóm nào!</p>\r\n'},20:function(l,n,e,t,a,s,o){var u,i=null!=n?n:l.nullContext||{};return'                <div class="lsv-vote-question" style="'+l.escapeExpression((e.styleQuestionV||n&&n.styleQuestionV||e.helperMissing).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(21,a,0,s,o),inverse:l.program(31,a,0,s,o),data:a}))?u:"")+"                </div>\r\n"},21:function(l,n,e,t,a,s,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(22,a,0,s,o),inverse:l.noop,data:a}))?u:""},22:function(l,n,e,t,a,s,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression;return'                            <label class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:a}))+'">\r\n                                <label class="lsv-vote-question-button">\r\n'+(null!=(u=e["if"].call(i,(e.and||n&&n.and||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.allowMultiChoice:u,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.isMultiChoice:u,{name:"and",hash:{},data:a}),{name:"if",hash:{},fn:l.program(23,a,0,s,o),inverse:l.program(25,a,0,s,o),data:a}))?u:"")+'                                </label>\r\n                                <p class="lsv-vote-question-content" style="'+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionContentV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=n?n.isQuestionOther:n,{name:"if",hash:{},fn:l.program(27,a,0,s,o),inverse:l.program(29,a,0,s,o),data:a}))?u:"")+"                                </p>\r\n                            </label>\r\n"},23:function(l,n,e,t,a){var s=l.lambda,o=l.escapeExpression;return'                                        <input type="checkbox" name="lsv-vote-'+o(s(null!=n?n.id:n,n))+'"\r\n                                               data-id="'+o(s(null!=n?n.id:n,n))+'" data-question-other="'+o(s(null!=n?n.isQuestionOther:n,n))+'"\r\n                                               id="lsv-vote-'+o(s(null!=n?n.id:n,n))+'"/>\r\n'},25:function(l,n,e,t,a,s,o){var u=l.lambda,i=l.escapeExpression;return'                                        <input type="radio" name="lsv-vote-'+i(u(null!=o[1]?o[1].id:o[1],n))+'"\r\n                                               data-id="'+i(u(null!=n?n.id:n,n))+'" data-question-other="'+i(u(null!=n?n.isQuestionOther:n,n))+'"\r\n                                               id="lsv-vote-'+i(u(null!=n?n.id:n,n))+'"/>\r\n'},27:function(l,n,e,t,a){return'                                        <input type="text" class="lsv-vote-question-other"\r\n                                               placeholder="'+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+'"/>\r\n'},29:function(l,n,e,t,a){return"                                        "+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+"\r\n"},31:function(l,n,e,t,a){return'                        <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,a,s,o){var u,i,r=null!=n?n:l.nullContext||{},c=e.helperMissing,d="function",h=l.escapeExpression,p=l.lambda;return'<div class="lsv-vote lsv-vote-theme-1" data-id="'+h((i=null!=(i=e.id||(null!=n?n.id:n))?i:c,typeof i===d?i.call(r,{name:"id",hash:{},data:a}):i))+'">\r\n    <div class="lsv-vote-main" style="'+h((e.styleMainV||n&&n.styleMainV||c).call(r,null!=(u=null!=n?n.config:n)?u.general:u,{name:"styleMainV",hash:{},data:a}))+'">\r\n        <div class="lsv-vote-header" style="'+h((e.styleHeaderV||n&&n.styleHeaderV||c).call(r,null!=(u=null!=n?n.config:n)?u.header:u,{name:"styleHeaderV",hash:{},data:a}))+'">\r\n            <h3 class="lsv-vote-header-title" style="'+h((e.styleTitleV||n&&n.styleTitleV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.header:u)?u.title:u,{name:"styleTitleV",hash:{},data:a}))+'">'+h((i=null!=(i=e.title||(null!=n?n.title:n))?i:c,typeof i===d?i.call(r,{name:"title",hash:{},data:a}):i))+"</h3>\r\n"+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isDescription:u,{name:"if",hash:{},fn:l.program(1,a,0,s,o),inverse:l.noop,data:a}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-body" style="'+h((e.styleBodyV||n&&n.styleBodyV||c).call(r,null!=(u=null!=n?n.config:n)?u.body:u,{name:"styleBodyV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(r,(e.and||n&&n.and||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.allowVoteGroup:u,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isVoteGroup:u,{name:"and",hash:{},data:a}),{name:"if",hash:{},fn:l.program(3,a,0,s,o),inverse:l.program(20,a,0,s,o),data:a}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-footer" style="'+h((e.styleFooterV||n&&n.styleFooterV||c).call(r,null!=(u=null!=n?n.config:n)?u.footer:u,{name:"styleFooterV",hash:{},data:a}))+'">\r\n            <button class="lsv-vote-footer-submit"\r\n                    style="'+h((e.styleSubmitV||n&&n.styleSubmitV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u,{name:"styleSubmitV",hash:{},data:a}))+'">'+h(p(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u)?u.content:u,n))+'</button>\r\n            <button class="lsv-vote-footer-result"\r\n                    style="'+h((e.styleResultV||n&&n.styleResultV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u,{name:"styleResultV",hash:{},data:a}))+'">'+h(p(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u)?u.content:u,n))+"</button>\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].vote_theme_2={1:function(l,n,e,t,a){var s,u,o=null!=n?n:l.nullContext||{},i=e.helperMissing,r=l.escapeExpression;return'                <p class="lsv-vote-header-desc"\r\n                   style="'+r((e.styleDescriptionV||n&&n.styleDescriptionV||i).call(o,null!=(s=null!=(s=null!=n?n.config:n)?s.header:s)?s.description:s,{name:"styleDescriptionV",hash:{},data:a}))+'">'+r((u=null!=(u=e.description||(null!=n?n.description:n))?u:i,"function"==typeof u?u.call(o,{name:"description",hash:{},data:a}):u))+"</p>\r\n"},3:function(l,n,e,t,a,s,u){var o;return null!=(o=e["if"].call(null!=n?n:l.nullContext||{},null!=(o=null!=n?n.data:n)?o.length:o,{name:"if",hash:{},fn:l.program(4,a,0,s,u),inverse:l.program(22,a,0,s,u),data:a}))?o:""},4:function(l,n,e,t,a,s,u){var o;return null!=(o=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(5,a,0,s,u),inverse:l.noop,data:a}))?o:""},5:function(l,n,e,t,a,s,u){var o,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression;return'                    <div class="lsv-vote-group" style="'+c((e.styleGroupV||n&&n.styleGroupV||r).call(i,null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.group:o,{name:"styleGroupV",hash:{},data:a}))+'">\r\n                        <p class="lsv-vote-group-title" style="'+c((e.styleGroupTitleV||n&&n.styleGroupTitleV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.group:o)?o.title:o,{name:"styleGroupTitleV",hash:{},data:a}))+'">'+c(l.lambda(null!=n?n.content:n,n))+'</p>\r\n                        <div class="lsv-vote-question" style="'+c((e.styleQuestionV||n&&n.styleQuestionV||r).call(i,null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.question:o,{name:"styleQuestionV",hash:{},data:a}))+'">\r\n'+(null!=(o=e["if"].call(i,null!=(o=null!=n?n.questions:n)?o.length:o,{name:"if",hash:{},fn:l.program(6,a,0,s,u),inverse:l.program(20,a,0,s,u),data:a}))?o:"")+"                        </div>\r\n                    </div>\r\n"},6:function(l,n,e,t,a,s,u){var o;return null!=(o=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.questions:n,{name:"each",hash:{},fn:l.program(7,a,0,s,u),inverse:l.noop,data:a}))?o:""},7:function(l,n,e,t,a,s,u){var o,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                                    <label class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.body:o)?o.question:o)?o.item:o,{name:"styleQuestionItemV",hash:{},data:a}))+'">\r\n                                        <label class="lsv-vote-question-button lsv-vote-question-button-'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(8,a,0,s,u),inverse:l.program(10,a,0,s,u),data:a}))?o:"")+'"\r\n                                               style="'+c((e.styleButtonV||n&&n.styleButtonV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.body:o)?o.question:o)?o.button:o,{name:"styleButtonV",hash:{},data:a}))+'">\r\n                                            <input type="'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(8,a,0,s,u),inverse:l.program(10,a,0,s,u),data:a}))?o:"")+'"\r\n                                                   data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                                   name="'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(12,a,0,s,u),inverse:l.program(14,a,0,s,u),data:a}))?o:"")+'"\r\n                                                   id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                            <span></span>\r\n                                        </label>\r\n\r\n                                        <p class="lsv-vote-question-content"\r\n                                           style="'+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.body:o)?o.question:o)?o.item:o,{name:"styleQuestionContentV",hash:{},data:a}))+'">\r\n                                    <span class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'"\r\n                                          style="'+c((e.backgroundV||n&&n.backgroundV||r).call(i,null!=(o=null!=(o=null!=(o=null!=(o=null!=u[2]?u[2].config:u[2])?o.body:o)?o.question:o)?o.item:o)?o.backgroundAfter:o,{name:"backgroundV",hash:{},data:a}))+'"></span>\r\n'+(null!=(o=e["if"].call(i,null!=n?n.isQuestionOther:n,{name:"if",hash:{},fn:l.program(16,a,0,s,u),inverse:l.program(18,a,0,s,u),data:a}))?o:"")+"                                        </p>\r\n                                    </label>\r\n"},8:function(l,n,e,t,a){return"checkbox"},10:function(l,n,e,t,a){return"radio"},12:function(l,n,e,t,a){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=n?n.id:n,n))},14:function(l,n,e,t,a,s,u){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=u[1]?u[1].id:u[1],n))},16:function(l,n,e,t,a){return'                                                <input type="text" class="lsv-vote-question-other"\r\n                                                       placeholder="'+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+'"/>\r\n'},18:function(l,n,e,t,a){return"                                                "+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+"\r\n"},20:function(l,n,e,t,a){return'                                <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},22:function(l,n,e,t,a){return'                    <p class="lsv-vote-empty">Chưa có nhóm nào!</p>\r\n'},24:function(l,n,e,t,a,s,u){var o,i=null!=n?n:l.nullContext||{};return'                <div class="lsv-vote-question" style="'+l.escapeExpression((e.styleQuestionV||n&&n.styleQuestionV||e.helperMissing).call(i,null!=(o=null!=(o=null!=n?n.config:n)?o.body:o)?o.question:o,{name:"styleQuestionV",hash:{},data:a}))+'">\r\n'+(null!=(o=e["if"].call(i,null!=(o=null!=n?n.data:n)?o.length:o,{name:"if",hash:{},fn:l.program(25,a,0,s,u),inverse:l.program(31,a,0,s,u),data:a}))?o:"")+"                </div>\r\n"},25:function(l,n,e,t,a,s,u){var o;return null!=(o=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(26,a,0,s,u),inverse:l.noop,data:a}))?o:""},26:function(l,n,e,t,a,s,u){var o,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                            <label class="lsv-vote-question-item"\r\n                                   style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.question:o)?o.item:o,{name:"styleQuestionItemV",hash:{},data:a}))+'">\r\n                                <label class="lsv-vote-question-button lsv-vote-question-button-'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(8,a,0,s,u),inverse:l.program(10,a,0,s,u),data:a}))?o:"")+'"\r\n                                       style="'+c((e.styleButtonV||n&&n.styleButtonV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.question:o)?o.button:o,{name:"styleButtonV",hash:{},data:a}))+'">\r\n                                    <input type="'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(8,a,0,s,u),inverse:l.program(10,a,0,s,u),data:a}))?o:"")+'"\r\n                                           data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                           name="'+(null!=(o=e["if"].call(i,null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.custom:o)?o.isMultiChoice:o,{name:"if",hash:{},fn:l.program(12,a,0,s,u),inverse:l.program(14,a,0,s,u),data:a}))?o:"")+'"\r\n                                           id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                    <span></span>\r\n                                </label>\r\n\r\n                                <p class="lsv-vote-question-content"\r\n                                   style="'+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(o=null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.question:o)?o.item:o,{name:"styleQuestionContentV",hash:{},data:a}))+'">\r\n                                    <span class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'"\r\n                                          style="'+c((e.backgroundV||n&&n.backgroundV||r).call(i,null!=(o=null!=(o=null!=(o=null!=(o=null!=u[1]?u[1].config:u[1])?o.body:o)?o.question:o)?o.item:o)?o.backgroundAfter:o,{name:"backgroundV",hash:{},data:a}))+'"></span>\r\n'+(null!=(o=e["if"].call(i,null!=n?n.isQuestionOther:n,{name:"if",hash:{},fn:l.program(27,a,0,s,u),inverse:l.program(29,a,0,s,u),data:a}))?o:"")+"                                </p>\r\n                            </label>\r\n"},27:function(l,n,e,t,a){return'                                        <input type="text" class="lsv-vote-question-other"\r\n                                               placeholder="'+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+'"/>\r\n'},29:function(l,n,e,t,a){return"                                        "+l.escapeExpression(l.lambda(null!=n?n.content:n,n))+"\r\n"},31:function(l,n,e,t,a){return'                        <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,a,s,u){var o,i,r=null!=n?n:l.nullContext||{},c=e.helperMissing,d="function",h=l.escapeExpression,p=l.lambda;return'<div class="lsv-vote lsv-vote-theme-2" data-id="'+h((i=null!=(i=e.id||(null!=n?n.id:n))?i:c,typeof i===d?i.call(r,{name:"id",hash:{},data:a}):i))+'">\r\n    <div class="lsv-vote-main" style="'+h((e.styleMainV||n&&n.styleMainV||c).call(r,null!=(o=null!=n?n.config:n)?o.general:o,{name:"styleMainV",hash:{},data:a}))+'">\r\n        <div class="lsv-vote-header" style="'+h((e.styleHeaderV||n&&n.styleHeaderV||c).call(r,null!=(o=null!=n?n.config:n)?o.header:o,{name:"styleHeaderV",hash:{},data:a}))+'">\r\n            <h3 class="lsv-vote-header-title" style="'+h((e.styleTitleV||n&&n.styleTitleV||c).call(r,null!=(o=null!=(o=null!=n?n.config:n)?o.header:o)?o.title:o,{name:"styleTitleV",hash:{},data:a}))+'">'+h((i=null!=(i=e.title||(null!=n?n.title:n))?i:c,typeof i===d?i.call(r,{name:"title",hash:{},data:a}):i))+"</h3>\r\n"+(null!=(o=e["if"].call(r,null!=(o=null!=(o=null!=n?n.config:n)?o.custom:o)?o.isDescription:o,{name:"if",hash:{},fn:l.program(1,a,0,s,u),inverse:l.noop,data:a}))?o:"")+'        </div>\r\n\r\n        <div class="lsv-vote-body" style="'+h((e.styleBodyV||n&&n.styleBodyV||c).call(r,null!=(o=null!=n?n.config:n)?o.body:o,{name:"styleBodyV",hash:{},data:a}))+'">\r\n'+(null!=(o=e["if"].call(r,(e.and||n&&n.and||c).call(r,null!=(o=null!=(o=null!=n?n.config:n)?o.custom:o)?o.allowVoteGroup:o,null!=(o=null!=(o=null!=n?n.config:n)?o.custom:o)?o.isVoteGroup:o,{name:"and",hash:{},data:a}),{name:"if",hash:{},fn:l.program(3,a,0,s,u),inverse:l.program(24,a,0,s,u),data:a}))?o:"")+'        </div>\r\n\r\n        <div class="lsv-vote-footer" style="'+h((e.styleFooterV||n&&n.styleFooterV||c).call(r,null!=(o=null!=n?n.config:n)?o.footer:o,{name:"styleFooterV",hash:{},data:a}))+'">\r\n            <button class="lsv-vote-footer-submit"\r\n                    style="'+h((e.styleSubmitV||n&&n.styleSubmitV||c).call(r,null!=(o=null!=(o=null!=n?n.config:n)?o.footer:o)?o.submit:o,{name:"styleSubmitV",hash:{},data:a}))+'">'+h(p(null!=(o=null!=(o=null!=(o=null!=n?n.config:n)?o.footer:o)?o.submit:o)?o.content:o,n))+'</button>\r\n            <button class="lsv-vote-footer-result"\r\n                    style="'+h((e.styleResultV||n&&n.styleResultV||c).call(r,null!=(o=null!=(o=null!=n?n.config:n)?o.footer:o)?o.result:o,{name:"styleResultV",hash:{},data:a}))+'">'+h(p(null!=(o=null!=(o=null!=(o=null!=n?n.config:n)?o.footer:o)?o.result:o)?o.content:o,n))+"</button>\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].vote_theme_3={1:function(l,n,e,t,a){var s,i,u=null!=n?n:l.nullContext||{},o=e.helperMissing,r=l.escapeExpression;return'                <p class="lsv-vote-header-desc" style="'+r((e.styleDescriptionV||n&&n.styleDescriptionV||o).call(u,null!=(s=null!=(s=null!=n?n.config:n)?s.header:s)?s.description:s,{name:"styleDescriptionV",hash:{},data:a}))+'">'+r((i=null!=(i=e.description||(null!=n?n.description:n))?i:o,"function"==typeof i?i.call(u,{name:"description",hash:{},data:a}):i))+"</p>\r\n"},3:function(l,n,e,t,a,s,i){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(4,a,0,s,i),inverse:l.noop,data:a}))?u:""},4:function(l,n,e,t,a,s,i){var u,o=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                        <label class="lsv-vote-question-item">\r\n                            <label class="lsv-vote-question-button lsv-vote-question-button-'+(null!=(u=e["if"].call(o,null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(5,a,0,s,i),inverse:l.program(7,a,0,s,i),data:a}))?u:"")+'" style="'+c((e.styleButtonV||n&&n.styleButtonV||r).call(o,null!=(u=null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.body:u)?u.question:u)?u.button:u,{name:"styleButtonV",hash:{},data:a}))+'">\r\n                                <input type="'+(null!=(u=e["if"].call(o,null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(5,a,0,s,i),inverse:l.program(7,a,0,s,i),data:a}))?u:"")+'" data-id="'+c(d(null!=n?n.id:n,n))+'" name="'+(null!=(u=e["if"].call(o,null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(9,a,0,s,i),inverse:l.program(11,a,0,s,i),data:a}))?u:"")+'" id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'" />\r\n                                <span></span>\r\n                            </label>\r\n\r\n                            <div class="lsv-vote-question-content" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(o,null!=(u=null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:a}))+'">\r\n                                <span class="lsv-vote-question-content-text" style="'+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(o,null!=(u=null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionContentV",hash:{},data:a}))+'">'+c(d(null!=n?n.content:n,n))+'</span>\r\n                                <span class="lsv-vote-question-content-result" data-id="'+c(d(null!=n?n.id:n,n))+'" style="'+c((e.backgroundV||n&&n.backgroundV||r).call(o,null!=(u=null!=(u=null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.body:u)?u.question:u)?u.item:u)?u.backgroundAfter:u,{name:"backgroundV",hash:{},data:a}))+'"></span>\r\n                            </div>\r\n\r\n                            <div class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'" style="'+c((e.backgroundV||n&&n.backgroundV||r).call(o,null!=(u=null!=(u=null!=(u=null!=(u=null!=i[1]?i[1].config:i[1])?u.body:u)?u.question:u)?u.item:u)?u.backgroundAfter:u,{name:"backgroundV",hash:{},data:a}))+'"></div>\r\n                        </label>\r\n'},5:function(l,n,e,t,a){return"checkbox"},7:function(l,n,e,t,a){return"radio"},9:function(l,n,e,t,a){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=n?n.id:n,n))},11:function(l,n,e,t,a,s,i){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=i[1]?i[1].id:i[1],n))},13:function(l,n,e,t,a){return'                    <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,a,s,i){var u,o,r=null!=n?n:l.nullContext||{},c=e.helperMissing,d="function",h=l.escapeExpression;return'<div class="lsv-vote lsv-vote-theme-3" data-id="'+h((o=null!=(o=e.id||(null!=n?n.id:n))?o:c,typeof o===d?o.call(r,{name:"id",hash:{},data:a}):o))+'">\r\n    <div class="lsv-vote-main" style="'+h((e.styleMainV||n&&n.styleMainV||c).call(r,null!=(u=null!=n?n.config:n)?u.general:u,{name:"styleMainV",hash:{},data:a}))+'">\r\n        <div class="lsv-vote-header" style="'+h((e.styleHeaderV||n&&n.styleHeaderV||c).call(r,null!=(u=null!=n?n.config:n)?u.header:u,{name:"styleHeaderV",hash:{},data:a}))+'">\r\n            <h3 class="lsv-vote-header-title" style="'+h((e.styleTitleV||n&&n.styleTitleV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.header:u)?u.title:u,{name:"styleTitleV",hash:{},data:a}))+'">'+h((o=null!=(o=e.title||(null!=n?n.title:n))?o:c,typeof o===d?o.call(r,{name:"title",hash:{},data:a}):o))+"</h3>\r\n"+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isDescription:u,{name:"if",hash:{},fn:l.program(1,a,0,s,i),inverse:l.noop,data:a}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-body" style="'+h((e.styleBodyV||n&&n.styleBodyV||c).call(r,null!=(u=null!=n?n.config:n)?u.body:u,{name:"styleBodyV",hash:{},data:a}))+'">\r\n            <div class="lsv-vote-question" style="'+h((e.styleQuestionV||n&&n.styleQuestionV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:a}))+'">\r\n'+(null!=(u=e["if"].call(r,null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(3,a,0,s,i),inverse:l.program(13,a,0,s,i),data:a}))?u:"")+"            </div>\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].vote_theme_4={1:function(l,n,e,t,s){var a,o,u=null!=n?n:l.nullContext||{},i=e.helperMissing,r=l.escapeExpression;return'                <p class="lsv-vote-header-desc" style="'+r((e.styleDescriptionV||n&&n.styleDescriptionV||i).call(u,null!=(a=null!=(a=null!=n?n.config:n)?a.header:a)?a.description:a,{name:"styleDescriptionV",hash:{},data:s}))+'">'+r((o=null!=(o=e.description||(null!=n?n.description:n))?o:i,"function"==typeof o?o.call(u,{name:"description",hash:{},data:s}):o))+"</p>\r\n"},3:function(l,n,e,t,s,a,o){var u;return null!=(u=e["if"].call(null!=n?n:l.nullContext||{},null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(4,s,0,a,o),inverse:l.program(18,s,0,a,o),data:s}))?u:""},4:function(l,n,e,t,s,a,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(5,s,0,a,o),inverse:l.noop,data:s}))?u:""},5:function(l,n,e,t,s,a,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression;return'                        <div class="lsv-vote-group" style="'+c((e.styleGroupV||n&&n.styleGroupV||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u,{name:"styleGroupV",hash:{},data:s}))+'">\r\n                            <div class="lsv-vote-group-title" style="'+c((e.styleGroupTitleV||n&&n.styleGroupTitleV||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u,{name:"styleGroupTitleV",hash:{},data:s}))+'">'+c(l.lambda(null!=n?n.content:n,n))+'</div>\r\n\r\n                            <div class="lsv-vote-question" style="'+c((e.styleQuestionV||n&&n.styleQuestionV||r).call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=(u=null!=n?n.questions:n)?u.length:u,{name:"if",hash:{},fn:l.program(6,s,0,a,o),inverse:l.program(16,s,0,a,o),data:s}))?u:"")+"                            </div>\r\n                        </div>\r\n"},6:function(l,n,e,t,s,a,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.questions:n,{name:"each",hash:{},fn:l.program(7,s,0,a,o),inverse:l.noop,data:s}))?u:""},7:function(l,n,e,t,s,a,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                                        <div class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:s}))+'">\r\n                                            <div class="lsv-vote-question-photo">\r\n                                                <img src="'+c(d(null!=n?n.image:n,n))+'" />\r\n                                            </div>\r\n                                            <label class="lsv-vote-question-content" style="'+c((e.styleQuestionButtonV||n&&n.styleQuestionButtonV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.button:u,{name:"styleQuestionButtonV",hash:{},data:s}))+c((e.borderV||n&&n.borderV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"borderV",hash:{},data:s}))+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionContentV",hash:{},data:s}))+'">\r\n                                                <input type="'+(null!=(u=e["if"].call(i,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(8,s,0,a,o),inverse:l.program(10,s,0,a,o),data:s}))?u:"")+'"\r\n                                                       data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                                       name="'+(null!=(u=e["if"].call(i,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(12,s,0,a,o),inverse:l.program(14,s,0,a,o),data:s}))?u:"")+'"\r\n                                                       id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                                <div class="lsv-vote-question-progress-container">\r\n                                                    <div class="lsv-vote-question-progress"></div>\r\n                                                </div>\r\n                                                <span class="lsv-vote-question-content-text">'+c(d(null!=n?n.content:n,n))+'</span>\r\n                                                <span class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'"></span>\r\n                                            </label>\r\n                                        </div>\r\n'},8:function(l,n,e,t,s){return"checkbox"},10:function(l,n,e,t,s){return"radio"},12:function(l,n,e,t,s){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=n?n.id:n,n))},14:function(l,n,e,t,s,a,o){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=o[1]?o[1].id:o[1],n))},16:function(l,n,e,t,s){return'                                    <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},18:function(l,n,e,t,s){return'                    <p class="lsv-vote-empty">Chưa có nhóm nào!</p>\r\n'},20:function(l,n,e,t,s,a,o){var u,i=null!=n?n:l.nullContext||{};return'                <div class="lsv-vote-question" style="'+l.escapeExpression((e.styleQuestionV||n&&n.styleQuestionV||e.helperMissing).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(i,null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(21,s,0,a,o),inverse:l.program(24,s,0,a,o),data:s}))?u:"")+"                </div>\r\n"},21:function(l,n,e,t,s,a,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(22,s,0,a,o),inverse:l.noop,data:s}))?u:""},22:function(l,n,e,t,s,a,o){var u,i=null!=n?n:l.nullContext||{},r=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                            <div class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:s}))+'">\r\n                                <div class="lsv-vote-question-photo">\r\n                                    <img src="'+c(d(null!=n?n.image:n,n))+'" />\r\n                                </div>\r\n                                <label class="lsv-vote-question-content" style="'+c((e.styleQuestionButtonV||n&&n.styleQuestionButtonV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.button:u,{name:"styleQuestionButtonV",hash:{},data:s}))+c((e.borderV||n&&n.borderV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"borderV",hash:{},data:s}))+c((e.styleQuestionContentV||n&&n.styleQuestionContentV||r).call(i,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionContentV",hash:{},data:s}))+'">\r\n                                    <input type="'+(null!=(u=e["if"].call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(8,s,0,a,o),inverse:l.program(10,s,0,a,o),data:s}))?u:"")+'"\r\n                                           data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                           name="'+(null!=(u=e["if"].call(i,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(12,s,0,a,o),inverse:l.program(14,s,0,a,o),data:s}))?u:"")+'"\r\n                                           id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                    <div class="lsv-vote-question-progress-container">\r\n                                        <div class="lsv-vote-question-progress"></div>\r\n                                    </div>\r\n                                    <span class="lsv-vote-question-content-text">'+c(d(null!=n?n.content:n,n))+'</span>\r\n                                    <span class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'"></span>\r\n                                </label>\r\n                            </div>\r\n'},24:function(l,n,e,t,s){return'                        <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,s,a,o){var u,i,r=null!=n?n:l.nullContext||{},c=e.helperMissing,d="function",v=l.escapeExpression,h=l.lambda;return'<div class="lsv-vote lsv-vote-theme-4" data-id="'+v((i=null!=(i=e.id||(null!=n?n.id:n))?i:c,typeof i===d?i.call(r,{name:"id",hash:{},data:s}):i))+'">\r\n    <div class="lsv-vote-main" style="'+v((e.styleMainV||n&&n.styleMainV||c).call(r,null!=(u=null!=n?n.config:n)?u.general:u,{name:"styleMainV",hash:{},data:s}))+'">\r\n        <div class="lsv-vote-header" style="'+v((e.styleHeaderV||n&&n.styleHeaderV||c).call(r,null!=(u=null!=n?n.config:n)?u.header:u,{name:"styleHeaderV",hash:{},data:s}))+'">\r\n            <h3 class="lsv-vote-header-title" style="'+v((e.styleTitleV||n&&n.styleTitleV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.header:u)?u.title:u,{name:"styleTitleV",hash:{},data:s}))+'">'+v((i=null!=(i=e.title||(null!=n?n.title:n))?i:c,typeof i===d?i.call(r,{name:"title",hash:{},data:s}):i))+"</h3>\r\n"+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isDescription:u,{name:"if",hash:{},fn:l.program(1,s,0,a,o),inverse:l.noop,data:s}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-body" style="'+v((e.styleBodyV||n&&n.styleBodyV||c).call(r,null!=(u=null!=n?n.config:n)?u.body:u,{name:"styleBodyV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(r,(e.and||n&&n.and||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.allowVoteGroup:u,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isVoteGroup:u,{name:"and",hash:{},data:s}),{name:"if",hash:{},fn:l.program(3,s,0,a,o),inverse:l.program(20,s,0,a,o),data:s}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-footer" style="'+v((e.styleFooterV||n&&n.styleFooterV||c).call(r,null!=(u=null!=n?n.config:n)?u.footer:u,{name:"styleFooterV",hash:{},data:s}))+'">\r\n            <button class="lsv-vote-footer-submit" style="'+v((e.styleSubmitV||n&&n.styleSubmitV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u,{name:"styleSubmitV",hash:{},data:s}))+'">'+v(h(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u)?u.content:u,n))+'</button>\r\n            <button class="lsv-vote-footer-result" style="'+v((e.styleResultV||n&&n.styleResultV||c).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u,{name:"styleResultV",hash:{},data:s}))+'">'+v(h(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u)?u.content:u,n))+"</button>\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0};
this.IMSPluginTemplate["lsv-embed"].vote_theme_5={1:function(l,n,e,t,s){var a,o,u=null!=n?n:l.nullContext||{},r=e.helperMissing,i=l.escapeExpression;return'                <p class="lsv-vote-header-desc" style="'+i((e.styleDescriptionV||n&&n.styleDescriptionV||r).call(u,null!=(a=null!=(a=null!=n?n.config:n)?a.header:a)?a.description:a,{name:"styleDescriptionV",hash:{},data:s}))+'">'+i((o=null!=(o=e.description||(null!=n?n.description:n))?o:r,"function"==typeof o?o.call(u,{name:"description",hash:{},data:s}):o))+"</p>\r\n"},3:function(l,n,e,t,s,a,o){var u;return null!=(u=e["if"].call(null!=n?n:l.nullContext||{},null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(4,s,0,a,o),inverse:l.program(18,s,0,a,o),data:s}))?u:""},4:function(l,n,e,t,s,a,o){var u;return null!=(u=e.each.call(null!=n?n:l.nullContext||{},null!=n?n.data:n,{name:"each",hash:{},fn:l.program(5,s,0,a,o),inverse:l.noop,data:s}))?u:""},5:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{},i=e.helperMissing,c=l.escapeExpression;return'                        <div class="lsv-vote-group" style="'+c((e.styleGroupV||n&&n.styleGroupV||i).call(r,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u,{name:"styleGroupV",hash:{},data:s}))+'">\r\n                            <div class="lsv-vote-group-title" style="'+c((e.styleGroupTitleV||n&&n.styleGroupTitleV||i).call(r,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.group:u,{name:"styleGroupTitleV",hash:{},data:s}))+'">'+c(l.lambda(null!=n?n.content:n,n))+'</div>\r\n\r\n                            <div class="lsv-vote-question" style="'+c((e.styleQuestionV||n&&n.styleQuestionV||i).call(r,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(r,null!=(u=null!=n?n.questions:n)?u.length:u,{name:"if",hash:{},fn:l.program(6,s,0,a,o),inverse:l.program(16,s,0,a,o),data:s}))?u:"")+"                            </div>\r\n                        </div>\r\n"},6:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{},i=e.helperMissing;return(null!=(u=(e.getArray||n&&n.getArray||i).call(r,null!=n?n.questions:n,0,{name:"getArray",hash:{},fn:l.program(7,s,0,a,o),inverse:l.noop,data:s}))?u:"")+'\r\n                                    <div class="lsv-vote-question-separator">\r\n                                        <div class="lsv-vote-question-vs">VS</div>\r\n                                    </div>\r\n\r\n'+(null!=(u=(e.getArray||n&&n.getArray||i).call(r,null!=n?n.questions:n,1,{name:"getArray",hash:{},fn:l.program(7,s,0,a,o),inverse:l.noop,data:s}))?u:"")},7:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{},i=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                                        <label class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||i).call(r,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:s}))+'">\r\n                                            <img src="'+c(d(null!=n?n.content:n,n))+'" />\r\n                                            <span class="lsv-vote-button" style="'+c((e.styleButtonV||n&&n.styleButtonV||i).call(r,null!=(u=null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.body:u)?u.question:u)?u.button:u,{name:"styleButtonV",hash:{},data:s}))+'">\r\n                                                <input type="'+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(8,s,0,a,o),inverse:l.program(10,s,0,a,o),data:s}))?u:"")+'"\r\n                                                       data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                                       name="'+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=o[2]?o[2].config:o[2])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(12,s,0,a,o),inverse:l.program(14,s,0,a,o),data:s}))?u:"")+'"\r\n                                                       id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                                <span class="lsv-vote-button-check"></span>\r\n                                            </span>\r\n                                            <div class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'">\r\n                                                <span class="lsv-vote-question-result-text"></span>\r\n                                                <div class="lsv-vote-question-progress"></div>\r\n                                            </div>\r\n                                        </label>\r\n'},8:function(l,n,e,t,s){return"checkbox"},10:function(l,n,e,t,s){return"radio"},12:function(l,n,e,t,s){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=n?n.id:n,n))},14:function(l,n,e,t,s,a,o){return"lsv-vote-"+l.escapeExpression(l.lambda(null!=o[1]?o[1].id:o[1],n))},16:function(l,n,e,t,s){return'                                    <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},18:function(l,n,e,t,s){return'                    <p class="lsv-vote-empty">Chưa có nhóm nào!</p>\r\n'},20:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{};return'                <div class="lsv-vote-question" style="'+l.escapeExpression((e.styleQuestionV||n&&n.styleQuestionV||e.helperMissing).call(r,null!=(u=null!=(u=null!=n?n.config:n)?u.body:u)?u.question:u,{name:"styleQuestionV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(r,null!=(u=null!=n?n.data:n)?u.length:u,{name:"if",hash:{},fn:l.program(21,s,0,a,o),inverse:l.program(24,s,0,a,o),data:s}))?u:"")+"                </div>\r\n"},21:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{},i=e.helperMissing;return(null!=(u=(e.getArray||n&&n.getArray||i).call(r,null!=n?n.data:n,0,{name:"getArray",hash:{},fn:l.program(22,s,0,a,o),inverse:l.noop,data:s}))?u:"")+'\r\n                        <div class="lsv-vote-question-separator">\r\n                            <div class="lsv-vote-question-vs">VS</div>\r\n                        </div>\r\n\r\n'+(null!=(u=(e.getArray||n&&n.getArray||i).call(r,null!=n?n.data:n,1,{name:"getArray",hash:{},fn:l.program(22,s,0,a,o),inverse:l.noop,data:s}))?u:"")},22:function(l,n,e,t,s,a,o){var u,r=null!=n?n:l.nullContext||{},i=e.helperMissing,c=l.escapeExpression,d=l.lambda;return'                            <label class="lsv-vote-question-item" style="'+c((e.styleQuestionItemV||n&&n.styleQuestionItemV||i).call(r,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.item:u,{name:"styleQuestionItemV",hash:{},data:s}))+'">\r\n                                <img src="'+c(d(null!=n?n.content:n,n))+'" />\r\n                                <span class="lsv-vote-button" style="'+c((e.styleButtonV||n&&n.styleButtonV||i).call(r,null!=(u=null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.body:u)?u.question:u)?u.button:u,{name:"styleButtonV",hash:{},data:s}))+'">\r\n                                    <input type="'+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(8,s,0,a,o),inverse:l.program(10,s,0,a,o),data:s}))?u:"")+'"\r\n                                           data-id="'+c(d(null!=n?n.id:n,n))+'" data-question-other="'+c(d(null!=n?n.isQuestionOther:n,n))+'"\r\n                                           name="'+(null!=(u=e["if"].call(r,null!=(u=null!=(u=null!=o[1]?o[1].config:o[1])?u.custom:u)?u.isMultiChoice:u,{name:"if",hash:{},fn:l.program(12,s,0,a,o),inverse:l.program(14,s,0,a,o),data:s}))?u:"")+'"\r\n                                           id="lsv-vote-'+c(d(null!=n?n.id:n,n))+'"/>\r\n                                    <span class="lsv-vote-button-check"></span>\r\n                                </span>\r\n                                <div class="lsv-vote-question-result" data-id="'+c(d(null!=n?n.id:n,n))+'">\r\n                                    <span class="lsv-vote-question-result-text"></span>\r\n                                    <div class="lsv-vote-question-progress"></div>\r\n                                </div>\r\n                            </label>\r\n'},24:function(l,n,e,t,s){return'                        <p class="lsv-vote-empty">Chưa có câu hỏi nào!</p>\r\n'},compiler:[7,">= 4.0.0"],main:function(l,n,e,t,s,a,o){var u,r,i=null!=n?n:l.nullContext||{},c=e.helperMissing,d="function",v=l.escapeExpression,h=l.lambda;return'<div class="lsv-vote lsv-vote-theme-5" data-id="'+v((r=null!=(r=e.id||(null!=n?n.id:n))?r:c,typeof r===d?r.call(i,{name:"id",hash:{},data:s}):r))+'">\r\n    <div class="lsv-vote-main" style="'+v((e.styleMainV||n&&n.styleMainV||c).call(i,null!=(u=null!=n?n.config:n)?u.general:u,{name:"styleMainV",hash:{},data:s}))+'">\r\n        <div class="lsv-vote-header" style="'+v((e.styleHeaderV||n&&n.styleHeaderV||c).call(i,null!=(u=null!=n?n.config:n)?u.header:u,{name:"styleHeaderV",hash:{},data:s}))+'">\r\n            <h3 class="lsv-vote-header-title" style="'+v((e.styleTitleV||n&&n.styleTitleV||c).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.header:u)?u.title:u,{name:"styleTitleV",hash:{},data:s}))+'">'+v((r=null!=(r=e.title||(null!=n?n.title:n))?r:c,typeof r===d?r.call(i,{name:"title",hash:{},data:s}):r))+"</h3>\r\n"+(null!=(u=e["if"].call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isDescription:u,{name:"if",hash:{},fn:l.program(1,s,0,a,o),inverse:l.noop,data:s}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-body" style="'+v((e.styleBodyV||n&&n.styleBodyV||c).call(i,null!=(u=null!=n?n.config:n)?u.body:u,{name:"styleBodyV",hash:{},data:s}))+'">\r\n'+(null!=(u=e["if"].call(i,(e.and||n&&n.and||c).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.allowVoteGroup:u,null!=(u=null!=(u=null!=n?n.config:n)?u.custom:u)?u.isVoteGroup:u,{name:"and",hash:{},data:s}),{name:"if",hash:{},fn:l.program(3,s,0,a,o),inverse:l.program(20,s,0,a,o),data:s}))?u:"")+'        </div>\r\n\r\n        <div class="lsv-vote-footer" style="'+v((e.styleFooterV||n&&n.styleFooterV||c).call(i,null!=(u=null!=n?n.config:n)?u.footer:u,{name:"styleFooterV",hash:{},data:s}))+'">\r\n            <button class="lsv-vote-footer-submit" style="'+v((e.styleSubmitV||n&&n.styleSubmitV||c).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u,{name:"styleSubmitV",hash:{},data:s}))+'">'+v(h(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.submit:u)?u.content:u,n))+'</button>\r\n            <button class="lsv-vote-footer-result" style="'+v((e.styleResultV||n&&n.styleResultV||c).call(i,null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u,{name:"styleResultV",hash:{},data:s}))+'">'+v(h(null!=(u=null!=(u=null!=(u=null!=n?n.config:n)?u.footer:u)?u.result:u)?u.content:u,n))+"</button>\r\n        </div>\r\n    </div>\r\n</div>"},useData:!0,useDepths:!0};