(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{166:function(t,e){},172:function(t,e){},208:function(t,e){},210:function(t,e){},220:function(t,e){},222:function(t,e){},249:function(t,e){},250:function(t,e){},255:function(t,e){},257:function(t,e){},264:function(t,e){},283:function(t,e){},328:function(t,e,n){},329:function(t,e,n){"use strict";n.r(e);var a=n(38),i=n(17),r=n.n(i),o=n(152),s=n.n(o),c=n(160),u=n(45),l=n(2),f=n(85),d=n.n(f),m=function(t,e,n){var a=function(t,e,n){var a={method:t,url:e,mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","X-Authorization":"XD3oIQj6LlmSPhOk0eYZP4n6hY8PoHekyFG1ogCuBt0YERZm9rODrdHpiAXCzUAt"}};return n&&n.data&&-1!==["PUT","POST","PATCH"].indexOf(t)&&(a.data=n.data),n&&n.params&&(a.params=n.params),a}(t,e,n);return"POST"===t?d.a.post(e,n.params).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return 401===t.status&&console.log("not authorized"),Promise.reject(t.response)})):d.a.request(a).then((function(t){return Promise.resolve(t.data)})).catch((function(t){return 401===t.status&&console.log("not authorized"),Promise.reject(t.response)}))},v=n(159),p=n.n(v);n(322);n(323),n(324),n(325),n(326),n(327);var h=function(t){var e=Object(i.useRef)(null),n=Object(i.useState)(null),r=Object(u.a)(n,2),o=r[0],s=r[1],f=Object(i.useState)(t.element.getAttribute("data-channel")),d=Object(u.a)(f,2),v=d[0],h=d[1],b=t.element.getAttribute("data-autoplay"),j=Object(i.useState)(),O=Object(u.a)(j,2),y=O[0],g=O[1],S=Object(i.useState)("U2FsdGVkX18PTN2AbfnBhUeKg0nj52WiFd7QYB77+sxy8ZgwVUlx/ScJgiAvX4p62vKPkldsyPS4BByoZ70IyQ=="),P=Object(u.a)(S,1)[0];return Object(i.useEffect)((function(){if(v){var t={ssid:P,time:Date.now()},e=p.a.AES.encrypt(JSON.stringify(t),v).toString();m("POST","https://stream-api.vtvdigital.vn/api/v1/get-stream",{params:{channel:v,vssid:e}}).then((function(t){if(t.success){var e={autoplay:"true"===b,controls:!0,poster:t.data.thumbs,playsinline:!0,volume:0,plugins:{hlsQualitySelector:{default:"auto",displayCurrentQuality:!0}},ima:t.data.tag_dfp,html5:{nativeControlsForTouch:!1,nativeAudioTracks:!1,nativeVideoTracks:!1,hls:{limitRenditionByPlayerDimensions:!1,smoothQualityChange:!0,overrideNative:!0}},sources:[{src:t.data.stream,type:"application/x-mpegURL"}]},n="16:9";e=Object(c.a)({aspectRatio:n},e),s(e)}}))}}),[b,v]),Object(i.useEffect)((function(){if(o)if(y){y.src(o.sources),y.poster(o.poster),y.play(),y.volume(.1);var t=10,n=setInterval((function(){y.volume(t/100),t>90&&clearInterval(n),t++}),20);y.ima.changeAdTag(o.ima),y.ima.requestAds()}else{var a=Object(l.a)(e.current,o);a.ready((function(){var t=this;"true"===b&&this.play(),this.volume(.1);var e=10,n=setInterval((function(){t.volume(e/100),e>90&&clearInterval(n),e++}),20)})),e.current&&g(a),a.ima({adTagUrl:o.ima})}return function(){}}),[o,e]),Object(i.useEffect)((function(){var e=new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"data-channel"===e.attributeName&&h(t.element.getAttribute("data-channel"))}))}));return e.observe(t.element,{attributes:!0}),function(){y&&y.dispose(),e.disconnect()}}),[t.element]),Object(a.jsx)("div",{className:"PlayerLive",children:Object(a.jsx)("video",{ref:e,className:"video-js vjs-fluid vjs-default-skin w100"})})};n(328);window.VTVPlayerJS={init:function(t){s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(h,{element:t})}),t)}}}},[[329,1,2]]]);